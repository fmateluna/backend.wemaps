import{$ as ot,$a as V,$b as oh,A as Dc,Aa as Nn,Ab as Qr,B as Sc,Ba as Fn,Bb as Go,C as Ic,Ca as Vo,Cb as qo,D as Ze,Da as Vn,Db as en,E as Tc,Ea as K,Eb as ts,F as Xi,Fa as xt,Fb as Kc,G as di,Ga as Zr,Gb as Yc,H as Mc,Ha as zc,Hb as me,I as Ao,Ia as Hr,Ib as Xc,J as ii,Ja as $r,Jb as Jc,K as Pc,Ka as zo,Kb as nn,L as Si,La as St,Lb as Ko,M as ui,Ma as Bo,Mb as Qc,N as ko,Na as Wr,Nb as th,O as Rc,Oa as tn,Ob as Ri,P as Ac,Pa as Ti,Pb as eh,Q as kc,Qa as Bc,Qb as ih,R as Ji,Ra as jo,Rb as zt,S as he,Sa as zn,Sb as nh,T as Ii,Ta as Gt,Tb as Un,U as ee,Ua as We,Ub as rh,V as Vt,Va as pt,Vb as es,W as fi,Wa as Gr,Wb as Zn,X as Oo,Xa as Mi,Xb as is,Y as W,Ya as jc,Yb as sh,Z as Mt,Za as Uo,Zb as ns,_ as Oc,_a as F,_b as rs,a as M,aa as Lo,ab as Nt,ac as ah,b as $t,ba as k,bb as we,bc as lh,ca as R,cb as Ft,cc as ch,d as wc,da as No,db as ft,dc as ss,e as Cc,ea as Lc,eb as qr,ec as hh,f as Do,fa as kn,fb as Bn,fc as os,g as ti,ga as Pe,gb as jn,h as xc,ha as oe,hb as Uc,i as ei,ia as Pt,ib as bt,j as So,ja as ye,jb as Kr,k as Io,ka as Qi,kb as Fe,l as vt,la as Nc,lb as Zc,m as _e,ma as He,mb as Zo,n as To,na as $e,nb as Ho,o as hi,oa as ni,ob as $o,p as se,pa as Et,pb as Pi,q as $,qa as Dt,qb as pi,r as An,ra as On,rb as Hc,s as Mo,sa as Ur,sb as $c,t as Ec,ta as Fo,tb as Wc,u as lt,ua as be,ub as Gc,v as Yi,va as pe,vb as Yr,w as ve,wa as Fc,wb as qc,x as Po,xa as Ln,xb as Xr,y as jr,ya as Vc,yb as Jr,z as Ro,za as ri,zb as Wo}from"./chunk-23MJBYUD.js";var vu=wc((_l,vl)=>{"use strict";((i,n)=>{typeof define=="function"&&define.amd?define([],n):typeof vl=="object"&&typeof _l<"u"?vl.exports=n():i.Papa=n()})(_l,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},e,s=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,l={},h=0,u={};function p(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(y){var x=Tt(y);x.chunkSize=parseInt(x.chunkSize),y.step||y.chunk||(x.chunkSize=null),this._handle=new j(x),(this._handle.streamer=this)._config=x}.call(this,_),this.parseChunk=function(y,x){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let st=this._config.newline;st||(S=this._config.quoteChar||'"',st=this._handle.guessLineEndings(y,S)),y=[...y.split(st).slice(D)].join(st)}this.isFirstChunk&&gt(this._config.beforeFirstChunk)&&(S=this._config.beforeFirstChunk(y))!==void 0&&(y=S),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+y,S=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=S.meta.cursor,D=(this._finished||(this._partialLine=D.substring(y-this._baseIndex),this._baseIndex=y),S&&S.data&&(this._rowCount+=S.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:S,workerId:u.WORKER_ID,finished:D});else if(gt(this._config.chunk)&&!x){if(this._config.chunk(S,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=S=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(S.data),this._completeResults.errors=this._completeResults.errors.concat(S.errors),this._completeResults.meta=S.meta),this._completed||!D||!gt(this._config.complete)||S&&S.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||S&&S.meta.paused||this._nextChunk(),S}this._halted=!0},this._sendError=function(y){gt(this._config.error)?this._config.error(y):o&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:y,finished:!1})}}function g(_){var y;(_=_||{}).chunkSize||(_.chunkSize=u.RemoteChunkSize),p.call(this,_),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),s||(y.onload=Xt(this._chunkLoaded,this),y.onerror=Xt(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var x,D=this._config.downloadRequestHeaders;for(x in D)y.setRequestHeader(x,D[x])}var S;this._config.chunkSize&&(S=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+S));try{y.send(this._config.downloadRequestBody)}catch(st){this._chunkError(st.message)}s&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(x){x=y.statusText||x,this._sendError(new Error(x))}}function w(_){(_=_||{}).chunkSize||(_.chunkSize=u.LocalChunkSize),p.call(this,_);var y,x,D=typeof FileReader<"u";this.stream=function(S){this._input=S,x=S.slice||S.webkitSlice||S.mozSlice,D?((y=new FileReader).onload=Xt(this._chunkLoaded,this),y.onerror=Xt(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input,st=(this._config.chunkSize&&(st=Math.min(this._start+this._config.chunkSize,this._input.size),S=x.call(S,this._start,st)),y.readAsText(S,this._config.encoding));D||this._chunkLoaded({target:{result:st}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(y.error)}}function E(_){var y;p.call(this,_=_||{}),this.stream=function(x){return y=x,this._nextChunk()},this._nextChunk=function(){var x,D;if(!this._finished)return x=this._config.chunkSize,y=x?(D=y.substring(0,x),y.substring(x)):(D=y,""),this._finished=!y,this.parseChunk(D)}}function z(_){p.call(this,_=_||{});var y=[],x=!0,D=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):x=!0},this._streamData=Xt(function(S){try{y.push(typeof S=="string"?S:S.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(st){this._streamError(st)}},this),this._streamError=Xt(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=Xt(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=Xt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(_){var y,x,D,S,st=Math.pow(2,53),Ct=-st,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Rt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,P=0,G=0,O=!1,A=!1,U=[],T={data:[],errors:[],meta:{}};function it(X){return _.skipEmptyLines==="greedy"?X.join("").trim()==="":X.length===1&&X[0].length===0}function Z(){if(T&&D&&(jt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),_.skipEmptyLines&&(T.data=T.data.filter(function(yt){return!it(yt)})),B()){let yt=function(Ut,kt){gt(_.transformHeader)&&(Ut=_.transformHeader(Ut,kt)),U.push(Ut)};var tt=yt;if(T)if(Array.isArray(T.data[0])){for(var X=0;B()&&X<T.data.length;X++)T.data[X].forEach(yt);T.data.splice(0,1)}else T.data.forEach(yt)}function dt(yt,Ut){for(var kt=_.header?{}:[],_t=0;_t<yt.length;_t++){var nt=_t,qt=yt[_t],qt=((ct,Ot)=>(Zt=>(_.dynamicTypingFunction&&_.dynamicTyping[Zt]===void 0&&(_.dynamicTyping[Zt]=_.dynamicTypingFunction(Zt)),(_.dynamicTyping[Zt]||_.dynamicTyping)===!0))(ct)?Ot==="true"||Ot==="TRUE"||Ot!=="false"&&Ot!=="FALSE"&&((Zt=>{if(ue.test(Zt)&&(Zt=parseFloat(Zt),Ct<Zt&&Zt<st))return 1})(Ot)?parseFloat(Ot):Rt.test(Ot)?new Date(Ot):Ot===""?null:Ot):Ot)(nt=_.header?_t>=U.length?"__parsed_extra":U[_t]:nt,qt=_.transform?_.transform(qt,nt):qt);nt==="__parsed_extra"?(kt[nt]=kt[nt]||[],kt[nt].push(qt)):kt[nt]=qt}return _.header&&(_t>U.length?jt("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+_t,G+Ut):_t<U.length&&jt("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+_t,G+Ut)),kt}var At;T&&(_.header||_.dynamicTyping||_.transform)&&(At=1,!T.data.length||Array.isArray(T.data[0])?(T.data=T.data.map(dt),At=T.data.length):T.data=dt(T.data,0),_.header&&T.meta&&(T.meta.fields=U),G+=At)}function B(){return _.header&&U.length===0}function jt(X,dt,At,tt){X={type:X,code:dt,message:At},tt!==void 0&&(X.row=tt),T.errors.push(X)}gt(_.step)&&(S=_.step,_.step=function(X){T=X,B()?Z():(Z(),T.data.length!==0&&(P+=X.data.length,_.preview&&P>_.preview?x.abort():(T.data=T.data[0],S(T,J))))}),this.parse=function(X,dt,At){var tt=_.quoteChar||'"',tt=(_.newline||(_.newline=this.guessLineEndings(X,tt)),D=!1,_.delimiter?gt(_.delimiter)&&(_.delimiter=_.delimiter(X),T.meta.delimiter=_.delimiter):((tt=((yt,Ut,kt,_t,nt)=>{var qt,ct,Ot,Zt;nt=nt||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ve=0;Ve<nt.length;Ve++){for(var ge,oi=nt[Ve],Qt=0,Ee=0,Ht=0,ne=(Ot=void 0,new Y({comments:_t,delimiter:oi,newline:Ut,preview:10}).parse(yt)),De=0;De<ne.data.length;De++)kt&&it(ne.data[De])?Ht++:(ge=ne.data[De].length,Ee+=ge,Ot===void 0?Ot=ge:0<ge&&(Qt+=Math.abs(ge-Ot),Ot=ge));0<ne.data.length&&(Ee/=ne.data.length-Ht),(ct===void 0||Qt<=ct)&&(Zt===void 0||Zt<Ee)&&1.99<Ee&&(ct=Qt,qt=oi,Zt=Ee)}return{successful:!!(_.delimiter=qt),bestDelimiter:qt}})(X,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=tt.bestDelimiter:(D=!0,_.delimiter=u.DefaultDelimiter),T.meta.delimiter=_.delimiter),Tt(_));return _.preview&&_.header&&tt.preview++,y=X,x=new Y(tt),T=x.parse(y,dt,At),Z(),O?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,x.abort(),y=gt(_.chunk)?"":y.substring(x.getCharIndex())},this.resume=function(){J.streamer._halted?(O=!1,J.streamer.parseChunk(y,!0)):setTimeout(J.resume,3)},this.aborted=function(){return A},this.abort=function(){A=!0,x.abort(),T.meta.aborted=!0,gt(_.complete)&&_.complete(T),y=""},this.guessLineEndings=function(yt,tt){yt=yt.substring(0,1048576);var tt=new RegExp(It(tt)+"([^]*?)"+It(tt),"gm"),At=(yt=yt.replace(tt,"")).split("\r"),tt=yt.split(`
`),yt=1<tt.length&&tt[0].length<At[0].length;if(At.length===1||yt)return`
`;for(var Ut=0,kt=0;kt<At.length;kt++)At[kt][0]===`
`&&Ut++;return Ut>=At.length/2?`\r
`:"\r"}}function It(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y(_){var y=(_=_||{}).delimiter,x=_.newline,D=_.comments,S=_.step,st=_.preview,Ct=_.fastMode,ue=null,Rt=!1,J=_.quoteChar==null?'"':_.quoteChar,P=J;if(_.escapeChar!==void 0&&(P=_.escapeChar),(typeof y!="string"||-1<u.BAD_DELIMITERS.indexOf(y))&&(y=","),D===y)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var G=0,O=!1;this.parse=function(A,U,T){if(typeof A!="string")throw new Error("Input must be a string");var it=A.length,Z=y.length,B=x.length,jt=D.length,X=gt(S),dt=[],At=[],tt=[],yt=G=0;if(!A)return Qt();if(Ct||Ct!==!1&&A.indexOf(J)===-1){for(var Ut=A.split(x),kt=0;kt<Ut.length;kt++){if(tt=Ut[kt],G+=tt.length,kt!==Ut.length-1)G+=x.length;else if(T)return Qt();if(!D||tt.substring(0,jt)!==D){if(X){if(dt=[],Zt(tt.split(y)),Ee(),O)return Qt()}else Zt(tt.split(y));if(st&&st<=kt)return dt=dt.slice(0,st),Qt(!0)}}return Qt()}for(var _t=A.indexOf(y,G),nt=A.indexOf(x,G),qt=new RegExp(It(P)+It(J),"g"),ct=A.indexOf(J,G);;)if(A[G]===J)for(ct=G,G++;;){if((ct=A.indexOf(J,ct+1))===-1)return T||At.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:dt.length,index:G}),ge();if(ct===it-1)return ge(A.substring(G,ct).replace(qt,J));if(J===P&&A[ct+1]===P)ct++;else if(J===P||ct===0||A[ct-1]!==P){_t!==-1&&_t<ct+1&&(_t=A.indexOf(y,ct+1));var Ot=Ve((nt=nt!==-1&&nt<ct+1?A.indexOf(x,ct+1):nt)===-1?_t:Math.min(_t,nt));if(A.substr(ct+1+Ot,Z)===y){tt.push(A.substring(G,ct).replace(qt,J)),A[G=ct+1+Ot+Z]!==J&&(ct=A.indexOf(J,G)),_t=A.indexOf(y,G),nt=A.indexOf(x,G);break}if(Ot=Ve(nt),A.substring(ct+1+Ot,ct+1+Ot+B)===x){if(tt.push(A.substring(G,ct).replace(qt,J)),oi(ct+1+Ot+B),_t=A.indexOf(y,G),ct=A.indexOf(J,G),X&&(Ee(),O))return Qt();if(st&&dt.length>=st)return Qt(!0);break}At.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:dt.length,index:G}),ct++}}else if(D&&tt.length===0&&A.substring(G,G+jt)===D){if(nt===-1)return Qt();G=nt+B,nt=A.indexOf(x,G),_t=A.indexOf(y,G)}else if(_t!==-1&&(_t<nt||nt===-1))tt.push(A.substring(G,_t)),G=_t+Z,_t=A.indexOf(y,G);else{if(nt===-1)break;if(tt.push(A.substring(G,nt)),oi(nt+B),X&&(Ee(),O))return Qt();if(st&&dt.length>=st)return Qt(!0)}return ge();function Zt(Ht){dt.push(Ht),yt=G}function Ve(Ht){var ne=0;return ne=Ht!==-1&&(Ht=A.substring(ct+1,Ht))&&Ht.trim()===""?Ht.length:ne}function ge(Ht){return T||(Ht===void 0&&(Ht=A.substring(G)),tt.push(Ht),G=it,Zt(tt),X&&Ee()),Qt()}function oi(Ht){G=Ht,Zt(tt),tt=[],nt=A.indexOf(x,G)}function Qt(Ht){if(_.header&&!U&&dt.length&&!Rt){var ne=dt[0],De={},_n=new Set(ne);let vn=!1;for(let Ke=0;Ke<ne.length;Ke++){let Se=ne[Ke];if(De[Se=gt(_.transformHeader)?_.transformHeader(Se,Ke):Se]){let ai,Bi=De[Se];for(;ai=Se+"_"+Bi,Bi++,_n.has(ai););_n.add(ai),ne[Ke]=ai,De[Se]++,vn=!0,(ue=ue===null?{}:ue)[ai]=Se}else De[Se]=1,ne[Ke]=Se;_n.add(Se)}vn&&console.warn("Duplicate headers found and renamed."),Rt=!0}return{data:dt,errors:At,meta:{delimiter:y,linebreak:x,aborted:O,truncated:!!Ht,cursor:yt+(U||0),renamedHeaders:ue}}}function Ee(){S(Qt()),dt=[],At=[]}},this.abort=function(){O=!0},this.getCharIndex=function(){return G}}function q(_){var y=_.data,x=l[y.workerId],D=!1;if(y.error)x.userError(y.error,y.file);else if(y.results&&y.results.data){var S={abort:function(){D=!0,ht(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:le,resume:le};if(gt(x.userStep)){for(var st=0;st<y.results.data.length&&(x.userStep({data:y.results.data[st],errors:y.results.errors,meta:y.results.meta},S),!D);st++);delete y.results}else gt(x.userChunk)&&(x.userChunk(y.results,S,y.file),delete y.results)}y.finished&&!D&&ht(y.workerId,y.results)}function ht(_,y){var x=l[_];gt(x.userComplete)&&x.userComplete(y),x.terminate(),delete l[_]}function le(){throw new Error("Not implemented.")}function Tt(_){if(typeof _!="object"||_===null)return _;var y,x=Array.isArray(_)?[]:{};for(y in _)x[y]=Tt(_[y]);return x}function Xt(_,y){return function(){_.apply(y,arguments)}}function gt(_){return typeof _=="function"}return u.parse=function(_,y){var x=(y=y||{}).dynamicTyping||!1;if(gt(x)&&(y.dynamicTypingFunction=x,x={}),y.dynamicTyping=x,y.transform=!!gt(y.transform)&&y.transform,!y.worker||!u.WORKERS_SUPPORTED)return x=null,u.NODE_STREAM_INPUT,typeof _=="string"?(_=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(_),x=new(y.download?g:E)(y)):_.readable===!0&&gt(_.read)&&gt(_.on)?x=new z(y):(n.File&&_ instanceof File||_ instanceof Object)&&(x=new w(y)),x.stream(_);(x=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var S=n.URL||n.webkitURL||null,st=i.toString();return u.BLOB_URL||(u.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",st,")();"],{type:"text/javascript"})))})(),(D=new n.Worker(D)).onmessage=q,D.id=h++,l[D.id]=D)})()).userStep=y.step,x.userChunk=y.chunk,x.userComplete=y.complete,x.userError=y.error,y.step=gt(y.step),y.chunk=gt(y.chunk),y.complete=gt(y.complete),y.error=gt(y.error),delete y.worker,x.postMessage({input:_,config:y,workerId:x.id})},u.unparse=function(_,y){var x=!1,D=!0,S=",",st=`\r
`,Ct='"',ue=Ct+Ct,Rt=!1,J=null,P=!1,G=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||u.BAD_DELIMITERS.filter(function(U){return y.delimiter.indexOf(U)!==-1}).length||(S=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(x=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(Rt=y.skipEmptyLines),typeof y.newline=="string"&&(st=y.newline),typeof y.quoteChar=="string"&&(Ct=y.quoteChar),typeof y.header=="boolean"&&(D=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");J=y.columns}y.escapeChar!==void 0&&(ue=y.escapeChar+Ct),y.escapeFormulae instanceof RegExp?P=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(P=/^[=+\-@\t\r].*$/)}})(),new RegExp(It(Ct),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return O(null,_,Rt);if(typeof _[0]=="object")return O(J||Object.keys(_[0]),_,Rt)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||J),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),O(_.fields||[],_.data||[],Rt);throw new Error("Unable to serialize unrecognized input");function O(U,T,it){var Z="",B=(typeof U=="string"&&(U=JSON.parse(U)),typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(U)&&0<U.length),jt=!Array.isArray(T[0]);if(B&&D){for(var X=0;X<U.length;X++)0<X&&(Z+=S),Z+=A(U[X],X);0<T.length&&(Z+=st)}for(var dt=0;dt<T.length;dt++){var At=(B?U:T[dt]).length,tt=!1,yt=B?Object.keys(T[dt]).length===0:T[dt].length===0;if(it&&!B&&(tt=it==="greedy"?T[dt].join("").trim()==="":T[dt].length===1&&T[dt][0].length===0),it==="greedy"&&B){for(var Ut=[],kt=0;kt<At;kt++){var _t=jt?U[kt]:kt;Ut.push(T[dt][_t])}tt=Ut.join("").trim()===""}if(!tt){for(var nt=0;nt<At;nt++){0<nt&&!yt&&(Z+=S);var qt=B&&jt?U[nt]:nt;Z+=A(T[dt][qt],nt)}dt<T.length-1&&(!it||0<At&&!yt)&&(Z+=st)}}return Z}function A(U,T){var it,Z;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(Z=!1,P&&typeof U=="string"&&P.test(U)&&(U="'"+U,Z=!0),it=U.toString().replace(G,ue),(Z=Z||x===!0||typeof x=="function"&&x(U,T)||Array.isArray(x)&&x[T]||((B,jt)=>{for(var X=0;X<jt.length;X++)if(-1<B.indexOf(jt[X]))return!0;return!1})(it,u.BAD_DELIMITERS)||-1<it.indexOf(S)||it.charAt(0)===" "||it.charAt(it.length-1)===" ")?Ct+it+Ct:it)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=Y,u.ParserHandle=j,u.NetworkStreamer=g,u.FileStreamer=w,u.StringStreamer=E,u.ReadableStreamStreamer=z,n.jQuery&&((e=n.jQuery).fn.parse=function(_){var y=_.config||{},x=[];return this.each(function(st){if(!(e(this).prop("tagName").toUpperCase()==="INPUT"&&e(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Ct=0;Ct<this.files.length;Ct++)x.push({file:this.files[Ct],inputElem:this,instanceConfig:e.extend({},y)})}),D(),this;function D(){if(x.length===0)gt(_.complete)&&_.complete();else{var st,Ct,ue,Rt,J=x[0];if(gt(_.before)){var P=_.before(J.file,J.inputElem);if(typeof P=="object"){if(P.action==="abort")return st="AbortError",Ct=J.file,ue=J.inputElem,Rt=P.reason,void(gt(_.error)&&_.error({name:st},Ct,ue,Rt));if(P.action==="skip")return void S();typeof P.config=="object"&&(J.instanceConfig=e.extend(J.instanceConfig,P.config))}else if(P==="skip")return void S()}var G=J.instanceConfig.complete;J.instanceConfig.complete=function(O){gt(G)&&G(O,J.file,J.inputElem),S()},u.parse(J.file,J.instanceConfig)}}function S(){x.splice(0,1),D()}}),o&&(n.onmessage=function(_){_=_.data,u.WORKER_ID===void 0&&_&&(u.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=u.parse(_.input,_.config))&&n.postMessage({workerId:u.WORKER_ID,results:_,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(w.prototype=Object.create(p.prototype)).constructor=w,(E.prototype=Object.create(E.prototype)).constructor=E,(z.prototype=Object.create(p.prototype)).constructor=z,u})});var Au=wc((Ys,Ru)=>{"use strict";(function(i,n){typeof Ys=="object"&&typeof Ru<"u"?n(Ys):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.leaflet={}))})(Ys,function(i){"use strict";var n="1.9.4";function e(t){var r,a,c,d;for(a=1,c=arguments.length;a<c;a++){d=arguments[a];for(r in d)t[r]=d[r]}return t}var s=Object.create||function(){function t(){}return function(r){return t.prototype=r,new t}}();function o(t,r){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var c=a.call(arguments,2);return function(){return t.apply(r,c.length?c.concat(a.call(arguments)):arguments)}}var l=0;function h(t){return"_leaflet_id"in t||(t._leaflet_id=++l),t._leaflet_id}function u(t,r,a){var c,d,f,m;return m=function(){c=!1,d&&(f.apply(a,d),d=!1)},f=function(){c?d=arguments:(t.apply(a,arguments),setTimeout(m,r),c=!0)},f}function p(t,r,a){var c=r[1],d=r[0],f=c-d;return t===c&&a?t:((t-d)%f+f)%f+d}function g(){return!1}function w(t,r){if(r===!1)return t;var a=Math.pow(10,r===void 0?6:r);return Math.round(t*a)/a}function E(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return E(t).split(/\s+/)}function j(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?s(t.options):{});for(var a in r)t.options[a]=r[a];return t.options}function It(t,r,a){var c=[];for(var d in t)c.push(encodeURIComponent(a?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function q(t,r){return t.replace(Y,function(a,c){var d=r[c];if(d===void 0)throw new Error("No value provided for variable "+a);return typeof d=="function"&&(d=d(r)),d})}var ht=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function le(t,r){for(var a=0;a<t.length;a++)if(t[a]===r)return a;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Xt(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var gt=0;function _(t){var r=+new Date,a=Math.max(0,16-(r-gt));return gt=r+a,window.setTimeout(t,a)}var y=window.requestAnimationFrame||Xt("RequestAnimationFrame")||_,x=window.cancelAnimationFrame||Xt("CancelAnimationFrame")||Xt("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function D(t,r,a){if(a&&y===_)t.call(r);else return y.call(window,o(t,r))}function S(t){t&&x.call(window,t)}var st={__proto__:null,extend:e,create:s,bind:o,get lastId(){return l},stamp:h,throttle:u,wrapNum:p,falseFn:g,formatNum:w,trim:E,splitWords:z,setOptions:j,getParamString:It,template:q,isArray:ht,indexOf:le,emptyImageUrl:Tt,requestFn:y,cancelFn:x,requestAnimFrame:D,cancelAnimFrame:S};function Ct(){}Ct.extend=function(t){var r=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,c=s(a);c.constructor=r,r.prototype=c;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return t.statics&&e(r,t.statics),t.includes&&(ue(t.includes),e.apply(null,[c].concat(t.includes))),e(c,t),delete c.statics,delete c.includes,c.options&&(c.options=a.options?s(a.options):{},e(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,m=c._initHooks.length;f<m;f++)c._initHooks[f].call(this)}},r},Ct.include=function(t){var r=this.prototype.options;return e(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},Ct.mergeOptions=function(t){return e(this.prototype.options,t),this},Ct.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function ue(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=ht(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Rt={on:function(t,r,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],r);else{t=z(t);for(var d=0,f=t.length;d<f;d++)this._on(t[d],r,a)}return this},off:function(t,r,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var c in t)this._off(c,t[c],r);else{t=z(t);for(var d=arguments.length===1,f=0,m=t.length;f<m;f++)d?this._off(t[f]):this._off(t[f],r,a)}return this},_on:function(t,r,a,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,a)===!1){a===this&&(a=void 0);var d={fn:r,ctx:a};c&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,r,a){var c,d,f;if(this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(d=0,f=c.length;d<f;d++)c[d].fn=g;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var m=this._listens(t,r,a);if(m!==!1){var v=c[m];this._firingCount&&(v.fn=g,this._events[t]=c=c.slice()),c.splice(m,1)}}},fire:function(t,r,a){if(!this.listens(t,a))return this;var c=e({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var f=0,m=d.length;f<m;f++){var v=d[f],b=v.fn;v.once&&this.off(t,b,v.ctx),b.call(v.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(t,r,a,c){typeof t!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(c=!!r,d=void 0,a=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,d,a)!==!1)return!0;if(c){for(var m in this._eventParents)if(this._eventParents[m].listens(t,r,a,c))return!0}return!1},_listens:function(t,r,a){if(!this._events)return!1;var c=this._events[t]||[];if(!r)return!!c.length;a===this&&(a=void 0);for(var d=0,f=c.length;d<f;d++)if(c[d].fn===r&&c[d].ctx===a)return d;return!1},once:function(t,r,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],r,!0);else{t=z(t);for(var d=0,f=t.length;d<f;d++)this._on(t[d],r,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[h(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[h(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};Rt.addEventListener=Rt.on,Rt.removeEventListener=Rt.clearAllEventListeners=Rt.off,Rt.addOneTimeEventListener=Rt.once,Rt.fireEvent=Rt.fire,Rt.hasEventListeners=Rt.listens;var J=Ct.extend(Rt);function P(t,r,a){this.x=a?Math.round(t):t,this.y=a?Math.round(r):r}var G=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};P.prototype={clone:function(){return new P(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new P(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new P(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(t){t=O(t);var r=t.x-this.x,a=t.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(t){return t=O(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function O(t,r,a){return t instanceof P?t:ht(t)?new P(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new P(t.x,t.y):new P(t,r,a)}function A(t,r){if(t)for(var a=r?[t,r]:t,c=0,d=a.length;c<d;c++)this.extend(a[c])}A.prototype={extend:function(t){var r,a;if(!t)return this;if(t instanceof P||typeof t[0]=="number"||"x"in t)r=a=O(t);else if(t=U(t),r=t.min,a=t.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,a;return typeof t[0]=="number"||t instanceof P?t=O(t):t=U(t),t instanceof A?(r=t.min,a=t.max):r=a=t,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=U(t);var r=this.min,a=this.max,c=t.min,d=t.max,f=d.x>=r.x&&c.x<=a.x,m=d.y>=r.y&&c.y<=a.y;return f&&m},overlaps:function(t){t=U(t);var r=this.min,a=this.max,c=t.min,d=t.max,f=d.x>r.x&&c.x<a.x,m=d.y>r.y&&c.y<a.y;return f&&m},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,a=this.max,c=Math.abs(r.x-a.x)*t,d=Math.abs(r.y-a.y)*t;return U(O(r.x-c,r.y-d),O(a.x+c,a.y+d))},equals:function(t){return t?(t=U(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function U(t,r){return!t||t instanceof A?t:new A(t,r)}function T(t,r){if(t)for(var a=r?[t,r]:t,c=0,d=a.length;c<d;c++)this.extend(a[c])}T.prototype={extend:function(t){var r=this._southWest,a=this._northEast,c,d;if(t instanceof Z)c=t,d=t;else if(t instanceof T){if(c=t._southWest,d=t._northEast,!c||!d)return this}else return t?this.extend(B(t)||it(t)):this;return!r&&!a?(this._southWest=new Z(c.lat,c.lng),this._northEast=new Z(d.lat,d.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),a.lat=Math.max(d.lat,a.lat),a.lng=Math.max(d.lng,a.lng)),this},pad:function(t){var r=this._southWest,a=this._northEast,c=Math.abs(r.lat-a.lat)*t,d=Math.abs(r.lng-a.lng)*t;return new T(new Z(r.lat-c,r.lng-d),new Z(a.lat+c,a.lng+d))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Z||"lat"in t?t=B(t):t=it(t);var r=this._southWest,a=this._northEast,c,d;return t instanceof T?(c=t.getSouthWest(),d=t.getNorthEast()):c=d=t,c.lat>=r.lat&&d.lat<=a.lat&&c.lng>=r.lng&&d.lng<=a.lng},intersects:function(t){t=it(t);var r=this._southWest,a=this._northEast,c=t.getSouthWest(),d=t.getNorthEast(),f=d.lat>=r.lat&&c.lat<=a.lat,m=d.lng>=r.lng&&c.lng<=a.lng;return f&&m},overlaps:function(t){t=it(t);var r=this._southWest,a=this._northEast,c=t.getSouthWest(),d=t.getNorthEast(),f=d.lat>r.lat&&c.lat<a.lat,m=d.lng>r.lng&&c.lng<a.lng;return f&&m},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=it(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function it(t,r){return t instanceof T?t:new T(t,r)}function Z(t,r,a){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,a!==void 0&&(this.alt=+a)}Z.prototype={equals:function(t,r){if(!t)return!1;t=B(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+w(this.lat,t)+", "+w(this.lng,t)+")"},distanceTo:function(t){return X.distance(this,B(t))},wrap:function(){return X.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,a=r/Math.cos(Math.PI/180*this.lat);return it([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function B(t,r,a){return t instanceof Z?t:ht(t)&&typeof t[0]!="object"?t.length===3?new Z(t[0],t[1],t[2]):t.length===2?new Z(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Z(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new Z(t,r,a)}var jt={latLngToPoint:function(t,r){var a=this.projection.project(t),c=this.scale(r);return this.transformation._transform(a,c)},pointToLatLng:function(t,r){var a=this.scale(r),c=this.transformation.untransform(t,a);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(t),c=this.transformation.transform(r.min,a),d=this.transformation.transform(r.max,a);return new A(c,d)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?p(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?p(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new Z(a,r,c)},wrapLatLngBounds:function(t){var r=t.getCenter(),a=this.wrapLatLng(r),c=r.lat-a.lat,d=r.lng-a.lng;if(c===0&&d===0)return t;var f=t.getSouthWest(),m=t.getNorthEast(),v=new Z(f.lat-c,f.lng-d),b=new Z(m.lat-c,m.lng-d);return new T(v,b)}},X=e({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var a=Math.PI/180,c=t.lat*a,d=r.lat*a,f=Math.sin((r.lat-t.lat)*a/2),m=Math.sin((r.lng-t.lng)*a/2),v=f*f+Math.cos(c)*Math.cos(d)*m*m,b=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*b}}),dt=6378137,At={R:dt,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,t.lat),-a),d=Math.sin(c*r);return new P(this.R*t.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var r=180/Math.PI;return new Z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:function(){var t=dt*Math.PI;return new A([-t,-t],[t,t])}()};function tt(t,r,a,c){if(ht(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=a,this._d=c}tt.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new P((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function yt(t,r,a,c){return new tt(t,r,a,c)}var Ut=e({},X,{code:"EPSG:3857",projection:At,transformation:function(){var t=.5/(Math.PI*At.R);return yt(t,.5,-t,.5)}()}),kt=e({},Ut,{code:"EPSG:900913"});function _t(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function nt(t,r){var a="",c,d,f,m,v,b;for(c=0,f=t.length;c<f;c++){for(v=t[c],d=0,m=v.length;d<m;d++)b=v[d],a+=(d?"L":"M")+b.x+" "+b.y;a+=r?N.svg?"z":"x":""}return a||"M0 0"}var qt=document.documentElement.style,ct="ActiveXObject"in window,Ot=ct&&!document.addEventListener,Zt="msLaunchUri"in navigator&&!("documentMode"in document),Ve=ze("webkit"),ge=ze("android"),oi=ze("android 2")||ze("android 3"),Qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ee=ge&&ze("Google")&&Qt<537&&!("AudioNode"in window),Ht=!!window.opera,ne=!Zt&&ze("chrome"),De=ze("gecko")&&!Ve&&!Ht&&!ct,_n=!ne&&ze("safari"),vn=ze("phantom"),Ke="OTransition"in qt,Se=navigator.platform.indexOf("Win")===0,ai=ct&&"transition"in qt,Bi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oi,Cl="MozPerspective"in qt,Bu=!window.L_DISABLE_3D&&(ai||Bi||Cl)&&!Ke&&!vn,yn=typeof orientation<"u"||ze("mobile"),ju=yn&&Ve,Uu=yn&&Bi,xl=!window.PointerEvent&&window.MSPointerEvent,El=!!(window.PointerEvent||xl),Dl="ontouchstart"in window||!!window.TouchEvent,Zu=!window.L_NO_TOUCH&&(Dl||El),Hu=yn&&Ht,$u=yn&&De,Wu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Gu=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",g,r),window.removeEventListener("testPassiveEventSupport",g,r)}catch{}return t}(),qu=function(){return!!document.createElement("canvas").getContext}(),Xs=!!(document.createElementNS&&_t("svg").createSVGRect),Ku=!!Xs&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yu=!Xs&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Xu=navigator.platform.indexOf("Mac")===0,Ju=navigator.platform.indexOf("Linux")===0;function ze(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var N={ie:ct,ielt9:Ot,edge:Zt,webkit:Ve,android:ge,android23:oi,androidStock:Ee,opera:Ht,chrome:ne,gecko:De,safari:_n,phantom:vn,opera12:Ke,win:Se,ie3d:ai,webkit3d:Bi,gecko3d:Cl,any3d:Bu,mobile:yn,mobileWebkit:ju,mobileWebkit3d:Uu,msPointer:xl,pointer:El,touch:Zu,touchNative:Dl,mobileOpera:Hu,mobileGecko:$u,retina:Wu,passiveEvents:Gu,canvas:qu,svg:Xs,vml:Yu,inlineSvg:Ku,mac:Xu,linux:Ju},Sl=N.msPointer?"MSPointerDown":"pointerdown",Il=N.msPointer?"MSPointerMove":"pointermove",Tl=N.msPointer?"MSPointerUp":"pointerup",Ml=N.msPointer?"MSPointerCancel":"pointercancel",Js={touchstart:Sl,touchmove:Il,touchend:Tl,touchcancel:Ml},Pl={touchstart:sf,touchmove:xr,touchend:xr,touchcancel:xr},ji={},Rl=!1;function Qu(t,r,a){return r==="touchstart"&&rf(),Pl[r]?(a=Pl[r].bind(this,a),t.addEventListener(Js[r],a,!1),a):(console.warn("wrong event specified:",r),g)}function tf(t,r,a){if(!Js[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(Js[r],a,!1)}function ef(t){ji[t.pointerId]=t}function nf(t){ji[t.pointerId]&&(ji[t.pointerId]=t)}function Al(t){delete ji[t.pointerId]}function rf(){Rl||(document.addEventListener(Sl,ef,!0),document.addEventListener(Il,nf,!0),document.addEventListener(Tl,Al,!0),document.addEventListener(Ml,Al,!0),Rl=!0)}function xr(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in ji)r.touches.push(ji[a]);r.changedTouches=[r],t(r)}}function sf(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&re(r),xr(t,r)}function of(t){var r={},a,c;for(c in t)a=t[c],r[c]=a&&a.bind?a.bind(t):a;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var af=200;function lf(t,r){t.addEventListener("dblclick",r);var a=0,c;function d(f){if(f.detail!==1){c=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var m=Fl(f);if(!(m.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!m.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var v=Date.now();v-a<=af?(c++,c===2&&r(of(f))):c=1,a=v}}}return t.addEventListener("click",d),{dblclick:r,simDblclick:d}}function cf(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var Qs=Sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bn=Sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kl=bn==="webkitTransition"||bn==="OTransition"?bn+"End":"transitionend";function Ol(t){return typeof t=="string"?document.getElementById(t):t}function wn(t,r){var a=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);a=c?c[r]:null}return a==="auto"?null:a}function mt(t,r,a){var c=document.createElement(t);return c.className=r||"",a&&a.appendChild(c),c}function Bt(t){var r=t.parentNode;r&&r.removeChild(t)}function Er(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ui(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function Zi(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function to(t,r){if(t.classList!==void 0)return t.classList.contains(r);var a=Dr(t);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function rt(t,r){if(t.classList!==void 0)for(var a=z(r),c=0,d=a.length;c<d;c++)t.classList.add(a[c]);else if(!to(t,r)){var f=Dr(t);eo(t,(f?f+" ":"")+r)}}function Wt(t,r){t.classList!==void 0?t.classList.remove(r):eo(t,E((" "+Dr(t)+" ").replace(" "+r+" "," ")))}function eo(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function Dr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ie(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&hf(t,r)}function hf(t,r){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):t.style.filter+=" progid:"+c+"(opacity="+r+")"}function Sr(t){for(var r=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in r)return t[a];return!1}function wi(t,r,a){var c=r||new P(0,0);t.style[Qs]=(N.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function Kt(t,r){t._leaflet_pos=r,N.any3d?wi(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function Ci(t){return t._leaflet_pos||new P(0,0)}var Cn,xn,io;if("onselectstart"in document)Cn=function(){Q(window,"selectstart",re)},xn=function(){Lt(window,"selectstart",re)};else{var En=Sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cn=function(){if(En){var t=document.documentElement.style;io=t[En],t[En]="none"}},xn=function(){En&&(document.documentElement.style[En]=io,io=void 0)}}function no(){Q(window,"dragstart",re)}function ro(){Lt(window,"dragstart",re)}var Ir,so;function oo(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Tr(),Ir=t,so=t.style.outlineStyle,t.style.outlineStyle="none",Q(window,"keydown",Tr))}function Tr(){Ir&&(Ir.style.outlineStyle=so,Ir=void 0,so=void 0,Lt(window,"keydown",Tr))}function Ll(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ao(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var df={__proto__:null,TRANSFORM:Qs,TRANSITION:bn,TRANSITION_END:kl,get:Ol,getStyle:wn,create:mt,remove:Bt,empty:Er,toFront:Ui,toBack:Zi,hasClass:to,addClass:rt,removeClass:Wt,setClass:eo,getClass:Dr,setOpacity:Ie,testProp:Sr,setTransform:wi,setPosition:Kt,getPosition:Ci,get disableTextSelection(){return Cn},get enableTextSelection(){return xn},disableImageDrag:no,enableImageDrag:ro,preventOutline:oo,restoreOutline:Tr,getSizedParentNode:Ll,getScale:ao};function Q(t,r,a,c){if(r&&typeof r=="object")for(var d in r)co(t,d,r[d],a);else{r=z(r);for(var f=0,m=r.length;f<m;f++)co(t,r[f],a,c)}return this}var Be="_leaflet_events";function Lt(t,r,a,c){if(arguments.length===1)Nl(t),delete t[Be];else if(r&&typeof r=="object")for(var d in r)ho(t,d,r[d],a);else if(r=z(r),arguments.length===2)Nl(t,function(v){return le(r,v)!==-1});else for(var f=0,m=r.length;f<m;f++)ho(t,r[f],a,c);return this}function Nl(t,r){for(var a in t[Be]){var c=a.split(/\d/)[0];(!r||r(c))&&ho(t,c,null,null,a)}}var lo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function co(t,r,a,c){var d=r+h(a)+(c?"_"+h(c):"");if(t[Be]&&t[Be][d])return this;var f=function(v){return a.call(c||t,v||window.event)},m=f;!N.touchNative&&N.pointer&&r.indexOf("touch")===0?f=Qu(t,r,f):N.touch&&r==="dblclick"?f=lf(t,f):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(lo[r]||r,f,N.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(f=function(v){v=v||window.event,fo(t,v)&&m(v)},t.addEventListener(lo[r],f,!1)):t.addEventListener(r,m,!1):t.attachEvent("on"+r,f),t[Be]=t[Be]||{},t[Be][d]=f}function ho(t,r,a,c,d){d=d||r+h(a)+(c?"_"+h(c):"");var f=t[Be]&&t[Be][d];if(!f)return this;!N.touchNative&&N.pointer&&r.indexOf("touch")===0?tf(t,r,f):N.touch&&r==="dblclick"?cf(t,f):"removeEventListener"in t?t.removeEventListener(lo[r]||r,f,!1):t.detachEvent("on"+r,f),t[Be][d]=null}function xi(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function uo(t){return co(t,"wheel",xi),this}function Dn(t){return Q(t,"mousedown touchstart dblclick contextmenu",xi),t._leaflet_disable_click=!0,this}function re(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ei(t){return re(t),xi(t),this}function Fl(t){if(t.composedPath)return t.composedPath();for(var r=[],a=t.target;a;)r.push(a),a=a.parentNode;return r}function Vl(t,r){if(!r)return new P(t.clientX,t.clientY);var a=ao(r),c=a.boundingClientRect;return new P((t.clientX-c.left)/a.x-r.clientLeft,(t.clientY-c.top)/a.y-r.clientTop)}var uf=N.linux&&N.chrome?window.devicePixelRatio:N.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zl(t){return N.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/uf:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function fo(t,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var ff={__proto__:null,on:Q,off:Lt,stopPropagation:xi,disableScrollPropagation:uo,disableClickPropagation:Dn,preventDefault:re,stop:Ei,getPropagationPath:Fl,getMousePosition:Vl,getWheelDelta:zl,isExternalTarget:fo,addListener:Q,removeListener:Lt},Bl=J.extend({run:function(t,r,a,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Ci(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var a=this._startPos.add(this._offset.multiplyBy(t));r&&a._round(),Kt(this._el,a),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ut=J.extend({options:{crs:Ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=j(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(B(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bn&&N.any3d&&!N.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Q(this._proxy,kl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(B(t),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=e({animate:a.animate},a.zoom),a.pan=e({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,a.zoom):this._tryAnimatedPan(t,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(N.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,a){var c=this.getZoomScale(r),d=this.getSize().divideBy(2),f=t instanceof P?t:this.latLngToContainerPoint(t),m=f.subtract(d).multiplyBy(1-1/c),v=this.containerPointToLatLng(d.add(m));return this.setView(v,r,{zoom:a})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():it(t);var a=O(r.paddingTopLeft||r.padding||[0,0]),c=O(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(t,!1,a.add(c));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var f=c.subtract(a).divideBy(2),m=this.project(t.getSouthWest(),d),v=this.project(t.getNorthEast(),d),b=this.unproject(m.add(v).divideBy(2).add(f),d);return{center:b,zoom:d}},fitBounds:function(t,r){if(t=it(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=O(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,a){if(a=a||{},a.animate===!1||!N.any3d)return this.setView(t,r,a);this._stop();var c=this.project(this.getCenter()),d=this.project(t),f=this.getSize(),m=this._zoom;t=B(t),r=r===void 0?m:r;var v=Math.max(f.x,f.y),b=v*this.getZoomScale(m,r),C=d.distanceTo(c)||1,I=1.42,H=I*I;function at(Yt){var Br=Yt?-1:1,ep=Yt?b:v,ip=b*b-v*v+Br*H*H*C*C,np=2*ep*H*C,Eo=ip/np,bc=Math.sqrt(Eo*Eo+1)-Eo,rp=bc<1e-9?-18:Math.log(bc);return rp}function ce(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function te(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}function Me(Yt){return ce(Yt)/te(Yt)}var fe=at(0);function Ki(Yt){return v*(te(fe)/te(fe+I*Yt))}function Xf(Yt){return v*(te(fe)*Me(fe+I*Yt)-ce(fe))/H}function Jf(Yt){return 1-Math.pow(1-Yt,1.5)}var Qf=Date.now(),vc=(at(1)-fe)/I,tp=a.duration?1e3*a.duration:1e3*vc*.8;function yc(){var Yt=(Date.now()-Qf)/tp,Br=Jf(Yt)*vc;Yt<=1?(this._flyToFrame=D(yc,this),this._move(this.unproject(c.add(d.subtract(c).multiplyBy(Xf(Br)/C)),m),this.getScaleZoom(v/Ki(Br),m),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),yc.call(this),this},flyToBounds:function(t,r){var a=this._getBoundsCenterZoom(t,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(t){return t=it(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,it(t));return a.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var a=O(r.paddingTopLeft||r.padding||[0,0]),c=O(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),f=this.project(t),m=this.getPixelBounds(),v=U([m.min.add(a),m.max.subtract(c)]),b=v.getSize();if(!v.contains(f)){this._enforcingBounds=!0;var C=f.subtract(v.getCenter()),I=v.extend(f).getSize().subtract(b);d.x+=C.x<0?-I.x:I.x,d.y+=C.y<0?-I.y:I.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=r.divideBy(2).round(),d=a.divideBy(2).round(),f=c.subtract(d);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=o(this._handleGeolocationResponse,this),a=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,t):navigator.geolocation.getCurrentPosition(r,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,a=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,a=t.coords.longitude,c=new Z(r,a),d=c.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var m=this.getBoundsZoom(d);this.setView(c,f.maxZoom?Math.min(m,f.maxZoom):m)}var v={latlng:c,bounds:d,timestamp:t.timestamp};for(var b in t.coords)typeof t.coords[b]=="number"&&(v[b]=t.coords[b]);this.fire("locationfound",v)}},addHandler:function(t,r){if(!r)return this;var a=this[t]=new r(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Bt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),c=mt("div",a,r||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new T(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,a){t=it(t),a=O(a||[0,0]);var c=this.getZoom()||0,d=this.getMinZoom(),f=this.getMaxZoom(),m=t.getNorthWest(),v=t.getSouthEast(),b=this.getSize().subtract(a),C=U(this.project(v,c),this.project(m,c)).getSize(),I=N.any3d?this.options.zoomSnap:1,H=b.x/C.x,at=b.y/C.y,ce=r?Math.max(H,at):Math.min(H,at);return c=this.getScaleZoom(ce,c),I&&(c=Math.round(c/(I/100))*(I/100),c=r?Math.ceil(c/I)*I:Math.floor(c/I)*I),Math.max(d,Math.min(f,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var a=this._getTopLeftPoint(t,r);return new A(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(t)/a.scale(r)},getScaleZoom:function(t,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var c=a.zoom(t*a.scale(r));return isNaN(c)?1/0:c},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(B(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(O(t),r)},layerPointToLatLng:function(t){var r=O(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(B(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(B(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(it(t))},distance:function(t,r){return this.options.crs.distance(B(t),B(r))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(t)))},mouseEventToContainerPoint:function(t){return Vl(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=Ol(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Q(r,"scroll",this._onScroll,this),this._containerId=h(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&N.any3d,rt(t,"leaflet-container"+(N.touch?" leaflet-touch":"")+(N.retina?" leaflet-retina":"")+(N.ielt9?" leaflet-oldie":"")+(N.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=wn(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(t.markerPane,"leaflet-zoom-hide"),rt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,a){Kt(this._mapPane,new P(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,a)._move(t,r)._moveEnd(d),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,a,c){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?a&&a.pinch&&this.fire("zoom",a):((d||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Kt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[h(this._container)]=this;var r=t?Lt:Q;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),N.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var a=[],c,d=r==="mouseout"||r==="mouseover",f=t.target||t.srcElement,m=!1;f;){if(c=this._targets[h(f)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){m=!0;break}if(c&&c.listens(r,!0)&&(d&&!fo(f,t)||(a.push(c),d))||f===this._container)break;f=f.parentNode}return!a.length&&!m&&!d&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var a=t.type;a==="mousedown"&&oo(r),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,a){if(t.type==="click"){var c=e({},t);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var d=this._findEventTargets(t,r);if(a){for(var f=[],m=0;m<a.length;m++)a[m].listens(r,!0)&&f.push(a[m]);d=f.concat(d)}if(d.length){r==="contextmenu"&&re(t);var v=d[0],b={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var C=v.getLatLng&&(!v._radius||v._radius<=10);b.containerPoint=C?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(t),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=C?v.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(m=0;m<d.length;m++)if(d[m].fire(r,b,!0),b.originalEvent._stopped||d[m].options.bubblingMouseEvents===!1&&le(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return Ci(this._mapPane)||new P(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var a=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var a=this.getSize()._divideBy(2);return this.project(t,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,a){var c=this._getNewPixelOrigin(a,r);return this.project(t,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,r,a){var c=this._getNewPixelOrigin(a,r);return U([this.project(t.getSouthWest(),r)._subtract(c),this.project(t.getNorthWest(),r)._subtract(c),this.project(t.getSouthEast(),r)._subtract(c),this.project(t.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,a){if(!a)return t;var c=this.project(t,r),d=this.getSize().divideBy(2),f=new A(c.subtract(d),c.add(d)),m=this._getBoundsOffset(f,a,r);return Math.abs(m.x)<=1&&Math.abs(m.y)<=1?t:this.unproject(c.add(m),r)},_limitOffset:function(t,r){if(!r)return t;var a=this.getPixelBounds(),c=new A(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(t,r,a){var c=U(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),d=c.min.subtract(t.min),f=c.max.subtract(t.max),m=this._rebound(d.x,-f.x),v=this._rebound(d.y,-f.y);return new P(m,v)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),a=this.getMaxZoom(),c=N.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(r,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var a=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var t=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var a=Qs,c=this._proxy.style[a];wi(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();wi(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),d=this._getCenterOffset(t)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(d)?!1:(D(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pf(t,r){return new ut(t,r)}var Le=Ct.extend({options:{position:"topright"},initialize:function(t){j(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),a=this.getPosition(),c=t._controlCorners[a];return rt(r,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Sn=function(t){return new Le(t)};ut.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",a=this._controlContainer=mt("div",r+"control-container",this._container);function c(d,f){var m=r+d+" "+r+f;t[d+f]=mt("div",m,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Bt(this._controlCorners[t]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jl=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,a,c){return a<c?-1:c<a?1:0}},initialize:function(t,r,a){j(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Le.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(h(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=mt("div",t),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Dn(r),uo(r);var c=this._section=mt("section",t+"-list");a&&(this._map.on("click",this.collapse,this),Q(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=mt("a",t+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),Q(d,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){re(f),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=mt("div",t+"-base",c),this._separator=mt("div",t+"-separator",c),this._overlaysList=mt("div",t+"-overlays",c),r.appendChild(c)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&h(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(o(function(c,d){return this.options.sortFunction(c.layer,d.layer,c.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var t,r,a,c,d=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),r=r||c.overlay,t=t||!c.overlay,d+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(h(t.target)),a=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(t,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(t){var r=document.createElement("label"),a=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+h(this),a),this._layerControlInputs.push(c),c.layerId=h(t.layer),Q(c,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var f=document.createElement("span");r.appendChild(f),f.appendChild(c),f.appendChild(d);var m=t.overlay?this._overlaysList:this._baseLayersList;return m.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,r,a,c=[],d=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)r=t[f],a=this._getLayer(r.layerId).layer,r.checked?c.push(a):r.checked||d.push(a);for(f=0;f<d.length;f++)this._map.hasLayer(d[f])&&this._map.removeLayer(d[f]);for(f=0;f<c.length;f++)this._map.hasLayer(c[f])||this._map.addLayer(c[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,a,c=this._map.getZoom(),d=t.length-1;d>=0;d--)r=t[d],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Q(t,"click",re),this.expand();var r=this;setTimeout(function(){Lt(t,"click",re),r._preventClick=!1})}}),mf=function(t,r,a){return new jl(t,r,a)},po=Le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",a=mt("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,a,c,d){var f=mt("a",a,c);return f.innerHTML=t,f.href="#",f.title=r,f.setAttribute("role","button"),f.setAttribute("aria-label",r),Dn(f),Q(f,"click",Ei),Q(f,"click",d,this),Q(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";Wt(this._zoomInButton,r),Wt(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(rt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(rt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new po,this.addControl(this.zoomControl))});var gf=function(t){return new po(t)},Ul=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",a=mt("div",r),c=this.options;return this._addScales(c,r+"-line",a),t.on(c.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,a){t.metric&&(this._mScale=mt("div",r,a)),t.imperial&&(this._iScale=mt("div",r,a))},_update:function(){var t=this._map,r=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/t)},_updateImperial:function(t){var r=t*3.2808399,a,c,d;r>5280?(a=r/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(t,r,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),a=t/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),_f=function(t){return new Ul(t)},vf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mo=Le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(N.inlineSvg?vf+" ":"")+"Leaflet</a>"},initialize:function(t){j(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),Dn(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new mo().addTo(this)});var yf=function(t){return new mo(t)};Le.Layers=jl,Le.Zoom=po,Le.Scale=Ul,Le.Attribution=mo,Sn.layers=mf,Sn.zoom=gf,Sn.scale=_f,Sn.attribution=yf;var je=Ct.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});je.addTo=function(t,r){return t.addHandler(r,this),this};var bf={Events:Rt},Zl=N.touch?"touchstart mousedown":"mousedown",li=J.extend({options:{clickTolerance:3},initialize:function(t,r,a,c){j(this,c),this._element=t,this._dragStartTarget=r||t,this._preventOutline=a},enable:function(){this._enabled||(Q(this._dragStartTarget,Zl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,Zl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!to(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(li._dragging=this,this._preventOutline&&oo(this._element),no(),Cn(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,a=Ll(this._element);this._startPoint=new P(r.clientX,r.clientY),this._startPos=Ci(this._element),this._parentScale=ao(a);var c=t.type==="mousedown";Q(document,c?"mousemove":"touchmove",this._onMove,this),Q(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,a=new P(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,re(t),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Kt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),ro(),xn();var r=this._moved&&this._moving;this._moving=!1,li._dragging=!1,r&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Hl(t,r,a){var c,d=[1,4,2,8],f,m,v,b,C,I,H,at;for(f=0,I=t.length;f<I;f++)t[f]._code=Di(t[f],r);for(v=0;v<4;v++){for(H=d[v],c=[],f=0,I=t.length,m=I-1;f<I;m=f++)b=t[f],C=t[m],b._code&H?C._code&H||(at=Mr(C,b,H,r,a),at._code=Di(at,r),c.push(at)):(C._code&H&&(at=Mr(C,b,H,r,a),at._code=Di(at,r),c.push(at)),c.push(b));t=c}return t}function $l(t,r){var a,c,d,f,m,v,b,C,I;if(!t||t.length===0)throw new Error("latlngs not passed");Te(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var H=B([0,0]),at=it(t),ce=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());ce<1700&&(H=go(t));var te=t.length,Me=[];for(a=0;a<te;a++){var fe=B(t[a]);Me.push(r.project(B([fe.lat-H.lat,fe.lng-H.lng])))}for(v=b=C=0,a=0,c=te-1;a<te;c=a++)d=Me[a],f=Me[c],m=d.y*f.x-f.y*d.x,b+=(d.x+f.x)*m,C+=(d.y+f.y)*m,v+=m*3;v===0?I=Me[0]:I=[b/v,C/v];var Ki=r.unproject(O(I));return B([Ki.lat+H.lat,Ki.lng+H.lng])}function go(t){for(var r=0,a=0,c=0,d=0;d<t.length;d++){var f=B(t[d]);r+=f.lat,a+=f.lng,c++}return B([r/c,a/c])}var wf={__proto__:null,clipPolygon:Hl,polygonCenter:$l,centroid:go};function Wl(t,r){if(!r||!t.length)return t.slice();var a=r*r;return t=Ef(t,a),t=xf(t,a),t}function Gl(t,r,a){return Math.sqrt(In(t,r,a,!0))}function Cf(t,r,a){return In(t,r,a)}function xf(t,r){var a=t.length,c=typeof Uint8Array<"u"?Uint8Array:Array,d=new c(a);d[0]=d[a-1]=1,_o(t,d,r,0,a-1);var f,m=[];for(f=0;f<a;f++)d[f]&&m.push(t[f]);return m}function _o(t,r,a,c,d){var f=0,m,v,b;for(v=c+1;v<=d-1;v++)b=In(t[v],t[c],t[d],!0),b>f&&(m=v,f=b);f>a&&(r[m]=1,_o(t,r,a,c,m),_o(t,r,a,m,d))}function Ef(t,r){for(var a=[t[0]],c=1,d=0,f=t.length;c<f;c++)Df(t[c],t[d])>r&&(a.push(t[c]),d=c);return d<f-1&&a.push(t[f-1]),a}var ql;function Kl(t,r,a,c,d){var f=c?ql:Di(t,a),m=Di(r,a),v,b,C;for(ql=m;;){if(!(f|m))return[t,r];if(f&m)return!1;v=f||m,b=Mr(t,r,v,a,d),C=Di(b,a),v===f?(t=b,f=C):(r=b,m=C)}}function Mr(t,r,a,c,d){var f=r.x-t.x,m=r.y-t.y,v=c.min,b=c.max,C,I;return a&8?(C=t.x+f*(b.y-t.y)/m,I=b.y):a&4?(C=t.x+f*(v.y-t.y)/m,I=v.y):a&2?(C=b.x,I=t.y+m*(b.x-t.x)/f):a&1&&(C=v.x,I=t.y+m*(v.x-t.x)/f),new P(C,I,d)}function Di(t,r){var a=0;return t.x<r.min.x?a|=1:t.x>r.max.x&&(a|=2),t.y<r.min.y?a|=4:t.y>r.max.y&&(a|=8),a}function Df(t,r){var a=r.x-t.x,c=r.y-t.y;return a*a+c*c}function In(t,r,a,c){var d=r.x,f=r.y,m=a.x-d,v=a.y-f,b=m*m+v*v,C;return b>0&&(C=((t.x-d)*m+(t.y-f)*v)/b,C>1?(d=a.x,f=a.y):C>0&&(d+=m*C,f+=v*C)),m=t.x-d,v=t.y-f,c?m*m+v*v:new P(d,f)}function Te(t){return!ht(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Yl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Te(t)}function Xl(t,r){var a,c,d,f,m,v,b,C;if(!t||t.length===0)throw new Error("latlngs not passed");Te(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var I=B([0,0]),H=it(t),at=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());at<1700&&(I=go(t));var ce=t.length,te=[];for(a=0;a<ce;a++){var Me=B(t[a]);te.push(r.project(B([Me.lat-I.lat,Me.lng-I.lng])))}for(a=0,c=0;a<ce-1;a++)c+=te[a].distanceTo(te[a+1])/2;if(c===0)C=te[0];else for(a=0,f=0;a<ce-1;a++)if(m=te[a],v=te[a+1],d=m.distanceTo(v),f+=d,f>c){b=(f-c)/d,C=[v.x-b*(v.x-m.x),v.y-b*(v.y-m.y)];break}var fe=r.unproject(O(C));return B([fe.lat+I.lat,fe.lng+I.lng])}var Sf={__proto__:null,simplify:Wl,pointToSegmentDistance:Gl,closestPointOnSegment:Cf,clipSegment:Kl,_getEdgeIntersection:Mr,_getBitCode:Di,_sqClosestPointOnSegment:In,isFlat:Te,_flat:Yl,polylineCenter:Xl},vo={project:function(t){return new P(t.lng,t.lat)},unproject:function(t){return new Z(t.y,t.x)},bounds:new A([-180,-90],[180,90])},yo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,a=this.R,c=t.lat*r,d=this.R_MINOR/a,f=Math.sqrt(1-d*d),m=f*Math.sin(c),v=Math.tan(Math.PI/4-c/2)/Math.pow((1-m)/(1+m),f/2);return c=-a*Math.log(Math.max(v,1e-10)),new P(t.lng*r*a,c)},unproject:function(t){for(var r=180/Math.PI,a=this.R,c=this.R_MINOR/a,d=Math.sqrt(1-c*c),f=Math.exp(-t.y/a),m=Math.PI/2-2*Math.atan(f),v=0,b=.1,C;v<15&&Math.abs(b)>1e-7;v++)C=d*Math.sin(m),C=Math.pow((1-C)/(1+C),d/2),b=Math.PI/2-2*Math.atan(f*C)-m,m+=b;return new Z(m*r,t.x*r/a)}},If={__proto__:null,LonLat:vo,Mercator:yo,SphericalMercator:At},Tf=e({},X,{code:"EPSG:3395",projection:yo,transformation:function(){var t=.5/(Math.PI*yo.R);return yt(t,.5,-t,.5)}()}),Jl=e({},X,{code:"EPSG:4326",projection:vo,transformation:yt(1/180,1,-1/180,.5)}),Mf=e({},jt,{projection:vo,transformation:yt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var a=r.lng-t.lng,c=r.lat-t.lat;return Math.sqrt(a*a+c*c)},infinite:!0});jt.Earth=X,jt.EPSG3395=Tf,jt.EPSG3857=Ut,jt.EPSG900913=kt,jt.EPSG4326=Jl,jt.Simple=Mf;var Ne=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[h(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[h(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=h(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=h(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return h(t)in this._layers},eachLayer:function(t,r){for(var a in this._layers)t.call(r,this._layers[a]);return this},_addLayers:function(t){t=t?ht(t)?t:[t]:[];for(var r=0,a=t.length;r<a;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[h(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=h(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var d=this._zoomBoundLayers[c].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=Ne.extend({initialize:function(t,r){j(this,r),this._layers={};var a,c;if(t)for(a=0,c=t.length;a<c;a++)this.addLayer(t[a])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[t]&&c[t].apply(c,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var a in this._layers)t.call(r,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h(t)}}),Pf=function(t,r){return new Hi(t,r)},Ye=Hi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Hi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Hi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var r in this._layers){var a=this._layers[r];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),Rf=function(t,r){return new Ye(t,r)},$i=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){j(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(t,r){var a=this.options,c=a[r+"Size"];typeof c=="number"&&(c=[c,c]);var d=O(c),f=O(r==="shadow"&&a.shadowAnchor||a.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(a.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return N.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Af(t){return new $i(t)}var Tn=$i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Tn.imagePath!="string"&&(Tn.imagePath=this._detectIconPath()),(this.options.imagePath||Tn.imagePath)+$i.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(a,c,d){var f=c.exec(a);return f&&f[d]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=mt("div","leaflet-default-icon-path",document.body),r=wn(t,"background-image")||wn(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Ql=je.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new li(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,a=r._map,c=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,f=Ci(r._icon),m=a.getPixelBounds(),v=a.getPixelOrigin(),b=U(m.min._subtract(v).add(d),m.max._subtract(v).subtract(d));if(!b.contains(f)){var C=O((Math.max(b.max.x,f.x)-b.max.x)/(m.max.x-b.max.x)-(Math.min(b.min.x,f.x)-b.min.x)/(m.min.x-b.min.x),(Math.max(b.max.y,f.y)-b.max.y)/(m.max.y-b.max.y)-(Math.min(b.min.y,f.y)-b.min.y)/(m.min.y-b.min.y)).multiplyBy(c);a.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Kt(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=D(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,a=r._shadow,c=Ci(r._icon),d=r._map.layerPointToLatLng(c);a&&Kt(a,c),r._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Pr=Ne.extend({options:{icon:new Tn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){j(this,r),this._latlng=B(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=B(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),rt(a,r),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(a,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),f=!1;d!==this._shadow&&(this._removeShadow(),f=!0),d&&(rt(d,r),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Kt(this._icon,t),this._shadow&&Kt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ql)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ql(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ie(this._icon,t),this._shadow&&Ie(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,a=r.iconSize?O(r.iconSize):O(0,0),c=r.iconAnchor?O(r.iconAnchor):O(0,0);t.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function kf(t,r){return new Pr(t,r)}var ci=Ne.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return j(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rr=ci.extend({options:{fill:!0,radius:10},initialize:function(t,r){j(this,r),this._latlng=B(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=B(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return ci.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,a=this._clickTolerance(),c=[t+a,r+a];this._pxBounds=new A(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Of(t,r){return new Rr(t,r)}var bo=Rr.extend({initialize:function(t,r,a){if(typeof r=="number"&&(r=e({},a,{radius:r})),j(this,r),this._latlng=B(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ci.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===X.distance){var d=Math.PI/180,f=this._mRadius/X.R/d,m=a.project([r+f,t]),v=a.project([r-f,t]),b=m.add(v).divideBy(2),C=a.unproject(b).lat,I=Math.acos((Math.cos(f*d)-Math.sin(r*d)*Math.sin(C*d))/(Math.cos(r*d)*Math.cos(C*d)))/d;(isNaN(I)||I===0)&&(I=f/Math.cos(Math.PI/180*r)),this._point=b.subtract(a.getPixelOrigin()),this._radius=isNaN(I)?0:b.x-a.project([C,t-I]).x,this._radiusY=b.y-m.y}else{var H=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(H).x}this._updateBounds()}});function Lf(t,r,a){return new bo(t,r,a)}var Xe=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){j(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,a=null,c=In,d,f,m=0,v=this._parts.length;m<v;m++)for(var b=this._parts[m],C=1,I=b.length;C<I;C++){d=b[C-1],f=b[C];var H=c(t,d,f,!0);H<r&&(r=H,a=c(t,d,f))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=B(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Te(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],a=Te(t),c=0,d=t.length;c<d;c++)a?(r[c]=B(t[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(t[c]);return r},_project:function(){var t=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new P(t,t);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,a){var c=t[0]instanceof Z,d=t.length,f,m;if(c){for(m=[],f=0;f<d;f++)m[f]=this._map.latLngToLayerPoint(t[f]),a.extend(m[f]);r.push(m)}else for(f=0;f<d;f++)this._projectLatlngs(t[f],r,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,c,d,f,m,v,b;for(a=0,d=0,f=this._rings.length;a<f;a++)for(b=this._rings[a],c=0,m=b.length;c<m-1;c++)v=Kl(b[c],b[c+1],t,c,!0),v&&(r[d]=r[d]||[],r[d].push(v[0]),(v[1]!==b[c+1]||c===m-2)&&(r[d].push(v[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,a=0,c=t.length;a<c;a++)t[a]=Wl(t[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var a,c,d,f,m,v,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,f=this._parts.length;a<f;a++)for(v=this._parts[a],c=0,m=v.length,d=m-1;c<m;d=c++)if(!(!r&&c===0)&&Gl(t,v[d],v[c])<=b)return!0;return!1}});function Nf(t,r){return new Xe(t,r)}Xe._flat=Yl;var Wi=Xe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=Xe.prototype._convertLatLngs.call(this,t),a=r.length;return a>=2&&r[0]instanceof Z&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(t){Xe.prototype._setLatLngs.call(this,t),Te(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Te(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,a=new P(r,r);if(t=new A(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,d=this._rings.length,f;c<d;c++)f=Hl(this._rings[c],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,a,c,d,f,m,v,b,C;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,b=this._parts.length;f<b;f++)for(a=this._parts[f],m=0,C=a.length,v=C-1;m<C;v=m++)c=a[m],d=a[v],c.y>t.y!=d.y>t.y&&t.x<(d.x-c.x)*(t.y-c.y)/(d.y-c.y)+c.x&&(r=!r);return r||Xe.prototype._containsPoint.call(this,t,!0)}});function Ff(t,r){return new Wi(t,r)}var Je=Ye.extend({initialize:function(t,r){j(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=ht(t)?t:t.features,a,c,d;if(r){for(a=0,c=r.length;a<c;a++)d=r[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var m=Ar(t,f);return m?(m.feature=Lr(t),m.defaultOptions=m.options,this.resetStyle(m),f.onEachFeature&&f.onEachFeature(t,m),this.addLayer(m)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function Ar(t,r){var a=t.type==="Feature"?t.geometry:t,c=a?a.coordinates:null,d=[],f=r&&r.pointToLayer,m=r&&r.coordsToLatLng||wo,v,b,C,I;if(!c&&!a)return null;switch(a.type){case"Point":return v=m(c),tc(f,t,v,r);case"MultiPoint":for(C=0,I=c.length;C<I;C++)v=m(c[C]),d.push(tc(f,t,v,r));return new Ye(d);case"LineString":case"MultiLineString":return b=kr(c,a.type==="LineString"?0:1,m),new Xe(b,r);case"Polygon":case"MultiPolygon":return b=kr(c,a.type==="Polygon"?1:2,m),new Wi(b,r);case"GeometryCollection":for(C=0,I=a.geometries.length;C<I;C++){var H=Ar({geometry:a.geometries[C],type:"Feature",properties:t.properties},r);H&&d.push(H)}return new Ye(d);case"FeatureCollection":for(C=0,I=a.features.length;C<I;C++){var at=Ar(a.features[C],r);at&&d.push(at)}return new Ye(d);default:throw new Error("Invalid GeoJSON object.")}}function tc(t,r,a,c){return t?t(r,a):new Pr(a,c&&c.markersInheritOptions&&c)}function wo(t){return new Z(t[1],t[0],t[2])}function kr(t,r,a){for(var c=[],d=0,f=t.length,m;d<f;d++)m=r?kr(t[d],r-1,a):(a||wo)(t[d]),c.push(m);return c}function Co(t,r){return t=B(t),t.alt!==void 0?[w(t.lng,r),w(t.lat,r),w(t.alt,r)]:[w(t.lng,r),w(t.lat,r)]}function Or(t,r,a,c){for(var d=[],f=0,m=t.length;f<m;f++)d.push(r?Or(t[f],Te(t[f])?0:r-1,a,c):Co(t[f],c));return!r&&a&&d.length>0&&d.push(d[0].slice()),d}function Gi(t,r){return t.feature?e({},t.feature,{geometry:r}):Lr(r)}function Lr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var xo={toGeoJSON:function(t){return Gi(this,{type:"Point",coordinates:Co(this.getLatLng(),t)})}};Pr.include(xo),bo.include(xo),Rr.include(xo),Xe.include({toGeoJSON:function(t){var r=!Te(this._latlngs),a=Or(this._latlngs,r?1:0,!1,t);return Gi(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),Wi.include({toGeoJSON:function(t){var r=!Te(this._latlngs),a=r&&!Te(this._latlngs[0]),c=Or(this._latlngs,a?2:r?1:0,!0,t);return r||(c=[c]),Gi(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),Hi.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(t).geometry.coordinates)}),Gi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var a=r==="GeometryCollection",c=[];return this.eachLayer(function(d){if(d.toGeoJSON){var f=d.toGeoJSON(t);if(a)c.push(f.geometry);else{var m=Lr(f);m.type==="FeatureCollection"?c.push.apply(c,m.features):c.push(m)}}}),a?Gi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function ec(t,r){return new Je(t,r)}var Vf=ec,Nr=Ne.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,a){this._url=t,this._bounds=it(r),j(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ui(this._image),this},bringToBack:function(){return this._map&&Zi(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=it(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:mt("img");if(rt(r,"leaflet-image-layer"),this._zoomAnimated&&rt(r,"leaflet-zoom-animated"),this.options.className&&rt(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onload=o(this.fire,this,"load"),r.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wi(this._image,a,r)},_reset:function(){var t=this._image,r=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Kt(t,r.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){Ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),zf=function(t,r,a){return new Nr(t,r,a)},ic=Nr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:mt("video");if(rt(r,"leaflet-image-layer"),this._zoomAnimated&&rt(r,"leaflet-zoom-animated"),this.options.className&&rt(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onloadeddata=o(this.fire,this,"load"),t){for(var a=r.getElementsByTagName("source"),c=[],d=0;d<a.length;d++)c.push(a[d].src);this._url=a.length>0?c:[r.src];return}ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var m=mt("source");m.src=this._url[f],r.appendChild(m)}}});function Bf(t,r,a){return new ic(t,r,a)}var nc=Nr.extend({_initImage:function(){var t=this._image=this._url;rt(t,"leaflet-image-layer"),this._zoomAnimated&&rt(t,"leaflet-zoom-animated"),this.options.className&&rt(t,this.options.className),t.onselectstart=g,t.onmousemove=g}});function jf(t,r,a){return new nc(t,r,a)}var Ue=Ne.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof Z||ht(t))?(this._latlng=B(t),j(this,r)):(j(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ie(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ie(this._container,0),this._removeTimeout=setTimeout(o(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=B(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ui(this._container),this},bringToBack:function(){return this._map&&Zi(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof Ye){r=null;var a=this._source._layers;for(var c in a)if(a[c]._map){r=a[c];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=O(this.options.offset),a=this._getAnchor();this._zoomAnimated?Kt(this._container,t.add(a)):r=r.add(t).add(a);var c=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(t,r,a,c){var d=r;return d instanceof t||(d=new t(c).setContent(r)),a&&d.setLatLng(a),d}}),Ne.include({_initOverlay:function(t,r,a,c){var d=a;return d instanceof t?(j(d,c),d._source=this):(d=r&&!c?r:new t(c,this),d.setContent(a)),d}});var Fr=Ue.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ue.prototype.openOn.call(this,t)},onAdd:function(t){Ue.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",xi))},onRemove:function(t){Ue.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",xi))},getEvents:function(){var t=Ue.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=mt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=mt("div",t+"-content-wrapper",r);if(this._contentNode=mt("div",t+"-content",a),Dn(r),uo(this._contentNode),Q(r,"contextmenu",xi),this._tipContainer=mt("div",t+"-tip-container",r),this._tip=mt("div",t+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=mt("a",t+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Q(c,"click",function(d){re(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var c=t.offsetHeight,d=this.options.maxHeight,f="leaflet-popup-scrolled";d&&c>d?(r.height=d+"px",rt(t,f)):Wt(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();Kt(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(wn(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,c=this._containerWidth,d=new P(this._containerLeft,-a-this._containerBottom);d._add(Ci(this._container));var f=t.layerPointToContainerPoint(d),m=O(this.options.autoPanPadding),v=O(this.options.autoPanPaddingTopLeft||m),b=O(this.options.autoPanPaddingBottomRight||m),C=t.getSize(),I=0,H=0;f.x+c+b.x>C.x&&(I=f.x+c-C.x+b.x),f.x-I-v.x<0&&(I=f.x-v.x),f.y+a+b.y>C.y&&(H=f.y+a-C.y+b.y),f.y-H-v.y<0&&(H=f.y-v.y),(I||H)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([I,H]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uf=function(t,r){return new Fr(t,r)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(t,r,a){return this._initOverlay(Fr,t,r,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ne.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Fr,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ye||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ei(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Vr=Ue.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ue.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ue.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ue.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,a,c=this._map,d=this._container,f=c.latLngToContainerPoint(c.getCenter()),m=c.layerPointToContainerPoint(t),v=this.options.direction,b=d.offsetWidth,C=d.offsetHeight,I=O(this.options.offset),H=this._getAnchor();v==="top"?(r=b/2,a=C):v==="bottom"?(r=b/2,a=0):v==="center"?(r=b/2,a=C/2):v==="right"?(r=0,a=C/2):v==="left"?(r=b,a=C/2):m.x<f.x?(v="right",r=0,a=C/2):(v="left",r=b+(I.x+H.x)*2,a=C/2),t=t.subtract(O(r,a,!0)).add(I).add(H),Wt(d,"leaflet-tooltip-right"),Wt(d,"leaflet-tooltip-left"),Wt(d,"leaflet-tooltip-top"),Wt(d,"leaflet-tooltip-bottom"),rt(d,"leaflet-tooltip-"+v),Kt(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ie(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zf=function(t,r){return new Vr(t,r)};ut.include({openTooltip:function(t,r,a){return this._initOverlay(Vr,t,r,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ne.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vr,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ye||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&(Q(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Q(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var r=t.latlng,a,c;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),c=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var rc=$i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Er(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=O(a.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Hf(t){return new rc(t)}$i.Default=Tn;var Mn=Ne.extend({options:{tileSize:256,opacity:1,updateWhenIdle:N.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){j(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Bt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof P?t:new P(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,a=-t(-1/0,1/0),c=0,d=r.length,f;c<d;c++)f=r[c].style.zIndex,r[c]!==this._container&&f&&(a=t(a,+f));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!N.ielt9){Ie(this._container,this.options.opacity);var t=+new Date,r=!1,a=!1;for(var c in this._tiles){var d=this._tiles[c];if(!(!d.current||!d.loaded)){var f=Math.min(1,(t-d.loaded)/200);Ie(d.el,f),f<1?r=!0:(d.active?a=!0:this._onOpaqueTile(d),d.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(S(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=r-Math.abs(t-a),this._onUpdateLevel(a)):(Bt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[t],d=this._map;return c||(c=this._levels[t]={},c.el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),c.zoom=t,this._setZoomTransform(c,d.getCenter(),d.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var t,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Bt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,a,c){var d=Math.floor(t/2),f=Math.floor(r/2),m=a-1,v=new P(+d,+f);v.z=+m;var b=this._tileCoordsToKey(v),C=this._tiles[b];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),m>c?this._retainParent(d,f,m,c):!1)},_retainChildren:function(t,r,a,c){for(var d=2*t;d<2*t+2;d++)for(var f=2*r;f<2*r+2;f++){var m=new P(d,f);m.z=a+1;var v=this._tileCoordsToKey(m),b=this._tiles[v];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);a+1<c&&this._retainChildren(d,f,a+1,c)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,a,c){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var f=this.options.updateWhenZooming&&d!==this._tileZoom;(!c||f)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,r)},_setZoomTransform:function(t,r,a){var c=this._map.getZoomScale(a,t.zoom),d=t.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,a)).round();N.any3d?wi(t.el,d,c):Kt(t.el,d)},_resetGrid:function(){var t=this._map,r=t.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],c).x/a.x),Math.ceil(t.project([0,r.wrapLng[1]],c).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],c).y/a.x),Math.ceil(t.project([r.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(a,this._tileZoom),d=r.project(t,this._tileZoom).floor(),f=r.getSize().divideBy(c*2);return new A(d.subtract(f),d.add(f))},_update:function(t){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(c),f=d.getCenter(),m=[],v=this.options.keepBuffer,b=new A(d.getBottomLeft().subtract([v,-v]),d.getTopRight().add([v,-v]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var I=this._tiles[C].coords;(I.z!==this._tileZoom||!b.contains(new P(I.x,I.y)))&&(this._tiles[C].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var H=d.min.y;H<=d.max.y;H++)for(var at=d.min.x;at<=d.max.x;at++){var ce=new P(at,H);if(ce.z=this._tileZoom,!!this._isValidTile(ce)){var te=this._tiles[this._tileCoordsToKey(ce)];te?te.current=!0:m.push(ce)}}if(m.sort(function(fe,Ki){return fe.distanceTo(f)-Ki.distanceTo(f)}),m.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Me=document.createDocumentFragment();for(at=0;at<m.length;at++)this._addTile(m[at],Me);this._level.el.appendChild(Me)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!r.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(t);return it(this.options.bounds).overlaps(c)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,a=this.getTileSize(),c=t.scaleBy(a),d=c.add(a),f=r.unproject(c,t.z),m=r.unproject(d,t.z);return[f,m]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),a=new T(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),a=new P(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(t){var r=this._tiles[t];r&&(Bt(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){rt(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=g,t.onmousemove=g,N.ielt9&&this.options.opacity<1&&Ie(t,this.options.opacity)},_addTile:function(t,r){var a=this._getTilePos(t),c=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&D(o(this._tileReady,this,t,null,d)),Kt(d,a),this._tiles[c]={el:d,coords:t,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:t});var c=this._tileCoordsToKey(t);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ie(a.el,0),S(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(rt(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),N.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new P(this._wrapX?p(t.x,this._wrapX):t.x,this._wrapY?p(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new A(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function $f(t){return new Mn(t)}var qi=Mn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=j(this,r),r.detectRetina&&N.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var a=document.createElement("img");return Q(a,"load",o(this._tileOnLoad,this,r,a)),Q(a,"error",o(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var r={r:N.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=a),r["-y"]=a}return q(this._url,e(r,this.options))},_tileOnLoad:function(t,r){N.ielt9?setTimeout(o(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,a){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),t(a,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(t=r-t),t+c},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=g,r.onerror=g,!r.complete)){r.src=Tt;var a=this._tiles[t].coords;Bt(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",Tt),Mn.prototype._removeTile.call(this,t)},_tileReady:function(t,r,a){if(!(!this._map||a&&a.getAttribute("src")===Tt))return Mn.prototype._tileReady.call(this,t,r,a)}});function sc(t,r){return new qi(t,r)}var oc=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var a=e({},this.defaultWmsParams);for(var c in r)c in this.options||(a[c]=r[c]);r=j(this,r);var d=r.detectRetina&&N.retina?2:1,f=this.getTileSize();a.width=f.x*d,a.height=f.y*d,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,qi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),a=this._crs,c=U(a.project(r[0]),a.project(r[1])),d=c.min,f=c.max,m=(this._wmsVersion>=1.3&&this._crs===Jl?[d.y,d.x,f.y,f.x]:[d.x,d.y,f.x,f.y]).join(","),v=qi.prototype.getTileUrl.call(this,t);return v+It(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+m},setParams:function(t,r){return e(this.wmsParams,t),r||this.redraw(),this}});function Wf(t,r){return new oc(t,r)}qi.WMS=oc,sc.wms=Wf;var Qe=Ne.extend({options:{padding:.1},initialize:function(t){j(this,t),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var a=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),f=c.multiplyBy(-a).add(d).subtract(this._map._getNewPixelOrigin(t,r));N.any3d?wi(this._container,f,a):Kt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new A(a,a.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ac=Qe.extend({options:{tolerance:0},getEvents:function(){var t=Qe.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Q(t,"mousemove",this._onMouseMove,this),Q(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Q(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,Bt(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qe.prototype._update.call(this);var t=this._bounds,r=this._container,a=t.getSize(),c=N.retina?2:1;Kt(r,t.min),r.width=c*a.x,r.height=c*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",N.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Qe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[h(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,a=r.next,c=r.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete t._order,delete this._layers[h(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),a=[],c,d;for(d=0;d<r.length;d++){if(c=Number(r[d]),isNaN(c))return;a.push(c)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)t=c.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var a,c,d,f,m=t._parts,v=m.length,b=this._ctx;if(v){for(b.beginPath(),a=0;a<v;a++){for(c=0,d=m[a].length;c<d;c++)f=m[a][c],b[c?"lineTo":"moveTo"](f.x,f.y);r&&b.closePath()}this._fillStroke(b,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,a=this._ctx,c=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||c)/c;d!==1&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(r.x,r.y/d,c,0,Math.PI*2,!1),d!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,r){var a=r.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),a,c,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var a,c,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(t),c&&(rt(this._container,"leaflet-interactive"),this._fireEvent([c],t,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,a){this._map._fireDOMEvent(r,a||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var a=r.next,c=r.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var a=r.next,c=r.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function lc(t){return N.canvas?new ac(t):null}var Pn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gf={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qe.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Pn("shape");rt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Pn("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;Bt(r),t.removeInteractiveTarget(r),delete this._layers[h(t)]},_updateStyle:function(t){var r=t._stroke,a=t._fill,c=t.options,d=t._container;d.stroked=!!c.stroke,d.filled=!!c.fill,c.stroke?(r||(r=t._stroke=Pn("stroke")),d.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=ht(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(d.removeChild(r),t._stroke=null),c.fill?(a||(a=t._fill=Pn("fill")),d.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(d.removeChild(a),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),a=Math.round(t._radius),c=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){Ui(t._container)},_bringToBack:function(t){Zi(t._container)}},zr=N.vml?Pn:_t,Rn=Qe.extend({_initContainer:function(){this._container=zr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qe.prototype._update.call(this);var t=this._bounds,r=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Kt(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=zr("path");t.options.className&&rt(r,t.options.className),t.options.interactive&&rt(r,"leaflet-interactive"),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Bt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[h(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,a=t.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,nt(t._parts,r))},_updateCircle:function(t){var r=t._point,a=Math.max(Math.round(t._radius),1),c=Math.max(Math.round(t._radiusY),1)||a,d="a"+a+","+c+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(r.x-a)+","+r.y+d+a*2+",0 "+d+-a*2+",0 ";this._setPath(t,f)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){Ui(t._path)},_bringToBack:function(t){Zi(t._path)}});N.vml&&Rn.include(Gf);function cc(t){return N.svg||N.vml?new Rn(t):null}ut.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&lc(t)||cc(t)}});var hc=Wi.extend({initialize:function(t,r){Wi.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=it(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function qf(t,r){return new hc(t,r)}Rn.create=zr,Rn.pointsToPath=nt,Je.geometryToLayer=Ar,Je.coordsToLatLng=wo,Je.coordsToLatLngs=kr,Je.latLngToCoords=Co,Je.latLngsToCoords=Or,Je.getFeature=Gi,Je.asFeature=Lr,ut.mergeOptions({boxZoom:!0});var dc=je.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cn(),no(),this._startPoint=this._map.mouseEventToContainerPoint(t),Q(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new A(this._point,this._startPoint),a=r.getSize();Kt(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Wt(this._container,"leaflet-crosshair")),xn(),ro(),Lt(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var r=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",dc),ut.mergeOptions({doubleClickZoom:!0});var uc=je.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,a=r.getZoom(),c=r.options.zoomDelta,d=t.originalEvent.shiftKey?a-c:a+c;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(t.containerPoint,d)}});ut.addInitHook("addHandler","doubleClickZoom",uc),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fc=je.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new li(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=it(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,d=(c-r+a)%t+r-a,f=(c+r+a)%t-r-a,m=Math.abs(d+a)<Math.abs(f+a)?d:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=m},_onDragEnd:function(t){var r=this._map,a=r.options,c=!a.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),c)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,m=a.easeLinearity,v=d.multiplyBy(m/f),b=v.distanceTo([0,0]),C=Math.min(a.inertiaMaxSpeed,b),I=v.multiplyBy(C/b),H=C/(a.inertiaDeceleration*m),at=I.multiplyBy(-H/2).round();!at.x&&!at.y?r.fire("moveend"):(at=r._limitOffset(at,r.options.maxBounds),D(function(){r.panBy(at,{duration:H,easeLinearity:m,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",fc),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pc=je.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Q(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,a=t.scrollTop||r.scrollTop,c=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},a=this.keyCodes,c,d;for(c=0,d=a.left.length;c<d;c++)r[a.left[c]]=[-1*t,0];for(c=0,d=a.right.length;c<d;c++)r[a.right[c]]=[t,0];for(c=0,d=a.down.length;c<d;c++)r[a.down[c]]=[0,t];for(c=0,d=a.up.length;c<d;c++)r[a.up[c]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},a=this.keyCodes,c,d;for(c=0,d=a.zoomIn.length;c<d;c++)r[a.zoomIn[c]]=t;for(c=0,d=a.zoomOut.length;c<d;c++)r[a.zoomOut[c]]=-t},_addHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,a=this._map,c;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[r],t.shiftKey&&(c=O(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(O(c),a.options.maxBounds)),a.options.worldCopyJump){var d=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(d)}else a.panBy(c)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Ei(t)}}});ut.addInitHook("addHandler","keyboard",pc),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mc=je.extend({addHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=zl(t),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),c),Ei(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,f=a?Math.ceil(d/a)*a:d,m=t._limitZoom(r+(this._delta>0?f:-f))-r;this._delta=0,this._startTime=null,m&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+m):t.setZoomAround(this._lastMousePos,r+m))}});ut.addInitHook("addHandler","scrollWheelZoom",mc);var Kf=600;ut.mergeOptions({tapHold:N.touchNative&&N.safari&&N.mobile,tapTolerance:15});var gc=je.extend({addHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new P(r.clientX,r.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Q(document,"touchend",re),Q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Kf),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Lt(document,"touchend",re),Lt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new P(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});ut.addInitHook("addHandler","tapHold",gc),ut.mergeOptions({touchZoom:N.touch,bounceAtZoomLimits:!0});var _c=je.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(t.touches[0]),c=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),re(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(t.touches[0]),c=r.mouseEventToContainerPoint(t.touches[1]),d=a.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var f=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(d===1&&f.x===0&&f.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var m=o(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(m,this,!0),re(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,S(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",_c),ut.BoxZoom=dc,ut.DoubleClickZoom=uc,ut.Drag=fc,ut.Keyboard=pc,ut.ScrollWheelZoom=mc,ut.TapHold=gc,ut.TouchZoom=_c,i.Bounds=A,i.Browser=N,i.CRS=jt,i.Canvas=ac,i.Circle=bo,i.CircleMarker=Rr,i.Class=Ct,i.Control=Le,i.DivIcon=rc,i.DivOverlay=Ue,i.DomEvent=ff,i.DomUtil=df,i.Draggable=li,i.Evented=J,i.FeatureGroup=Ye,i.GeoJSON=Je,i.GridLayer=Mn,i.Handler=je,i.Icon=$i,i.ImageOverlay=Nr,i.LatLng=Z,i.LatLngBounds=T,i.Layer=Ne,i.LayerGroup=Hi,i.LineUtil=Sf,i.Map=ut,i.Marker=Pr,i.Mixin=bf,i.Path=ci,i.Point=P,i.PolyUtil=wf,i.Polygon=Wi,i.Polyline=Xe,i.Popup=Fr,i.PosAnimation=Bl,i.Projection=If,i.Rectangle=hc,i.Renderer=Qe,i.SVG=Rn,i.SVGOverlay=nc,i.TileLayer=qi,i.Tooltip=Vr,i.Transformation=tt,i.Util=st,i.VideoOverlay=ic,i.bind=o,i.bounds=U,i.canvas=lc,i.circle=Lf,i.circleMarker=Of,i.control=Sn,i.divIcon=Hf,i.extend=e,i.featureGroup=Rf,i.geoJSON=ec,i.geoJson=Vf,i.gridLayer=$f,i.icon=Af,i.imageOverlay=zf,i.latLng=B,i.latLngBounds=it,i.layerGroup=Pf,i.map=pf,i.marker=kf,i.point=O,i.polygon=Ff,i.polyline=Nf,i.popup=Uf,i.rectangle=qf,i.setOptions=j,i.stamp=h,i.svg=cc,i.svgOverlay=jf,i.tileLayer=sc,i.tooltip=Zf,i.transformation=yt,i.version=n,i.videoOverlay=Bf;var Yf=window.L;i.noConflict=function(){return window.L=Yf,this},window.L=i})});var $n=class{},ls=class{},Ai=class i{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let s=e.indexOf(":");if(s>0){let o=e.slice(0,s),l=o.toLowerCase(),h=e.slice(s+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,s)=>{this.setHeaderEntries(s,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,s])=>{this.setHeaderEntries(e,s)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(n.name,e);let o=(n.op==="a"?this.headers.get(e):void 0)||[];o.push(...s),this.headers.set(e,o);break;case"d":let l=n.value;if(!l)this.headers.delete(e),this.normalizedNames.delete(e);else{let h=this.headers.get(e);if(!h)return;h=h.filter(u=>l.indexOf(u)===-1),h.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}break}}setHeaderEntries(n,e){let s=(Array.isArray(e)?e:[e]).map(l=>l.toString()),o=n.toLowerCase();this.headers.set(o,s),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Xo=class{encodeKey(n){return dh(n)}encodeValue(n){return dh(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function lp(i,n){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{let l=o.indexOf("="),[h,u]=l==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,l)),n.decodeValue(o.slice(l+1))],p=e.get(h)||[];p.push(u),e.set(h,p)}),e}var cp=/%(\d[a-f0-9])/gi,hp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dh(i){return encodeURIComponent(i).replace(cp,(n,e)=>hp[e]??n)}function as(i){return`${i}`}var mi=class i{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Xo,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lp(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let s=n.fromObject[e],o=Array.isArray(s)?s.map(as):[as(s)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(s=>{let o=n[s];Array.isArray(o)?o.forEach(l=>{e.push({param:s,value:l,op:"a"})}):e.push({param:s,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(as(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let s=this.map.get(n.param)||[],o=s.indexOf(as(n.value));o!==-1&&s.splice(o,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Jo=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function dp(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uh(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function fh(i){return typeof Blob<"u"&&i instanceof Blob}function ph(i){return typeof FormData<"u"&&i instanceof FormData}function up(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Hn=class i{constructor(n,e,s,o){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let l;if(dp(this.method)||o?(this.body=s!==void 0?s:null,l=o):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Ai,this.context??=new Jo,!this.params)this.params=new mi,this.urlWithParams=e;else{let h=this.params.toString();if(h.length===0)this.urlWithParams=e;else{let u=e.indexOf("?"),p=u===-1?"?":u<e.length-1?"&":"";this.urlWithParams=e+p+h}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uh(this.body)||fh(this.body)||ph(this.body)||up(this.body)?this.body:this.body instanceof mi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ph(this.body)?null:fh(this.body)?this.body.type||null:uh(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,s=n.url||this.url,o=n.responseType||this.responseType,l=n.transferCache??this.transferCache,h=n.body!==void 0?n.body:this.body,u=n.withCredentials??this.withCredentials,p=n.reportProgress??this.reportProgress,g=n.headers||this.headers,w=n.params||this.params,E=n.context??this.context;return n.setHeaders!==void 0&&(g=Object.keys(n.setHeaders).reduce((z,j)=>z.set(j,n.setHeaders[j]),g)),n.setParams&&(w=Object.keys(n.setParams).reduce((z,j)=>z.set(j,n.setParams[j]),w)),new i(e,s,h,{params:w,headers:g,context:E,reportProgress:p,responseType:o,withCredentials:u,transferCache:l})}},rn=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(rn||{}),Wn=class{constructor(n,e=ds.Ok,s="OK"){this.headers=n.headers||new Ai,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Qo=class i extends Wn{constructor(n={}){super(n),this.type=rn.ResponseHeader}clone(n={}){return new i({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},cs=class i extends Wn{constructor(n={}){super(n),this.type=rn.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new i({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},hs=class extends Wn{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},ds=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(ds||{});function Yo(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ta=(()=>{class i{constructor(e){this.handler=e}request(e,s,o={}){let l;if(e instanceof Hn)l=e;else{let p;o.headers instanceof Ai?p=o.headers:p=new Ai(o.headers);let g;o.params&&(o.params instanceof mi?g=o.params:g=new mi({fromObject:o.params})),l=new Hn(e,s,o.body!==void 0?o.body:null,{headers:p,context:o.context,params:g,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let h=$(l).pipe(di(p=>this.handler.handle(p)));if(e instanceof Hn||o.observe==="events")return h;let u=h.pipe(Ze(p=>p instanceof cs));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(lt(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe(lt(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe(lt(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return u.pipe(lt(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:new mi().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,o={}){return this.request("PATCH",e,Yo(o,s))}post(e,s,o={}){return this.request("POST",e,Yo(o,s))}put(e,s,o={}){return this.request("PUT",e,Yo(o,s))}static{this.\u0275fac=function(s){return new(s||i)(k($n))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();function yh(i,n){return n(i)}function fp(i,n){return(e,s)=>n.intercept(e,{handle:o=>i(o,s)})}function pp(i,n,e){return(s,o)=>$e(e,()=>n(s,l=>i(l,o)))}var mp=new ot(""),ea=new ot(""),gp=new ot(""),_p=new ot("");function vp(){let i=null;return(n,e)=>{i===null&&(i=(R(mp,{optional:!0})??[]).reduceRight(fp,yh));let s=R(zn),o=s.add();return i(n,e).pipe(Si(()=>s.remove(o)))}}var mh=(()=>{class i extends $n{constructor(e,s){super(),this.backend=e,this.injector=s,this.chain=null,this.pendingTasks=R(zn);let o=R(_p,{optional:!0});this.backend=o??e}handle(e){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ea),...this.injector.get(gp,[])]));this.chain=o.reduceRight((l,h)=>pp(l,h,this.injector),yh)}let s=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Si(()=>this.pendingTasks.remove(s)))}static{this.\u0275fac=function(s){return new(s||i)(k(ls),k(He))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();var yp=/^\)\]\}',?\n/;function bp(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var gh=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Vt(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?se(s.\u0275loadImpl()):$(null)).pipe(he(()=>new ei(l=>{let h=s.build();if(h.open(e.method,e.urlWithParams),e.withCredentials&&(h.withCredentials=!0),e.headers.forEach((Y,q)=>h.setRequestHeader(Y,q.join(","))),e.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let Y=e.detectContentTypeHeader();Y!==null&&h.setRequestHeader("Content-Type",Y)}if(e.responseType){let Y=e.responseType.toLowerCase();h.responseType=Y!=="json"?Y:"text"}let u=e.serializeBody(),p=null,g=()=>{if(p!==null)return p;let Y=h.statusText||"OK",q=new Ai(h.getAllResponseHeaders()),ht=bp(h)||e.url;return p=new Qo({headers:q,status:h.status,statusText:Y,url:ht}),p},w=()=>{let{headers:Y,status:q,statusText:ht,url:le}=g(),Tt=null;q!==ds.NoContent&&(Tt=typeof h.response>"u"?h.responseText:h.response),q===0&&(q=Tt?ds.Ok:0);let Xt=q>=200&&q<300;if(e.responseType==="json"&&typeof Tt=="string"){let gt=Tt;Tt=Tt.replace(yp,"");try{Tt=Tt!==""?JSON.parse(Tt):null}catch(_){Tt=gt,Xt&&(Xt=!1,Tt={error:_,text:Tt})}}Xt?(l.next(new cs({body:Tt,headers:Y,status:q,statusText:ht,url:le||void 0})),l.complete()):l.error(new hs({error:Tt,headers:Y,status:q,statusText:ht,url:le||void 0}))},E=Y=>{let{url:q}=g(),ht=new hs({error:Y,status:h.status||0,statusText:h.statusText||"Unknown Error",url:q||void 0});l.error(ht)},z=!1,j=Y=>{z||(l.next(g()),z=!0);let q={type:rn.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(q.total=Y.total),e.responseType==="text"&&h.responseText&&(q.partialText=h.responseText),l.next(q)},It=Y=>{let q={type:rn.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(q.total=Y.total),l.next(q)};return h.addEventListener("load",w),h.addEventListener("error",E),h.addEventListener("timeout",E),h.addEventListener("abort",E),e.reportProgress&&(h.addEventListener("progress",j),u!==null&&h.upload&&h.upload.addEventListener("progress",It)),h.send(u),l.next({type:rn.Sent}),()=>{h.removeEventListener("error",E),h.removeEventListener("abort",E),h.removeEventListener("load",w),h.removeEventListener("timeout",E),e.reportProgress&&(h.removeEventListener("progress",j),u!==null&&h.upload&&h.upload.removeEventListener("progress",It)),h.readyState!==h.DONE&&h.abort()}})))}static{this.\u0275fac=function(s){return new(s||i)(k(os))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),bh=new ot(""),wp="XSRF-TOKEN",Cp=new ot("",{providedIn:"root",factory:()=>wp}),xp="X-XSRF-TOKEN",Ep=new ot("",{providedIn:"root",factory:()=>xp}),us=class{},Dp=(()=>{class i{constructor(e,s,o){this.doc=e,this.platform=s,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=is(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(s){return new(s||i)(k(zt),k(ri),k(Cp))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();function Sp(i,n){let e=i.url.toLowerCase();if(!R(bh)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(i);let s=R(us).getToken(),o=R(Ep);return s!=null&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,s)})),n(i)}var wh=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(wh||{});function Ip(i,n){return{\u0275kind:i,\u0275providers:n}}function Tp(...i){let n=[ta,gh,mh,{provide:$n,useExisting:mh},{provide:ls,useExisting:gh},{provide:ea,useValue:Sp,multi:!0},{provide:bh,useValue:!0},{provide:us,useClass:Dp}];for(let e of i)n.push(...e.\u0275providers);return Qi(n)}var _h=new ot("");function Mp(){return Ip(wh.LegacyInterceptors,[{provide:_h,useFactory:vp},{provide:ea,useExisting:_h,multi:!0}])}var Ch=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({providers:[Tp(Mp())]})}}return i})();var ra=class extends ih{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sa=class i extends ra{static makeCurrent(){eh(new i)}onAndCancel(n,e,s){return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=Ap();return e==null?null:kp(e)}resetBaseElement(){Gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return is(document.cookie,n)}},Gn=null;function Ap(){return Gn=Gn||document.querySelector("base"),Gn?Gn.getAttribute("href"):null}function kp(i){return new URL(i,document.baseURI).pathname}var oa=class{addToWindow(n){fi.getAngularTestability=(s,o=!0)=>{let l=n.findTestabilityInTree(s,o);if(l==null)throw new Vt(5103,!1);return l},fi.getAllAngularTestabilities=()=>n.getAllTestabilities(),fi.getAllAngularRootElements=()=>n.getAllRootElements();let e=s=>{let o=fi.getAllAngularTestabilities(),l=o.length,h=function(){l--,l==0&&s()};o.forEach(u=>{u.whenStable(h)})};fi.frameworkStabilizers||(fi.frameworkStabilizers=[]),fi.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,s){if(e==null)return null;let o=n.getTestability(e);return o??(s?Ri().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},Op=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),aa=new ot(""),Dh=(()=>{class i{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,s,o){return this._findPluginFor(s).addEventListener(e,s,o)}getZone(){return this._zone}_findPluginFor(e){let s=this._eventNameToPlugin.get(e);if(s)return s;if(s=this._plugins.find(l=>l.supports(e)),!s)throw new Vt(5101,!1);return this._eventNameToPlugin.set(e,s),s}static{this.\u0275fac=function(s){return new(s||i)(k(aa),k(St))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),fs=class{constructor(n){this._doc=n}},ia="ng-app-id",Sh=(()=>{class i{constructor(e,s,o,l={}){this.doc=e,this.appId=s,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ss(l),this.resetHostNodes()}addStyles(e){for(let s of e)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(e){for(let s of e)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(s=>s.remove()),e.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let s of this.getAllStyles())this.addStyleToHost(e,s)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let s of this.hostNodes)this.addStyleToHost(s,e)}onStyleRemoved(e){let s=this.styleRef;s.get(e)?.elements?.forEach(o=>o.remove()),s.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${ia}="${this.appId}"]`);if(e?.length){let s=new Map;return e.forEach(o=>{o.textContent!=null&&s.set(o.textContent,o)}),s}return null}changeUsageCount(e,s){let o=this.styleRef;if(o.has(e)){let l=o.get(e);return l.usage+=s,l.usage}return o.set(e,{usage:s,elements:[]}),s}getStyleElement(e,s){let o=this.styleNodesInDOM,l=o?.get(s);if(l?.parentNode===e)return o.delete(s),l.removeAttribute(ia),l;{let h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=s,this.platformIsServer&&h.setAttribute(ia,this.appId),e.appendChild(h),h}}addStyleToHost(e,s){let o=this.getStyleElement(e,s),l=this.styleRef,h=l.get(s)?.elements;h?h.push(o):l.set(s,{elements:[o],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||i)(k(zt),k(Ln),k(Fn,8),k(ri))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),na={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ha=/%COMP%/g,Ih="%COMP%",Lp=`_nghost-${Ih}`,Np=`_ngcontent-${Ih}`,Fp=!0,Vp=new ot("",{providedIn:"root",factory:()=>Fp});function zp(i){return Np.replace(ha,i)}function Bp(i){return Lp.replace(ha,i)}function Th(i,n){return n.map(e=>e.replace(ha,i))}var ps=(()=>{class i{constructor(e,s,o,l,h,u,p,g=null){this.eventManager=e,this.sharedStylesHost=s,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=h,this.platformId=u,this.ngZone=p,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=ss(u),this.defaultRenderer=new qn(e,h,p,this.platformIsServer)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===kn.ShadowDom&&(s=$t(M({},s),{encapsulation:kn.Emulated}));let o=this.getOrCreateRenderer(e,s);return o instanceof ms?o.applyToHost(e):o instanceof Kn&&o.applyStyles(),o}getOrCreateRenderer(e,s){let o=this.rendererByCompId,l=o.get(s.id);if(!l){let h=this.doc,u=this.ngZone,p=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(s.encapsulation){case kn.Emulated:l=new ms(p,g,s,this.appId,w,h,u,E);break;case kn.ShadowDom:return new la(p,g,e,s,h,u,this.nonce,E);default:l=new Kn(p,g,s,w,h,u,E);break}o.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||i)(k(Dh),k(Sh),k(Ln),k(Vp),k(zt),k(ri),k(St),k(Fn))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),qn=class{constructor(n,e,s,o){this.eventManager=n,this.doc=e,this.ngZone=s,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(na[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(xh(n)?n.content:n).appendChild(e)}insertBefore(n,e,s){n&&(xh(n)?n.content:n).insertBefore(e,s)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let s=typeof n=="string"?this.doc.querySelector(n):n;if(!s)throw new Vt(-5104,!1);return e||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,s,o){if(o){e=o+":"+e;let l=na[o];l?n.setAttributeNS(l,e,s):n.setAttribute(e,s)}else n.setAttribute(e,s)}removeAttribute(n,e,s){if(s){let o=na[s];o?n.removeAttributeNS(o,e):n.removeAttribute(`${s}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,s,o){o&(Vn.DashCase|Vn.Important)?n.style.setProperty(e,s,o&Vn.Important?"important":""):n.style[e]=s}removeStyle(n,e,s){s&Vn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,s){n!=null&&(n[e]=s)}setValue(n,e){n.nodeValue=e}listen(n,e,s){if(typeof n=="string"&&(n=Ri().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(s))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function xh(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var la=class extends qn{constructor(n,e,s,o,l,h,u,p){super(n,l,h,p),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=Th(o.id,o.styles);for(let w of g){let E=document.createElement("style");u&&E.setAttribute("nonce",u),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,s){return super.insertBefore(this.nodeOrShadowRoot(n),e,s)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kn=class extends qn{constructor(n,e,s,o,l,h,u,p){super(n,l,h,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=p?Th(p,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ms=class extends Kn{constructor(n,e,s,o,l,h,u,p){let g=o+"-"+s.id;super(n,e,s,l,h,u,p,g),this.contentAttr=zp(g),this.hostAttr=Bp(g)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let s=super.createElement(n,e);return super.setAttribute(s,this.contentAttr,""),s}},jp=(()=>{class i extends fs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,o){return e.addEventListener(s,o,!1),()=>this.removeEventListener(e,s,o)}removeEventListener(e,s,o){return e.removeEventListener(s,o)}static{this.\u0275fac=function(s){return new(s||i)(k(zt))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),Eh=["alt","control","meta","shift"],Up={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zp={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Hp=(()=>{class i extends fs{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,s,o){let l=i.parseEventName(s),h=i.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(e,l.domEventName,h))}static parseEventName(e){let s=e.toLowerCase().split("."),o=s.shift();if(s.length===0||!(o==="keydown"||o==="keyup"))return null;let l=i._normalizeKey(s.pop()),h="",u=s.indexOf("code");if(u>-1&&(s.splice(u,1),h="code."),Eh.forEach(g=>{let w=s.indexOf(g);w>-1&&(s.splice(w,1),h+=g+".")}),h+=l,s.length!=0||l.length===0)return null;let p={};return p.domEventName=o,p.fullKey=h,p}static matchEventFullKeyCode(e,s){let o=Up[e.key]||e.key,l="";return s.indexOf("code.")>-1&&(o=e.code,l="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Eh.forEach(h=>{if(h!==o){let u=Zp[h];u(e)&&(l+=h+".")}}),l+=o,l===s)}static eventCallback(e,s,o){return l=>{i.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>s(l))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(s){return new(s||i)(k(zt))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();function $p(){sa.makeCurrent()}function Wp(){return new Fo}function Gp(){return Fc(document),document}var qp=[{provide:ri,useValue:lh},{provide:Vc,useValue:$p,multi:!0},{provide:zt,useFactory:Gp,deps:[]}],Mh=Yc(Xc,"browser",qp),Kp=new ot(""),Yp=[{provide:Xr,useClass:oa,deps:[]},{provide:qc,useClass:Jr,deps:[St,Wo,Xr]},{provide:Jr,useClass:Jr,deps:[St,Wo,Xr]}],Xp=[{provide:Nc,useValue:"root"},{provide:Fo,useFactory:Wp,deps:[]},{provide:aa,useClass:jp,multi:!0,deps:[zt,St,ri]},{provide:aa,useClass:Hp,multi:!0,deps:[zt]},ps,Sh,Dh,{provide:Hr,useExisting:ps},{provide:os,useClass:Op,deps:[]},[]],Ph=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Ln,useValue:e.appId}]}}static{this.\u0275fac=function(s){return new(s||i)(k(Kp,12))}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({providers:[...Xp,...Yp],imports:[ah,Jc]})}}return i})();var Rh=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(s){return new(s||i)(k(zt))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var et="primary",hr=Symbol("RouteTitle"),ma=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function cn(i){return new ma(i)}function Jp(i,n,e){let s=e.path.split("/");if(s.length>i.length||e.pathMatch==="full"&&(n.hasChildren()||s.length<i.length))return null;let o={};for(let l=0;l<s.length;l++){let h=s[l],u=i[l];if(h.startsWith(":"))o[h.substring(1)]=u;else if(h!==u.path)return null}return{consumed:i.slice(0,s.length),posParams:o}}function Qp(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!Ge(i[e],n[e]))return!1;return!0}function Ge(i,n){let e=i?ga(i):void 0,s=n?ga(n):void 0;if(!e||!s||e.length!=s.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!jh(i[o],n[o]))return!1;return!0}function ga(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function jh(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;let e=[...i].sort(),s=[...n].sort();return e.every((o,l)=>s[l]===o)}else return i===n}function Uh(i){return i.length>0?i[i.length-1]:null}function yi(i){return Mo(i)?i:Qr(i)?se(Promise.resolve(i)):$(i)}var tm={exact:Hh,subset:$h},Zh={exact:em,subset:im,ignored:()=>!0};function kh(i,n,e){return tm[e.paths](i.root,n.root,e.matrixParams)&&Zh[e.queryParams](i.queryParams,n.queryParams)&&!(e.fragment==="exact"&&i.fragment!==n.fragment)}function em(i,n){return Ge(i,n)}function Hh(i,n,e){if(!Oi(i.segments,n.segments)||!vs(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(let s in n.children)if(!i.children[s]||!Hh(i.children[s],n.children[s],e))return!1;return!0}function im(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>jh(i[e],n[e]))}function $h(i,n,e){return Wh(i,n,n.segments,e)}function Wh(i,n,e,s){if(i.segments.length>e.length){let o=i.segments.slice(0,e.length);return!(!Oi(o,e)||n.hasChildren()||!vs(o,e,s))}else if(i.segments.length===e.length){if(!Oi(i.segments,e)||!vs(i.segments,e,s))return!1;for(let o in n.children)if(!i.children[o]||!$h(i.children[o],n.children[o],s))return!1;return!0}else{let o=e.slice(0,i.segments.length),l=e.slice(i.segments.length);return!Oi(i.segments,o)||!vs(i.segments,o,s)||!i.children[et]?!1:Wh(i.children[et],n,l,s)}}function vs(i,n,e){return n.every((s,o)=>Zh[e](i[o].parameters,s.parameters))}var gi=class{constructor(n=new wt([],{}),e={},s=null){this.root=n,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap??=cn(this.queryParams),this._queryParamMap}toString(){return sm.serialize(this)}},wt=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ys(this)}},ki=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=cn(this.parameters),this._parameterMap}toString(){return qh(this)}};function nm(i,n){return Oi(i,n)&&i.every((e,s)=>Ge(e.parameters,n[s].parameters))}function Oi(i,n){return i.length!==n.length?!1:i.every((e,s)=>e.path===n[s].path)}function rm(i,n){let e=[];return Object.entries(i.children).forEach(([s,o])=>{s===et&&(e=e.concat(n(o,s)))}),Object.entries(i.children).forEach(([s,o])=>{s!==et&&(e=e.concat(n(o,s)))}),e}var dr=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:()=>new ir,providedIn:"root"})}}return i})(),ir=class{parse(n){let e=new va(n);return new gi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Yn(n.root,!0)}`,s=lm(n.queryParams),o=typeof n.fragment=="string"?`#${om(n.fragment)}`:"";return`${e}${s}${o}`}},sm=new ir;function ys(i){return i.segments.map(n=>qh(n)).join("/")}function Yn(i,n){if(!i.hasChildren())return ys(i);if(n){let e=i.children[et]?Yn(i.children[et],!1):"",s=[];return Object.entries(i.children).forEach(([o,l])=>{o!==et&&s.push(`${o}:${Yn(l,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}else{let e=rm(i,(s,o)=>o===et?[Yn(i.children[et],!1)]:[`${o}:${Yn(s,!1)}`]);return Object.keys(i.children).length===1&&i.children[et]!=null?`${ys(i)}/${e[0]}`:`${ys(i)}/(${e.join("//")})`}}function Gh(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gs(i){return Gh(i).replace(/%3B/gi,";")}function om(i){return encodeURI(i)}function _a(i){return Gh(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bs(i){return decodeURIComponent(i)}function Oh(i){return bs(i.replace(/\+/g,"%20"))}function qh(i){return`${_a(i.path)}${am(i.parameters)}`}function am(i){return Object.entries(i).map(([n,e])=>`;${_a(n)}=${_a(e)}`).join("")}function lm(i){let n=Object.entries(i).map(([e,s])=>Array.isArray(s)?s.map(o=>`${gs(e)}=${gs(o)}`).join("&"):`${gs(e)}=${gs(s)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var cm=/^[^\/()?;#]+/;function da(i){let n=i.match(cm);return n?n[0]:""}var hm=/^[^\/()?;=#]+/;function dm(i){let n=i.match(hm);return n?n[0]:""}var um=/^[^=?&#]+/;function fm(i){let n=i.match(um);return n?n[0]:""}var pm=/^[^&#]+/;function mm(i){let n=i.match(pm);return n?n[0]:""}var va=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(s[et]=new wt(n,e)),s}parseSegment(){let n=da(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new Vt(4009,!1);return this.capture(n),new ki(bs(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=dm(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){let o=da(this.remaining);o&&(s=o,this.capture(s))}n[bs(e)]=bs(s)}parseQueryParam(n){let e=fm(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){let h=mm(this.remaining);h&&(s=h,this.capture(s))}let o=Oh(e),l=Oh(s);if(n.hasOwnProperty(o)){let h=n[o];Array.isArray(h)||(h=[h],n[o]=h),h.push(l)}else n[o]=l}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=da(this.remaining),o=this.remaining[s.length];if(o!=="/"&&o!==")"&&o!==";")throw new Vt(4010,!1);let l;s.indexOf(":")>-1?(l=s.slice(0,s.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=et);let h=this.parseChildren();e[l]=Object.keys(h).length===1?h[et]:new wt([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new Vt(4011,!1)}};function Kh(i){return i.segments.length>0?new wt([],{[et]:i}):i}function Yh(i){let n={};for(let[s,o]of Object.entries(i.children)){let l=Yh(o);if(s===et&&l.segments.length===0&&l.hasChildren())for(let[h,u]of Object.entries(l.children))n[h]=u;else(l.segments.length>0||l.hasChildren())&&(n[s]=l)}let e=new wt(i.segments,n);return gm(e)}function gm(i){if(i.numberOfChildren===1&&i.children[et]){let n=i.children[et];return new wt(i.segments.concat(n.segments),n.children)}return i}function hn(i){return i instanceof gi}function _m(i,n,e=null,s=null){let o=Xh(i);return Jh(o,n,e,s)}function Xh(i){let n;function e(l){let h={};for(let p of l.children){let g=e(p);h[p.outlet]=g}let u=new wt(l.url,h);return l===i&&(n=u),u}let s=e(i.root),o=Kh(s);return n??o}function Jh(i,n,e,s){let o=i;for(;o.parent;)o=o.parent;if(n.length===0)return ua(o,o,o,e,s);let l=vm(n);if(l.toRoot())return ua(o,o,new wt([],{}),e,s);let h=ym(l,o,i),u=h.processChildren?Qn(h.segmentGroup,h.index,l.commands):td(h.segmentGroup,h.index,l.commands);return ua(o,h.segmentGroup,u,e,s)}function ws(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function nr(i){return typeof i=="object"&&i!=null&&i.outlets}function ua(i,n,e,s,o){let l={};s&&Object.entries(s).forEach(([p,g])=>{l[p]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`});let h;i===n?h=e:h=Qh(i,n,e);let u=Kh(Yh(h));return new gi(u,l,o)}function Qh(i,n,e){let s={};return Object.entries(i.children).forEach(([o,l])=>{l===n?s[o]=e:s[o]=Qh(l,n,e)}),new wt(i.segments,s)}var Cs=class{constructor(n,e,s){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=s,n&&s.length>0&&ws(s[0]))throw new Vt(4003,!1);let o=s.find(nr);if(o&&o!==Uh(s))throw new Vt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vm(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Cs(!0,0,i);let n=0,e=!1,s=i.reduce((o,l,h)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let u={};return Object.entries(l.outlets).forEach(([p,g])=>{u[p]=typeof g=="string"?g.split("/"):g}),[...o,{outlets:u}]}if(l.segmentPath)return[...o,l.segmentPath]}return typeof l!="string"?[...o,l]:h===0?(l.split("/").forEach((u,p)=>{p==0&&u==="."||(p==0&&u===""?e=!0:u===".."?n++:u!=""&&o.push(u))}),o):[...o,l]},[]);return new Cs(e,n,s)}var an=class{constructor(n,e,s){this.segmentGroup=n,this.processChildren=e,this.index=s}};function ym(i,n,e){if(i.isAbsolute)return new an(n,!0,0);if(!e)return new an(n,!1,NaN);if(e.parent===null)return new an(e,!0,0);let s=ws(i.commands[0])?0:1,o=e.segments.length-1+s;return bm(e,o,i.numberOfDoubleDots)}function bm(i,n,e){let s=i,o=n,l=e;for(;l>o;){if(l-=o,s=s.parent,!s)throw new Vt(4005,!1);o=s.segments.length}return new an(s,!1,o-l)}function wm(i){return nr(i[0])?i[0].outlets:{[et]:i}}function td(i,n,e){if(i??=new wt([],{}),i.segments.length===0&&i.hasChildren())return Qn(i,n,e);let s=Cm(i,n,e),o=e.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){let l=new wt(i.segments.slice(0,s.pathIndex),{});return l.children[et]=new wt(i.segments.slice(s.pathIndex),i.children),Qn(l,0,o)}else return s.match&&o.length===0?new wt(i.segments,{}):s.match&&!i.hasChildren()?ya(i,n,e):s.match?Qn(i,0,o):ya(i,n,e)}function Qn(i,n,e){if(e.length===0)return new wt(i.segments,{});{let s=wm(e),o={};if(Object.keys(s).some(l=>l!==et)&&i.children[et]&&i.numberOfChildren===1&&i.children[et].segments.length===0){let l=Qn(i.children[et],n,e);return new wt(i.segments,l.children)}return Object.entries(s).forEach(([l,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(o[l]=td(i.children[l],n,h))}),Object.entries(i.children).forEach(([l,h])=>{s[l]===void 0&&(o[l]=h)}),new wt(i.segments,o)}}function Cm(i,n,e){let s=0,o=n,l={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(s>=e.length)return l;let h=i.segments[o],u=e[s];if(nr(u))break;let p=`${u}`,g=s<e.length-1?e[s+1]:null;if(o>0&&p===void 0)break;if(p&&g&&typeof g=="object"&&g.outlets===void 0){if(!Nh(p,g,h))return l;s+=2}else{if(!Nh(p,{},h))return l;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}function ya(i,n,e){let s=i.segments.slice(0,n),o=0;for(;o<e.length;){let l=e[o];if(nr(l)){let p=xm(l.outlets);return new wt(s,p)}if(o===0&&ws(e[0])){let p=i.segments[n];s.push(new ki(p.path,Lh(e[0]))),o++;continue}let h=nr(l)?l.outlets[et]:`${l}`,u=o<e.length-1?e[o+1]:null;h&&u&&ws(u)?(s.push(new ki(h,Lh(u))),o+=2):(s.push(new ki(h,{})),o++)}return new wt(s,{})}function xm(i){let n={};return Object.entries(i).forEach(([e,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[e]=ya(new wt([],{}),0,s))}),n}function Lh(i){let n={};return Object.entries(i).forEach(([e,s])=>n[e]=`${s}`),n}function Nh(i,n,e){return i==e.path&&Ge(n,e.parameters)}var tr="imperative",ie=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(ie||{}),Re=class{constructor(n,e){this.id=n,this.url=e}},dn=class extends Re{constructor(n,e,s="imperative",o=null){super(n,e),this.type=ie.NavigationStart,this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},si=class extends Re{constructor(n,e,s){super(n,e),this.urlAfterRedirects=s,this.type=ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xe=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(xe||{}),xs=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(xs||{}),_i=class extends Re{constructor(n,e,s,o){super(n,e),this.reason=s,this.code=o,this.type=ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends Re{constructor(n,e,s,o){super(n,e),this.reason=s,this.code=o,this.type=ie.NavigationSkipped}},rr=class extends Re{constructor(n,e,s,o){super(n,e),this.error=s,this.target=o,this.type=ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Es=class extends Re{constructor(n,e,s,o){super(n,e),this.urlAfterRedirects=s,this.state=o,this.type=ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ba=class extends Re{constructor(n,e,s,o){super(n,e),this.urlAfterRedirects=s,this.state=o,this.type=ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wa=class extends Re{constructor(n,e,s,o,l){super(n,e),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=l,this.type=ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ca=class extends Re{constructor(n,e,s,o){super(n,e),this.urlAfterRedirects=s,this.state=o,this.type=ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xa=class extends Re{constructor(n,e,s,o){super(n,e),this.urlAfterRedirects=s,this.state=o,this.type=ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ea=class{constructor(n){this.route=n,this.type=ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Da=class{constructor(n){this.route=n,this.type=ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sa=class{constructor(n){this.snapshot=n,this.type=ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ia=class{constructor(n){this.snapshot=n,this.type=ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ta=class{constructor(n){this.snapshot=n,this.type=ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ma=class{constructor(n){this.snapshot=n,this.type=ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ds=class{constructor(n,e,s){this.routerEvent=n,this.position=e,this.anchor=s,this.type=ie.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},sr=class{},or=class{constructor(n){this.url=n}};var Pa=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ur,this.attachRef=null}},ur=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){let o=this.getOrCreateContext(e);o.outlet=s,this.contexts.set(e,o)}onChildOutletDestroyed(e){let s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new Pa,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ss=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Ra(n,this._root);return e?e.children.map(s=>s.value):[]}firstChild(n){let e=Ra(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Aa(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Aa(n,this._root).map(e=>e.value)}};function Ra(i,n){if(i===n.value)return n;for(let e of n.children){let s=Ra(i,e);if(s)return s}return null}function Aa(i,n){if(i===n.value)return[n];for(let e of n.children){let s=Aa(i,e);if(s.length)return s.unshift(n),s}return[]}var Ce=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function on(i){let n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}var Is=class extends Ss{constructor(n,e){super(n),this.snapshot=e,Ua(this,n)}toString(){return this.snapshot.toString()}};function ed(i){let n=Em(i),e=new _e([new ki("",{})]),s=new _e({}),o=new _e({}),l=new _e({}),h=new _e(""),u=new un(e,s,l,h,o,et,i,n.root);return u.snapshot=n.root,new Is(new Ce(u,[]),n)}function Em(i){let n={},e={},s={},o="",l=new ar([],n,s,o,e,et,i,null,{});return new Ts("",new Ce(l,[]))}var un=class{constructor(n,e,s,o,l,h,u,p){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=s,this.fragmentSubject=o,this.dataSubject=l,this.outlet=h,this.component=u,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(lt(g=>g[hr]))??$(void 0),this.url=n,this.params=e,this.queryParams=s,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(n=>cn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(n=>cn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ja(i,n,e="emptyOnly"){let s,{routeConfig:o}=i;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?s={params:M(M({},n.params),i.params),data:M(M({},n.data),i.data),resolve:M(M(M(M({},i.data),n.data),o?.data),i._resolvedData)}:s={params:M({},i.params),data:M({},i.data),resolve:M(M({},i.data),i._resolvedData??{})},o&&nd(o)&&(s.resolve[hr]=o.title),s}var ar=class{get title(){return this.data?.[hr]}constructor(n,e,s,o,l,h,u,p,g){this.url=n,this.params=e,this.queryParams=s,this.fragment=o,this.data=l,this.outlet=h,this.component=u,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(s=>s.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Ts=class extends Ss{constructor(n,e){super(e),this.url=n,Ua(this,e)}toString(){return id(this._root)}};function Ua(i,n){n.value._routerState=i,n.children.forEach(e=>Ua(i,e))}function id(i){let n=i.children.length>0?` { ${i.children.map(id).join(", ")} } `:"";return`${i.value}${n}`}function fa(i){if(i.snapshot){let n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ge(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Ge(n.params,e.params)||i.paramsSubject.next(e.params),Qp(n.url,e.url)||i.urlSubject.next(e.url),Ge(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function ka(i,n){let e=Ge(i.params,n.params)&&nm(i.url,n.url),s=!i.parent!=!n.parent;return e&&!s&&(!i.parent||ka(i.parent,n.parent))}function nd(i){return typeof i.title=="string"||i.title===null}var Za=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=R(ur),this.location=R(Wr),this.changeDetector=R(me),this.environmentInjector=R(He),this.inputBinder=R(ks,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:s,previousValue:o}=e.name;if(s)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Vt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Vt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Vt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Vt(4013,!1);this._activatedRoute=e;let o=this.location,h=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new Oa(e,u,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:p,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275dir=ye({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]})}}return i})(),Oa=class i{__ngOutletInjector(n){return new i(this.route,this.childContexts,n)}constructor(n,e,s){this.route=n,this.childContexts=e,this.parent=s}get(n,e){return n===un?this.route:n===ur?this.childContexts:this.parent.get(n,e)}},ks=new ot(""),Fh=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:s}=e,o=Yi([s.queryParams,s.params,s.data]).pipe(he(([l,h,u],p)=>(u=M(M(M({},l),h),u),p===0?$(u):Promise.resolve(u)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==s||s.component===null){this.unsubscribeFromRouteData(e);return}let h=th(s.component);if(!h){this.unsubscribeFromRouteData(e);return}for(let{templateName:u}of h.inputs)e.activatedComponentRef.setInput(u,l[u])});this.outletDataSubscriptions.set(e,o)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();function Dm(i,n,e){let s=lr(i,n._root,e?e._root:void 0);return new Is(s,n)}function lr(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){let s=e.value;s._futureSnapshot=n.value;let o=Sm(i,n,e);return new Ce(s,o)}else{if(i.shouldAttach(n.value)){let l=i.retrieve(n.value);if(l!==null){let h=l.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(u=>lr(i,u)),h}}let s=Im(n.value),o=n.children.map(l=>lr(i,l));return new Ce(s,o)}}function Sm(i,n,e){return n.children.map(s=>{for(let o of e.children)if(i.shouldReuseRoute(s.value,o.value.snapshot))return lr(i,s,o);return lr(i,s)})}function Im(i){return new un(new _e(i.url),new _e(i.params),new _e(i.queryParams),new _e(i.fragment),new _e(i.data),i.outlet,i.component,i)}var rd="ngNavigationCancelingError";function sd(i,n){let{redirectTo:e,navigationBehaviorOptions:s}=hn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=od(!1,xe.Redirect);return o.url=e,o.navigationBehaviorOptions=s,o}function od(i,n){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[rd]=!0,e.cancellationCode=n,e}function Tm(i){return ad(i)&&hn(i.url)}function ad(i){return!!i&&i[rd]}var Mm=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=oe({type:i,selectors:[["ng-component"]],standalone:!0,features:[pi],decls:1,vars:0,template:function(s,o){s&1&&Nt(0,"router-outlet")},dependencies:[Za],encapsulation:2})}}return i})();function Pm(i,n){return i.providers&&!i._injector&&(i._injector=jo(i.providers,n,`Route: ${i.path}`)),i._injector??n}function Ha(i){let n=i.children&&i.children.map(Ha),e=n?$t(M({},i),{children:n}):M({},i);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==et&&(e.component=Mm),e}function qe(i){return i.outlet||et}function Rm(i,n){let e=i.filter(s=>qe(s)===n);return e.push(...i.filter(s=>qe(s)!==n)),e}function fr(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Am=(i,n,e,s)=>lt(o=>(new La(n,o.targetRouterState,o.currentRouterState,e,s).activate(i),o)),La=class{constructor(n,e,s,o,l){this.routeReuseStrategy=n,this.futureState=e,this.currState=s,this.forwardEvent=o,this.inputBindingEnabled=l}activate(n){let e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,n),fa(this.futureState.root),this.activateChildRoutes(e,s,n)}deactivateChildRoutes(n,e,s){let o=on(e);n.children.forEach(l=>{let h=l.value.outlet;this.deactivateRoutes(l,o[h],s),delete o[h]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(n,e,s){let o=n.value,l=e?e.value:null;if(o===l)if(o.component){let h=s.getContext(o.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,s);else l&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let s=e.getContext(n.value.outlet),o=s&&n.value.component?s.children:e,l=on(n);for(let h of Object.values(l))this.deactivateRouteAndItsChildren(h,o);if(s&&s.outlet){let h=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:u})}}deactivateRouteAndOutlet(n,e){let s=e.getContext(n.value.outlet),o=s&&n.value.component?s.children:e,l=on(n);for(let h of Object.values(l))this.deactivateRouteAndItsChildren(h,o);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(n,e,s){let o=on(e);n.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],s),this.forwardEvent(new Ma(l.value.snapshot))}),n.children.length&&this.forwardEvent(new Ia(n.value.snapshot))}activateRoutes(n,e,s){let o=n.value,l=e?e.value:null;if(fa(o),o===l)if(o.component){let h=s.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,s);else if(o.component){let h=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let u=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(u.contexts),h.attachRef=u.componentRef,h.route=u.route.value,h.outlet&&h.outlet.attach(u.componentRef,u.route.value),fa(u.route.value),this.activateChildRoutes(n,null,h.children)}else{let u=fr(o.snapshot);h.attachRef=null,h.route=o,h.injector=u,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,s)}},Ms=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ln=class{constructor(n,e){this.component=n,this.route=e}};function km(i,n,e){let s=i._root,o=n?n._root:null;return Xn(s,o,e,[s.value])}function Om(i){let n=i.routeConfig?i.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:i,guards:n}}function pn(i,n){let e=Symbol(),s=n.get(i,e);return s===e?typeof i=="function"&&!Oc(i)?i:n.get(i):s}function Xn(i,n,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){let l=on(n);return i.children.forEach(h=>{Lm(h,l[h.value.outlet],e,s.concat([h.value]),o),delete l[h.value.outlet]}),Object.entries(l).forEach(([h,u])=>er(u,e.getContext(h),o)),o}function Lm(i,n,e,s,o={canDeactivateChecks:[],canActivateChecks:[]}){let l=i.value,h=n?n.value:null,u=e?e.getContext(i.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){let p=Nm(h,l,l.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new Ms(s)):(l.data=h.data,l._resolvedData=h._resolvedData),l.component?Xn(i,n,u?u.children:null,s,o):Xn(i,n,e,s,o),p&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new ln(u.outlet.component,h))}else h&&er(n,u,o),o.canActivateChecks.push(new Ms(s)),l.component?Xn(i,null,u?u.children:null,s,o):Xn(i,null,e,s,o);return o}function Nm(i,n,e){if(typeof e=="function")return e(i,n);switch(e){case"pathParamsChange":return!Oi(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Oi(i.url,n.url)||!Ge(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ka(i,n)||!Ge(i.queryParams,n.queryParams);case"paramsChange":default:return!ka(i,n)}}function er(i,n,e){let s=on(i),o=i.value;Object.entries(s).forEach(([l,h])=>{o.component?n?er(h,n.children.getContext(l),e):er(h,null,e):er(h,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new ln(n.outlet.component,o)):e.canDeactivateChecks.push(new ln(null,o)):e.canDeactivateChecks.push(new ln(null,o))}function pr(i){return typeof i=="function"}function Fm(i){return typeof i=="boolean"}function Vm(i){return i&&pr(i.canLoad)}function zm(i){return i&&pr(i.canActivate)}function Bm(i){return i&&pr(i.canActivateChild)}function jm(i){return i&&pr(i.canDeactivate)}function Um(i){return i&&pr(i.canMatch)}function ld(i){return i instanceof Ec||i?.name==="EmptyError"}var _s=Symbol("INITIAL_VALUE");function fn(){return he(i=>Yi(i.map(n=>n.pipe(ii(1),Ji(_s)))).pipe(lt(n=>{for(let e of n)if(e!==!0){if(e===_s)return _s;if(e===!1||e instanceof gi)return e}return!0}),Ze(n=>n!==_s),ii(1)))}function Zm(i,n){return ve(e=>{let{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return h.length===0&&l.length===0?$($t(M({},e),{guardsResult:!0})):Hm(h,s,o,i).pipe(ve(u=>u&&Fm(u)?$m(s,l,i,n):$(u)),lt(u=>$t(M({},e),{guardsResult:u})))})}function Hm(i,n,e,s){return se(i).pipe(ve(o=>Ym(o.component,o.route,e,n,s)),ui(o=>o!==!0,!0))}function $m(i,n,e,s){return se(n).pipe(di(o=>jr(Gm(o.route.parent,s),Wm(o.route,s),Km(i,o.path,e),qm(i,o.route,e))),ui(o=>o!==!0,!0))}function Wm(i,n){return i!==null&&n&&n(new Ta(i)),$(!0)}function Gm(i,n){return i!==null&&n&&n(new Sa(i)),$(!0)}function qm(i,n,e){let s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||s.length===0)return $(!0);let o=s.map(l=>Ro(()=>{let h=fr(n)??e,u=pn(l,h),p=zm(u)?u.canActivate(n,i):$e(h,()=>u(n,i));return yi(p).pipe(ui())}));return $(o).pipe(fn())}function Km(i,n,e){let s=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(h=>Om(h)).filter(h=>h!==null).map(h=>Ro(()=>{let u=h.guards.map(p=>{let g=fr(h.node)??e,w=pn(p,g),E=Bm(w)?w.canActivateChild(s,i):$e(g,()=>w(s,i));return yi(E).pipe(ui())});return $(u).pipe(fn())}));return $(l).pipe(fn())}function Ym(i,n,e,s,o){let l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!l||l.length===0)return $(!0);let h=l.map(u=>{let p=fr(n)??o,g=pn(u,p),w=jm(g)?g.canDeactivate(i,n,e,s):$e(p,()=>g(i,n,e,s));return yi(w).pipe(ui())});return $(h).pipe(fn())}function Xm(i,n,e,s){let o=n.canLoad;if(o===void 0||o.length===0)return $(!0);let l=o.map(h=>{let u=pn(h,i),p=Vm(u)?u.canLoad(n,e):$e(i,()=>u(n,e));return yi(p)});return $(l).pipe(fn(),cd(s))}function cd(i){return xc(ee(n=>{if(hn(n))throw sd(i,n)}),lt(n=>n===!0))}function Jm(i,n,e,s){let o=n.canMatch;if(!o||o.length===0)return $(!0);let l=o.map(h=>{let u=pn(h,i),p=Um(u)?u.canMatch(n,e):$e(i,()=>u(n,e));return yi(p)});return $(l).pipe(fn(),cd(s))}var cr=class{constructor(n){this.segmentGroup=n||null}},Ps=class extends Error{constructor(n){super(),this.urlTree=n}};function sn(i){return An(new cr(i))}function Qm(i){return An(new Vt(4e3,!1))}function tg(i){return An(od(!1,xe.GuardRejected))}var Na=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let s=[],o=e.root;for(;;){if(s=s.concat(o.segments),o.numberOfChildren===0)return $(s);if(o.numberOfChildren>1||!o.children[et])return Qm(n.redirectTo);o=o.children[et]}}applyRedirectCommands(n,e,s){let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,s);if(e.startsWith("/"))throw new Ps(o);return o}applyRedirectCreateUrlTree(n,e,s,o){let l=this.createSegmentGroup(n,e.root,s,o);return new gi(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let s={};return Object.entries(n).forEach(([o,l])=>{if(typeof l=="string"&&l.startsWith(":")){let u=l.substring(1);s[o]=e[u]}else s[o]=l}),s}createSegmentGroup(n,e,s,o){let l=this.createSegments(n,e.segments,s,o),h={};return Object.entries(e.children).forEach(([u,p])=>{h[u]=this.createSegmentGroup(n,p,s,o)}),new wt(l,h)}createSegments(n,e,s,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(n,l,o):this.findOrReturn(l,s))}findPosParam(n,e,s){let o=s[e.path.substring(1)];if(!o)throw new Vt(4001,!1);return o}findOrReturn(n,e){let s=0;for(let o of e){if(o.path===n.path)return e.splice(s),o;s++}return n}},Fa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eg(i,n,e,s,o){let l=$a(i,n,e);return l.matched?(s=Pm(n,s),Jm(s,n,e,o).pipe(lt(h=>h===!0?l:M({},Fa)))):$(l)}function $a(i,n,e){if(n.path==="**")return ig(e);if(n.path==="")return n.pathMatch==="full"&&(i.hasChildren()||e.length>0)?M({},Fa):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Jp)(e,i,n);if(!o)return M({},Fa);let l={};Object.entries(o.posParams??{}).forEach(([u,p])=>{l[u]=p.path});let h=o.consumed.length>0?M(M({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function ig(i){return{matched:!0,parameters:i.length>0?Uh(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Vh(i,n,e,s){return e.length>0&&sg(i,e,s)?{segmentGroup:new wt(n,rg(s,new wt(e,i.children))),slicedSegments:[]}:e.length===0&&og(i,e,s)?{segmentGroup:new wt(i.segments,ng(i,e,s,i.children)),slicedSegments:e}:{segmentGroup:new wt(i.segments,i.children),slicedSegments:e}}function ng(i,n,e,s){let o={};for(let l of e)if(Os(i,n,l)&&!s[qe(l)]){let h=new wt([],{});o[qe(l)]=h}return M(M({},s),o)}function rg(i,n){let e={};e[et]=n;for(let s of i)if(s.path===""&&qe(s)!==et){let o=new wt([],{});e[qe(s)]=o}return e}function sg(i,n,e){return e.some(s=>Os(i,n,s)&&qe(s)!==et)}function og(i,n,e){return e.some(s=>Os(i,n,s))}function Os(i,n,e){return(i.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ag(i,n,e,s){return qe(i)!==s&&(s===et||!Os(n,e,i))?!1:$a(n,i,e).matched}function lg(i,n,e){return n.length===0&&!i.children[e]}var Va=class{};function cg(i,n,e,s,o,l,h="emptyOnly"){return new za(i,n,e,s,o,h,l).recognize()}var hg=31,za=class{constructor(n,e,s,o,l,h,u){this.injector=n,this.configLoader=e,this.rootComponentType=s,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=h,this.urlSerializer=u,this.applyRedirects=new Na(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Vt(4002,`'${n.segmentGroup}'`)}recognize(){let n=Vh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(lt(e=>{let s=new ar([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),o=new Ce(s,e),l=new Ts("",o),h=_m(s,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(l._root,null),{state:l,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,et).pipe(Xi(s=>{if(s instanceof Ps)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof cr?this.noMatchError(s):s}))}inheritParamsAndData(n,e){let s=n.value,o=ja(s,e,this.paramsInheritanceStrategy);s.params=Object.freeze(o.params),s.data=Object.freeze(o.data),n.children.forEach(l=>this.inheritParamsAndData(l,s))}processSegmentGroup(n,e,s,o){return s.segments.length===0&&s.hasChildren()?this.processChildren(n,e,s):this.processSegment(n,e,s,s.segments,o,!0).pipe(lt(l=>l instanceof Ce?[l]:[]))}processChildren(n,e,s){let o=[];for(let l of Object.keys(s.children))l==="primary"?o.unshift(l):o.push(l);return se(o).pipe(di(l=>{let h=s.children[l],u=Rm(e,l);return this.processSegmentGroup(n,u,h,l)}),Ac((l,h)=>(l.push(...h),l)),Ao(null),Rc(),ve(l=>{if(l===null)return sn(s);let h=hd(l);return dg(h),$(h)}))}processSegment(n,e,s,o,l,h){return se(e).pipe(di(u=>this.processSegmentAgainstRoute(u._injector??n,e,u,s,o,l,h).pipe(Xi(p=>{if(p instanceof cr)return $(null);throw p}))),ui(u=>!!u),Xi(u=>{if(ld(u))return lg(s,o,l)?$(new Va):sn(s);throw u}))}processSegmentAgainstRoute(n,e,s,o,l,h,u){return ag(s,o,l,h)?s.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,s,l,h):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,s,l,h):sn(o):sn(o)}expandSegmentAgainstRouteUsingRedirect(n,e,s,o,l,h){let{matched:u,consumedSegments:p,positionalParamSegments:g,remainingSegments:w}=$a(e,o,l);if(!u)return sn(e);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hg&&(this.allowRedirects=!1));let E=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,g);return this.applyRedirects.lineralizeSegments(o,E).pipe(ve(z=>this.processSegment(n,s,e,z.concat(w),h,!1)))}matchSegmentAgainstRoute(n,e,s,o,l){let h=eg(e,s,o,n,this.urlSerializer);return s.path==="**"&&(e.children={}),h.pipe(he(u=>u.matched?(n=s._injector??n,this.getChildConfig(n,s,o).pipe(he(({routes:p})=>{let g=s._loadedInjector??n,{consumedSegments:w,remainingSegments:E,parameters:z}=u,j=new ar(w,z,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,fg(s),qe(s),s.component??s._loadedComponent??null,s,pg(s)),{segmentGroup:It,slicedSegments:Y}=Vh(e,w,E,p);if(Y.length===0&&It.hasChildren())return this.processChildren(g,p,It).pipe(lt(ht=>ht===null?null:new Ce(j,ht)));if(p.length===0&&Y.length===0)return $(new Ce(j,[]));let q=qe(s)===l;return this.processSegment(g,p,It,Y,q?et:l,!0).pipe(lt(ht=>new Ce(j,ht instanceof Ce?[ht]:[])))}))):sn(e)))}getChildConfig(n,e,s){return e.children?$({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?$({routes:e._loadedRoutes,injector:e._loadedInjector}):Xm(n,e,s,this.urlSerializer).pipe(ve(o=>o?this.configLoader.loadChildren(n,e).pipe(ee(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):tg(e))):$({routes:[],injector:n})}};function dg(i){i.sort((n,e)=>n.value.outlet===et?-1:e.value.outlet===et?1:n.value.outlet.localeCompare(e.value.outlet))}function ug(i){let n=i.value.routeConfig;return n&&n.path===""}function hd(i){let n=[],e=new Set;for(let s of i){if(!ug(s)){n.push(s);continue}let o=n.find(l=>s.value.routeConfig===l.value.routeConfig);o!==void 0?(o.children.push(...s.children),e.add(o)):n.push(s)}for(let s of e){let o=hd(s.children);n.push(new Ce(s.value,o))}return n.filter(s=>!e.has(s))}function fg(i){return i.data||{}}function pg(i){return i.resolve||{}}function mg(i,n,e,s,o,l){return ve(h=>cg(i,n,e,s,h.extractedUrl,o,l).pipe(lt(({state:u,tree:p})=>$t(M({},h),{targetSnapshot:u,urlAfterRedirects:p}))))}function gg(i,n){return ve(e=>{let{targetSnapshot:s,guards:{canActivateChecks:o}}=e;if(!o.length)return $(e);let l=new Set(o.map(p=>p.route)),h=new Set;for(let p of l)if(!h.has(p))for(let g of dd(p))h.add(g);let u=0;return se(h).pipe(di(p=>l.has(p)?_g(p,s,i,n):(p.data=ja(p,p.parent,i).resolve,$(void 0))),ee(()=>u++),ko(1),ve(p=>u===h.size?$(e):hi))})}function dd(i){let n=i.children.map(e=>dd(e)).flat();return[i,...n]}function _g(i,n,e,s){let o=i.routeConfig,l=i._resolve;return o?.title!==void 0&&!nd(o)&&(l[hr]=o.title),vg(l,i,n,s).pipe(lt(h=>(i._resolvedData=h,i.data=ja(i,i.parent,e).resolve,null)))}function vg(i,n,e,s){let o=ga(i);if(o.length===0)return $({});let l={};return se(o).pipe(ve(h=>yg(i[h],n,e,s).pipe(ui(),ee(u=>{l[h]=u}))),ko(1),Pc(l),Xi(h=>ld(h)?hi:An(h)))}function yg(i,n,e,s){let o=fr(n)??s,l=pn(i,o),h=l.resolve?l.resolve(n,e):$e(o,()=>l(n,e));return yi(h)}function pa(i){return he(n=>{let e=i(n);return e?se(e).pipe(lt(()=>n)):$(n)})}var ud=(()=>{class i{buildTitle(e){let s,o=e.root;for(;o!==void 0;)s=this.getResolvedTitleForRoute(o)??s,o=o.children.find(l=>l.outlet===et);return s}getResolvedTitleForRoute(e){return e.data[hr]}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:()=>R(bg),providedIn:"root"})}}return i})(),bg=(()=>{class i extends ud{constructor(e){super(),this.title=e}updateTitle(e){let s=this.buildTitle(e);s!==void 0&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||i)(k(Rh))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),mr=new ot("",{providedIn:"root",factory:()=>({})}),Rs=new ot(""),Wa=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(ts)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let s=yi(e.loadComponent()).pipe(lt(fd),ee(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Si(()=>{this.componentLoaders.delete(e)})),o=new Io(s,()=>new vt).pipe(So());return this.componentLoaders.set(e,o),o}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return $({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let l=wg(s,this.compiler,e,this.onLoadEndListener).pipe(Si(()=>{this.childrenLoaders.delete(s)})),h=new Io(l,()=>new vt).pipe(So());return this.childrenLoaders.set(s,h),h}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function wg(i,n,e,s){return yi(i.loadChildren()).pipe(lt(fd),ve(o=>o instanceof Bc||Array.isArray(o)?$(o):se(n.compileModuleAsync(o))),lt(o=>{s&&s(i);let l,h,u=!1;return Array.isArray(o)?(h=o,u=!0):(l=o.create(e).injector,h=l.get(Rs,[],{optional:!0,self:!0}).flat()),{routes:h.map(Ha),injector:l}}))}function Cg(i){return i&&typeof i=="object"&&"default"in i}function fd(i){return Cg(i)?i.default:i}var Ga=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:()=>R(xg),providedIn:"root"})}}return i})(),xg=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),pd=new ot(""),md=new ot("");function Eg(i,n,e){let s=i.get(md),o=i.get(zt);return i.get(St).runOutsideAngular(()=>{if(!o.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(g=>setTimeout(g));let l,h=new Promise(g=>{l=g}),u=o.startViewTransition(()=>(l(),Dg(i))),{onViewTransitionCreated:p}=s;return p&&$e(i,()=>p({transition:u,from:n,to:e})),h})}function Dg(i){return new Promise(n=>{Bo(n,{injector:i})})}var qa=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=R(Wa),this.environmentInjector=R(He),this.urlSerializer=R(dr),this.rootContexts=R(ur),this.location=R(Zn),this.inputBindingEnabled=R(ks,{optional:!0})!==null,this.titleStrategy=R(ud),this.options=R(mr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Ga),this.createViewTransition=R(pd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let e=o=>this.events.next(new Ea(o)),s=o=>this.events.next(new Da(o));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let s=++this.navigationId;this.transitions?.next($t(M(M({},this.transitions.value),e),{id:s}))}setupNavigations(e,s,o){return this.transitions=new _e({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ze(l=>l.id!==0),lt(l=>$t(M({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),he(l=>{let h=!1,u=!1;return $(l).pipe(he(p=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",xe.SupersededByNewNavigation),hi;this.currentTransition=l,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?$t(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let g=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),w=p.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!g&&w!=="reload"){let E="";return this.events.next(new vi(p.id,this.urlSerializer.serialize(p.rawUrl),E,xs.IgnoredSameUrlNavigation)),p.resolve(null),hi}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return $(p).pipe(he(E=>{let z=this.transitions?.getValue();return this.events.next(new dn(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),z!==this.transitions?.getValue()?hi:Promise.resolve(E)}),mg(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ee(E=>{l.targetSnapshot=E.targetSnapshot,l.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation=$t(M({},this.currentNavigation),{finalUrl:E.urlAfterRedirects});let z=new Es(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(z)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:E,extractedUrl:z,source:j,restoredState:It,extras:Y}=p,q=new dn(E,this.urlSerializer.serialize(z),j,It);this.events.next(q);let ht=ed(this.rootComponentType).snapshot;return this.currentTransition=l=$t(M({},p),{targetSnapshot:ht,urlAfterRedirects:z,extras:$t(M({},Y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=z,$(l)}else{let E="";return this.events.next(new vi(p.id,this.urlSerializer.serialize(p.extractedUrl),E,xs.IgnoredByUrlHandlingStrategy)),p.resolve(null),hi}}),ee(p=>{let g=new ba(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),lt(p=>(this.currentTransition=l=$t(M({},p),{guards:km(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),l)),Zm(this.environmentInjector,p=>this.events.next(p)),ee(p=>{if(l.guardsResult=p.guardsResult,hn(p.guardsResult))throw sd(this.urlSerializer,p.guardsResult);let g=new wa(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(g)}),Ze(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",xe.GuardRejected),!1)),pa(p=>{if(p.guards.canActivateChecks.length)return $(p).pipe(ee(g=>{let w=new Ca(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),he(g=>{let w=!1;return $(g).pipe(gg(this.paramsInheritanceStrategy,this.environmentInjector),ee({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(g,"",xe.NoDataFromResolver)}}))}),ee(g=>{let w=new xa(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),pa(p=>{let g=w=>{let E=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(w.routeConfig).pipe(ee(z=>{w.component=z}),lt(()=>{})));for(let z of w.children)E.push(...g(z));return E};return Yi(g(p.targetSnapshot.root)).pipe(Ao(null),ii(1))}),pa(()=>this.afterPreactivation()),he(()=>{let{currentSnapshot:p,targetSnapshot:g}=l,w=this.createViewTransition?.(this.environmentInjector,p.root,g.root);return w?se(w).pipe(lt(()=>l)):$(l)}),lt(p=>{let g=Dm(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=l=$t(M({},p),{targetRouterState:g}),this.currentNavigation.targetRouterState=g,l}),ee(()=>{this.events.next(new sr)}),Am(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),ii(1),ee({next:p=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{h=!0}}),Ii(this.transitionAbortSubject.pipe(ee(p=>{throw p}))),Si(()=>{!h&&!u&&this.cancelNavigationTransition(l,"",xe.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xi(p=>{if(u=!0,ad(p))this.events.next(new _i(l.id,this.urlSerializer.serialize(l.extractedUrl),p.message,p.cancellationCode)),Tm(p)?this.events.next(new or(p.url)):l.resolve(!1);else{this.events.next(new rr(l.id,this.urlSerializer.serialize(l.extractedUrl),p,l.targetSnapshot??void 0));try{l.resolve(e.errorHandler(p))}catch(g){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(g)}}return hi}))}))}cancelNavigationTransition(e,s,o){let l=new _i(e.id,this.urlSerializer.serialize(e.extractedUrl),s,o);this.events.next(l),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Sg(i){return i!==tr}var Ig=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:()=>R(Tg),providedIn:"root"})}}return i})(),Ba=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},Tg=(()=>{class i extends Ba{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=On(i)))(o||i)}})()}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),gd=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:()=>R(Mg),providedIn:"root"})}}return i})(),Mg=(()=>{class i extends gd{constructor(){super(...arguments),this.location=R(Zn),this.urlSerializer=R(dr),this.options=R(mr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Ga),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ed(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(s=>{s.type==="popstate"&&e(s.url,s.state)})}handleRouterEvent(e,s){if(e instanceof dn)this.stateMemento=this.createStateMemento();else if(e instanceof vi)this.rawUrlTree=s.initialUrl;else if(e instanceof Es){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(o,s)}}else e instanceof sr?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):e instanceof _i&&(e.code===xe.GuardRejected||e.code===xe.NoDataFromResolver)?this.restoreHistory(s):e instanceof rr?this.restoreHistory(s,!0):e instanceof si&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,s){let o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl){let l=this.browserPageId,h=M(M({},s.extras.state),this.generateNgRouterState(s.id,l));this.location.replaceState(o,"",h)}else{let l=M(M({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(o,"",l)}}restoreHistory(e,s=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,l=this.currentPageId-o;l!==0?this.location.historyGo(l):this.currentUrlTree===e.finalUrl&&l===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=On(i)))(o||i)}})()}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Jn=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Jn||{});function _d(i,n){i.events.pipe(Ze(e=>e instanceof si||e instanceof _i||e instanceof rr||e instanceof vi),lt(e=>e instanceof si||e instanceof vi?Jn.COMPLETE:(e instanceof _i?e.code===xe.Redirect||e.code===xe.SupersededByNewNavigation:!1)?Jn.REDIRECTING:Jn.FAILED),Ze(e=>e!==Jn.REDIRECTING),ii(1)).subscribe(()=>{n()})}function Pg(i){throw i}var Rg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ag={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Li=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(Yr),this.stateManager=R(gd),this.options=R(mr,{optional:!0})||{},this.pendingTasks=R(zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(qa),this.urlSerializer=R(dr),this.location=R(Zn),this.urlHandlingStrategy=R(Ga),this._events=new vt,this.errorHandler=this.options.errorHandler||Pg,this.navigated=!1,this.routeReuseStrategy=R(Ig),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Rs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(ks,{optional:!0}),this.eventsSubscription=new ti,this.isNgZoneEnabled=R(St)instanceof St&&St.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(s=>{try{let o=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(o!==null&&l!==null){if(this.stateManager.handleRouterEvent(s,l),s instanceof _i&&s.code!==xe.Redirect&&s.code!==xe.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof si)this.navigated=!0;else if(s instanceof or){let h=this.urlHandlingStrategy.merge(s.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Sg(o.source)};this.scheduleNavigation(h,tr,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Og(s)&&this._events.next(s)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",s)},0)})}navigateToSyncWithBrowser(e,s,o){let l={replaceUrl:!0},h=o?.navigationId?o:null;if(o){let p=M({},o);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(l.state=p)}let u=this.parseUrl(e);this.scheduleNavigation(u,s,h,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ha),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,s={}){let{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:u,preserveFragment:p}=s,g=p?this.currentUrlTree.fragment:h,w=null;switch(u){case"merge":w=M(M({},this.currentUrlTree.queryParams),l);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=l||null}w!==null&&(w=this.removeEmptyProps(w));let E;try{let z=o?o.snapshot:this.routerState.snapshot.root;E=Xh(z)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),E=this.currentUrlTree.root}return Jh(E,e,w,g??null)}navigateByUrl(e,s={skipLocationChange:!1}){let o=hn(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,tr,null,s)}navigate(e,s={skipLocationChange:!1}){return kg(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,s){let o;if(s===!0?o=M({},Rg):s===!1?o=M({},Ag):o=s,hn(e))return kh(this.currentUrlTree,e,o);let l=this.parseUrl(e);return kh(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.entries(e).reduce((s,[o,l])=>(l!=null&&(s[o]=l),s),{})}scheduleNavigation(e,s,o,l,h){if(this.disposed)return Promise.resolve(!1);let u,p,g;h?(u=h.resolve,p=h.reject,g=h.promise):g=new Promise((E,z)=>{u=E,p=z});let w=this.pendingTasks.add();return _d(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:l,resolve:u,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(E=>Promise.reject(E))}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kg(i){for(let n=0;n<i.length;n++)if(i[n]==null)throw new Vt(4008,!1)}function Og(i){return!(i instanceof sr)&&!(i instanceof or)}var As=class{};var Lg=(()=>{class i{constructor(e,s,o,l,h){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(e=>e instanceof si),di(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){let o=[];for(let l of s){l.providers&&!l._injector&&(l._injector=jo(l.providers,e,`Route: ${l.path}`));let h=l._injector??e,u=l._loadedInjector??h;(l.loadChildren&&!l._loadedRoutes&&l.canLoad===void 0||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(h,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(u,l.children??l._loadedRoutes))}return se(o).pipe(Po())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let o;s.loadChildren&&s.canLoad===void 0?o=this.loader.loadChildren(e,s):o=$(null);let l=o.pipe(ve(h=>h===null?$(void 0):(s._loadedRoutes=h.routes,s._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(s.loadComponent&&!s._loadedComponent){let h=this.loader.loadComponent(s);return se([l,h]).pipe(Po())}else return l})}static{this.\u0275fac=function(s){return new(s||i)(k(Li),k(ts),k(He),k(As),k(Wa))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),vd=new ot(""),Ng=(()=>{class i{constructor(e,s,o,l,h={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=o,this.zone=l,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=R(He),h.scrollPositionRestoration||="disabled",h.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof si?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof vi&&e.code===xs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ds&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>Do(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Bo(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ds(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,s))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(s){Zr()}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})();function Fg(i){return i.routerState.root}function gr(i,n){return{\u0275kind:i,\u0275providers:n}}function Vg(){let i=R(Ur);return n=>{let e=i.get(en);if(n!==e.components[0])return;let s=i.get(Li),o=i.get(yd);i.get(Ka)===1&&s.initialNavigation(),i.get(bd,null,Lo.Optional)?.setUpPreloading(),i.get(vd,null,Lo.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var yd=new ot("",{factory:()=>new vt}),Ka=new ot("",{providedIn:"root",factory:()=>1});function zg(){return gr(2,[{provide:Ka,useValue:0},{provide:Go,multi:!0,deps:[Ur],useFactory:n=>{let e=n.get(nh,Promise.resolve());return()=>e.then(()=>new Promise(s=>{let o=n.get(Li),l=n.get(yd);_d(o,()=>{s(!0)}),n.get(qa).afterPreactivation=()=>(s(!0),l.closed?$(void 0):l),o.initialNavigation()}))}}])}function Bg(){return gr(3,[{provide:Go,multi:!0,useFactory:()=>{let n=R(Li);return()=>{n.setUpLocationChangeListener()}}},{provide:Ka,useValue:2}])}var bd=new ot("");function jg(i){return gr(0,[{provide:bd,useExisting:Lg},{provide:As,useExisting:i}])}function Ug(){return gr(8,[Fh,{provide:ks,useExisting:Fh}])}function Zg(i){let n=[{provide:pd,useValue:Eg},{provide:md,useValue:M({skipNextTransition:!!i?.skipInitialTransition},i)}];return gr(9,n)}var zh=new ot("ROUTER_FORROOT_GUARD"),Hg=[Zn,{provide:dr,useClass:ir},Li,ur,{provide:un,useFactory:Fg,deps:[Li]},Wa,[]],Ya=(()=>{class i{constructor(e){}static forRoot(e,s){return{ngModule:i,providers:[Hg,[],{provide:Rs,multi:!0,useValue:e},{provide:zh,useFactory:qg,deps:[[Li,new No,new Lc]]},{provide:mr,useValue:s||{}},s?.useHash?Wg():Gg(),$g(),s?.preloadingStrategy?jg(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?Kg(s):[],s?.bindToComponentInputs?Ug().\u0275providers:[],s?.enableViewTransitions?Zg().\u0275providers:[],Yg()]}}static forChild(e){return{ngModule:i,providers:[{provide:Rs,multi:!0,useValue:e}]}}static{this.\u0275fac=function(s){return new(s||i)(k(zh,8))}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({})}}return i})();function $g(){return{provide:vd,useFactory:()=>{let i=R(hh),n=R(St),e=R(mr),s=R(qa),o=R(dr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Ng(o,s,i,n,e)}}}function Wg(){return{provide:Un,useClass:es}}function Gg(){return{provide:Un,useClass:rh}}function qg(i){return"guarded"}function Kg(i){return[i.initialNavigation==="disabled"?Bg().\u0275providers:[],i.initialNavigation==="enabledBlocking"?zg().\u0275providers:[]]}var Bh=new ot("");function Yg(){return[{provide:Bh,useFactory:Vg},{provide:qo,multi:!0,useExisting:Bh}]}var wd=(()=>{class i{constructor(){this.title="WeMaps Upladdress"}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=oe({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(s,o){s&1&&Nt(0,"router-outlet")},dependencies:[Za],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.message[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(145deg,#fff,#d9e8f6);border-radius:10px;font-size:18px;font-weight:700;text-align:center;max-width:400px;width:80%}.success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.error[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.drop-area.drag-over[_ngcontent-%COMP%]{border-color:#007bff;background-color:#cce5ff}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5;-webkit-user-select:none;user-select:none}#json-output[_ngcontent-%COMP%]{background-color:#2e2e2e;color:#f5f5f5;font-family:Courier New,Courier,monospace;padding:20px;border-radius:5px;border:1px solid #444;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;font-size:14px;box-shadow:0 0 10px #00000080}.scrollable-address_format[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;border:1px solid #ccc;padding:10px;background-color:#f9f9f9;border-radius:5px}.drag-area[_ngcontent-%COMP%]{border:2px dashed #ccc;padding:10px;border-radius:5px;min-height:100px;background-color:#f9f9f9}.drag-item[_ngcontent-%COMP%]{background:linear-gradient(145deg,#e2e8f0,#cbd5e0);border:1px solid #6c757d;padding:8px 15px;margin:5px;border-radius:5px;cursor:grab;display:inline-block}.drop-area[_ngcontent-%COMP%]{border:2px solid #ccc;padding:10px;min-height:50px;background-color:#eaf4fc;display:flex;flex-wrap:wrap;gap:5px}']})}}return i})();var Md=(()=>{class i{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(s){return new(s||i)(xt($r),xt(be))}}static{this.\u0275dir=ye({type:i})}}return i})(),Jg=(()=>{class i extends Md{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=On(i)))(o||i)}})()}static{this.\u0275dir=ye({type:i,features:[tn]})}}return i})(),Pd=new ot("");var Qg={provide:Pd,useExisting:Oo(()=>Vs),multi:!0};function t_(){let i=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var e_=new ot(""),Vs=(()=>{class i extends Md{constructor(e,s,o){super(e,s),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!t_())}writeValue(e){let s=e??"";this.setProperty("value",s)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(s){return new(s||i)(xt($r),xt(be),xt(e_,8))}}static{this.\u0275dir=ye({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,o){s&1&&Ft("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[Pi([Qg]),tn]})}}return i})();var i_=new ot(""),n_=new ot("");function Rd(i){return i!=null}function Ad(i){return Qr(i)?se(i):i}function kd(i){let n={};return i.forEach(e=>{n=e!=null?M(M({},n),e):n}),Object.keys(n).length===0?null:n}function Od(i,n){return n.map(e=>e(i))}function r_(i){return!i.validate}function Ld(i){return i.map(n=>r_(n)?n:e=>n.validate(e))}function s_(i){if(!i)return null;let n=i.filter(Rd);return n.length==0?null:function(e){return kd(Od(e,n))}}function Nd(i){return i!=null?s_(Ld(i)):null}function o_(i){if(!i)return null;let n=i.filter(Rd);return n.length==0?null:function(e){let s=Od(e,n).map(Ad);return Dc(s).pipe(lt(kd))}}function Fd(i){return i!=null?o_(Ld(i)):null}function Cd(i,n){return i===null?[n]:Array.isArray(i)?[...i,n]:[i,n]}function a_(i){return i._rawValidators}function l_(i){return i._rawAsyncValidators}function Xa(i){return i?Array.isArray(i)?i:[i]:[]}function Ns(i,n){return Array.isArray(i)?i.includes(n):i===n}function xd(i,n){let e=Xa(n);return Xa(i).forEach(o=>{Ns(e,o)||e.push(o)}),e}function Ed(i,n){return Xa(n).filter(e=>!Ns(i,e))}var Fs=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Nd(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Ja=class extends Fs{get formDirective(){return null}get path(){return null}},yr=class extends Fs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qa=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},c_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wy=$t(M({},c_),{"[class.ng-submitted]":"isSubmitted"}),Vd=(()=>{class i extends Qa{constructor(e){super(e)}static{this.\u0275fac=function(s){return new(s||i)(xt(yr,2))}}static{this.\u0275dir=ye({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,o){s&2&&Mi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[tn]})}}return i})();var _r="VALID",Ls="INVALID",mn="PENDING",vr="DISABLED";function h_(i){return(zs(i)?i.validators:i)||null}function d_(i){return Array.isArray(i)?Nd(i):i||null}function u_(i,n){return(zs(n)?n.asyncValidators:i)||null}function f_(i){return Array.isArray(i)?Fd(i):i||null}function zs(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var tl=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===_r}get invalid(){return this.status===Ls}get pending(){return this.status==mn}get disabled(){return this.status===vr}get enabled(){return this.status!==vr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(xd(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(xd(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Ed(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Ed(n,this._rawAsyncValidators))}hasValidator(n){return Ns(this._rawValidators,n)}hasAsyncValidator(n){return Ns(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=mn,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=vr,this.errors=null,this._forEachChild(s=>{s.disable($t(M({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($t(M({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=_r,this._forEachChild(s=>{s.enable($t(M({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors($t(M({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_r||this.status===mn)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vr:_r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;let e=Ad(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((s,o)=>s&&s._find(o),this)}getError(n,e){let s=e?this.get(e):this;return s&&s.errors?s.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?vr:this.errors?Ls:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(Ls)?Ls:_r}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zs(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=d_(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}};var el=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>Bs}),Bs="always";function p_(i,n){return[...n.path,i]}function m_(i,n,e=Bs){__(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(i.disabled),v_(i,n),b_(i,n),y_(i,n),g_(i,n)}function Dd(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function g_(i,n){if(n.valueAccessor.setDisabledState){let e=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function __(i,n){let e=a_(i);n.validator!==null?i.setValidators(Cd(e,n.validator)):typeof e=="function"&&i.setValidators([e]);let s=l_(i);n.asyncValidator!==null?i.setAsyncValidators(Cd(s,n.asyncValidator)):typeof s=="function"&&i.setAsyncValidators([s]);let o=()=>i.updateValueAndValidity();Dd(n._rawValidators,o),Dd(n._rawAsyncValidators,o)}function v_(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&zd(i,n)})}function y_(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&zd(i,n),i.updateOn!=="submit"&&i.markAsTouched()})}function zd(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function b_(i,n){let e=(s,o)=>{n.valueAccessor.writeValue(s),o&&n.viewToModelUpdate(s)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function w_(i,n){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function C_(i){return Object.getPrototypeOf(i.constructor)===Jg}function x_(i,n){if(!n)return null;Array.isArray(n);let e,s,o;return n.forEach(l=>{l.constructor===Vs?e=l:C_(l)?s=l:o=l}),o||s||e||null}function Sd(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function Id(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var E_=class extends tl{constructor(n=null,e,s){super(h_(e),u_(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zs(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Id(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(s=>s(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Sd(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Sd(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Id(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var D_={provide:yr,useExisting:Oo(()=>il)},Td=Promise.resolve(),il=(()=>{class i extends yr{constructor(e,s,o,l,h,u){super(),this._changeDetectorRef=h,this.callSetDisabledState=u,this.control=new E_,this._registered=!1,this.name="",this.update=new pe,this._parent=e,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=x_(this,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),w_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){m_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Td.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let s=e.isDisabled.currentValue,o=s!==0&&nn(s);Td.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?p_(e,this._parent):[e]}static{this.\u0275fac=function(s){return new(s||i)(xt(Ja,9),xt(i_,10),xt(n_,10),xt(Pd,10),xt(me,8),xt(el,8))}}static{this.\u0275dir=ye({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Pe.None,"disabled","isDisabled"],model:[Pe.None,"ngModel","model"],options:[Pe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pi([D_]),tn,ni]})}}return i})();var S_=new ot("");var Bd=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({})}}return i})();var jd=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:el,useValue:e.callSetDisabledState??Bs}]}}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({imports:[Bd]})}}return i})(),Ud=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:S_,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:el,useValue:e.callSetDisabledState??Bs}]}}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({imports:[Bd]})}}return i})();function js(i){return Array.isArray(i)?i:[i]}function ae(i){return i instanceof be?i.nativeElement:i}var rl;try{rl=typeof Intl<"u"&&Intl.v8BreakIterator}catch{rl=!1}var Ni=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ch(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||rl)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(s){return new(s||i)(k(ri))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var br;function T_(){if(br==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>br=!0}))}finally{br=br||!1}return br}function bi(i){return T_()?i:!!i.capture}var nl;function M_(){if(nl==null){let i=typeof document<"u"?document.head:null;nl=!!(i&&(i.createShadowRoot||i.attachShadow))}return nl}function sl(i){if(M_()){let n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Fi(i){return i.composedPath?i.composedPath()[0]:i.target}function Zd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var al=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({})}}return i})();var k_=20,Hd=(()=>{class i{constructor(e,s,o){this._platform=e,this._change=new vt,this._changeListener=l=>{this._change.next(l)},this._document=o,s.runOutsideAngular(()=>{if(e.isBrowser){let l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,s=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect(),h=-l.top||e.body.scrollTop||s.scrollY||o.scrollTop||0,u=-l.left||e.body.scrollLeft||s.scrollX||o.scrollLeft||0;return{top:h,left:u}}change(e=k_){return e>0?this._change.pipe(Tc(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(s){return new(s||i)(k(Ni),k(St),k(zt,8))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var $d=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({})}}return i})();var Wd=new Set,Vi,L_=(()=>{class i{constructor(e,s){this._platform=e,this._nonce=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F_}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&N_(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(s){return new(s||i)(k(Ni),k(Fn,8))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function N_(i,n){if(!Wd.has(i))try{Vi||(Vi=document.createElement("style"),n&&Vi.setAttribute("nonce",n),Vi.setAttribute("type","text/css"),document.head.appendChild(Vi)),Vi.sheet&&(Vi.sheet.insertRule(`@media ${i} {body{ }}`,0),Wd.add(i))}catch(e){console.error(e)}}function F_(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var qd=(()=>{class i{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new vt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Gd(js(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=Gd(js(e)).map(h=>this._registerQuery(h).observable),l=Yi(o);return l=jr(l.pipe(ii(1)),l.pipe(kc(1),Mc(0))),l.pipe(lt(h=>{let u={matches:!1,breakpoints:{}};return h.forEach(({matches:p,query:g})=>{u.matches=u.matches||p,u.breakpoints[g]=p}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let s=this._mediaMatcher.matchMedia(e),l={observable:new ei(h=>{let u=p=>this._zone.run(()=>h.next(p));return s.addListener(u),()=>{s.removeListener(u)}}).pipe(Ji(s),lt(({matches:h})=>({query:e,matches:h})),Ii(this._destroySubject)),mql:s};return this._queries.set(e,l),l}static{this.\u0275fac=function(s){return new(s||i)(k(L_),k(St))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Gd(i){return i.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function Us(i){return i.buttons===0||i.detail===0}function Zs(i){let n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var zi=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(zi||{}),Kd="cdk-high-contrast-black-on-white",Yd="cdk-high-contrast-white-on-black",ll="cdk-high-contrast-active",Xd=(()=>{class i{constructor(e,s){this._platform=e,this._document=s,this._breakpointSubscription=R(qd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zi.BLACK_ON_WHITE}return zi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(ll,Kd,Yd),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===zi.BLACK_ON_WHITE?e.add(ll,Kd):s===zi.WHITE_ON_BLACK&&e.add(ll,Yd)}}static{this.\u0275fac=function(s){return new(s||i)(k(Ni),k(zt))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ml(i,n,e){for(let s in n)if(n.hasOwnProperty(s)){let o=n[s];o?i.setProperty(s,o,e?.has(s)?"important":""):i.removeProperty(s)}return i}function gn(i,n){let e=n?"":"none";ml(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Jd(i,n,e){ml(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Gs(i,n){return n&&n!="none"?i+" "+n:i}function Qd(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=qs(n.left,n.top)}function qs(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function gl(i){let n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function hl(i,n,e){let{top:s,bottom:o,left:l,right:h}=i;return e>=s&&e<=o&&n>=l&&n<=h}function Cr(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function tu(i,n,e,s){let{top:o,right:l,bottom:h,left:u,width:p,height:g}=i,w=p*n,E=g*n;return s>o-E&&s<h+E&&e>u-w&&e<l+w}var Ks=class{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:gl(e)})})}handleScroll(n){let e=Fi(n),s=this.positions.get(e);if(!s)return null;let o=s.scrollPosition,l,h;if(e===this._document){let g=this.getViewportScrollPosition();l=g.top,h=g.left}else l=e.scrollTop,h=e.scrollLeft;let u=o.top-l,p=o.left-h;return this.positions.forEach((g,w)=>{g.clientRect&&e!==w&&e.contains(w)&&Cr(g.clientRect,u,p)}),o.top=l,o.left=h,{top:u,left:p}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function uu(i){let n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),s=i.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return s==="canvas"?nu(i,n):(s==="input"||s==="select"||s==="textarea")&&iu(i,n),eu("canvas",i,n,nu),eu("input, textarea, select",i,n,iu),n}function eu(i,n,e,s){let o=n.querySelectorAll(i);if(o.length){let l=e.querySelectorAll(i);for(let h=0;h<o.length;h++)s(o[h],l[h])}}var B_=0;function iu(i,n){n.type!=="file"&&(n.value=i.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${B_++}`)}function nu(i,n){let e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function fu(i,n){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let s=n.createElement("div");return e.forEach(o=>s.appendChild(o)),s}function ru(i){let n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function j_(i){let n=getComputedStyle(i),e=cl(n,"transition-property"),s=e.find(u=>u==="transform"||u==="all");if(!s)return 0;let o=e.indexOf(s),l=cl(n,"transition-duration"),h=cl(n,"transition-delay");return ru(l[o])+ru(h[o])}function cl(i,n){return i.getPropertyValue(n).split(",").map(s=>s.trim())}var U_=new Set(["position"]),dl=class{constructor(n,e,s,o,l,h,u,p,g){this._document=n,this._rootElement=e,this._direction=s,this._initialDomRect=o,this._previewTemplate=l,this._previewClass=h,this._pickupPositionOnPage=u,this._initialTransform=p,this._zIndex=g}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return j_(this._preview)}addEventListener(n,e){this._preview.addEventListener(n,e)}removeEventListener(n,e){this._preview.removeEventListener(n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,s=n?n.template:null,o;if(s&&n){let l=n.matchSize?this._initialDomRect:null,h=n.viewContainer.createEmbeddedView(s,n.context);h.detectChanges(),o=fu(h,this._document),this._previewEmbeddedView=h,n.matchSize?Qd(o,l):o.style.transform=qs(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=uu(this._rootElement),Qd(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return ml(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},U_),gn(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(l=>o.classList.add(l)):o.classList.add(e)),o}},su=bi({passive:!0}),Hs=bi({passive:!1}),ou=bi({passive:!1,capture:!0}),Z_=800,au=new Set(["position"]),ul=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>gn(e,n)))}constructor(n,e,s,o,l,h){this._config=e,this._document=s,this._ngZone=o,this._viewportRuler=l,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new vt,this._pointerMoveSubscription=ti.EMPTY,this._pointerUpSubscription=ti.EMPTY,this._scrollSubscription=ti.EMPTY,this._resizeSubscription=ti.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new vt,this.started=new vt,this.released=new vt,this.ended=new vt,this.entered=new vt,this.exited=new vt,this.dropped=new vt,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){let p=this._getTargetHandle(u);p&&!this._disabledHandles.has(p)&&!this.disabled&&this._initializeDragSequence(p,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{let p=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){let w=Math.abs(p.x-this._pickupPositionOnPage.x),E=Math.abs(p.y-this._pickupPositionOnPage.y);if(w+E>=this._config.dragStartThreshold){let j=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),It=this._dropContainer;if(!j){this._endDragSequence(u);return}(!It||!It.isDragging()&&!It.isReceiving())&&(u.cancelable&&u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.cancelable&&u.preventDefault();let g=this._getConstrainedPointerPosition(p);if(this._hasMoved=!0,this._lastKnownPointerPosition=p,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,p);else{let w=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,E=this._activeTransform;E.x=g.x-w.x+this._passiveTransform.x,E.y=g.y-w.y+this._passiveTransform.y,this._applyRootElementTransform(E.x,E.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:u,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){let p=this._getTargetHandle(u);p&&!this._disabledHandles.has(p)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Ks(s),h.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(s=>ae(s)),this._handles.forEach(s=>gn(s,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&e.add(s)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=ae(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Hs),e.addEventListener("touchstart",this._pointerDown,su),e.addEventListener("dragstart",this._nativeDragStart,Hs)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?ae(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),gn(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),gn(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",cu,ou)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){wr(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),s=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",cu,ou)}),s){let o=this._rootElement,l=o.parentNode,h=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment("");l.insertBefore(u,o),this._initialTransform=o.style.transform||"",this._preview=new dl(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(l,e)),Jd(o,!1,au),this._document.body.appendChild(l.replaceChild(h,o)),this.started.next({source:this,event:n}),s.start(),this._initialContainer=s,this._initialIndex=s.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(s?s.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let s=this.isDragging(),o=wr(e),l=!o&&e.button!==0,h=this._rootElement,u=Fi(e),p=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+Z_>Date.now(),g=o?Zs(e):Us(e);if(u&&u.draggable&&e.type==="mousedown"&&e.preventDefault(),s||l||p||g)return;if(this._handles.length){let z=h.style;this._rootElementTapHighlight=z.webkitTapHighlightColor||"",z.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(z=>this._updateOnScroll(z)),this._boundaryElement&&(this._boundaryRect=gl(this._boundaryElement));let w=this._previewTemplate;this._pickupPositionInElement=w&&w.template&&!w.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){Jd(this._rootElement,!0,au),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,s=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),l=this._getDragDistance(o),h=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:l,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:l,dropPoint:o,event:n}),e.drop(this,s,this._initialIndex,this._initialContainer,h,l,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:s,y:o}){let l=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!l&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(l=this._initialContainer),l&&l!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=l,this._dropContainer.enter(this,n,e,l===this._initialContainer&&l.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:l,currentIndex:l.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{let o=h=>{(!h||Fi(h)===this._preview&&h.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),s(),clearTimeout(l))},l=setTimeout(o,e*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,s;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),s=fu(this._placeholderRef,this._document)):s=uu(this._rootElement),s.style.pointerEvents="none",s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(n,e,s){let o=e===this._rootElement?null:e,l=o?o.getBoundingClientRect():n,h=wr(s)?s.targetTouches[0]:s,u=this._getViewportScrollPosition(),p=h.pageX-l.left-u.left,g=h.pageY-l.top-u.top;return{x:l.left-n.left+p,y:l.top-n.top+g}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),s=wr(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=s.pageX-e.left,l=s.pageY-e.top;if(this._ownerSVGElement){let h=this._ownerSVGElement.getScreenCTM();if(h){let u=this._ownerSVGElement.createSVGPoint();return u.x=o,u.y=l,u.matrixTransform(h.inverse())}}return{x:o,y:l}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:s,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(s=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:l,y:h}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,u=this._boundaryRect,{width:p,height:g}=this._getPreviewRect(),w=u.top+h,E=u.bottom-(g-h),z=u.left+l,j=u.right-(p-l);s=lu(s,z,j),o=lu(o,w,E)}return{x:s,y:o}}_updatePointerDirectionDelta(n){let{x:e,y:s}=n,o=this._pointerDirectionDelta,l=this._pointerPositionAtLastDirectionChange,h=Math.abs(e-l.x),u=Math.abs(s-l.y);return h>this._config.pointerDirectionChangeThreshold&&(o.x=e>l.x?1:-1,l.x=e),u>this._config.pointerDirectionChangeThreshold&&(o.y=s>l.y?1:-1,l.y=s),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,gn(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Hs),n.removeEventListener("touchstart",this._pointerDown,su),n.removeEventListener("dragstart",this._nativeDragStart,Hs)}_applyRootElementTransform(n,e){let s=qs(n,e),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Gs(s,this._initialTransform)}_applyPreviewTransform(n,e){let s=this._previewTemplate?.template?void 0:this._initialTransform,o=qs(n,e);this._preview.setTransform(Gs(o,s))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let s=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||s.width===0&&s.height===0)return;let l=o.left-s.left,h=s.right-o.right,u=o.top-s.top,p=s.bottom-o.bottom;o.width>s.width?(l>0&&(n+=l),h>0&&(n-=h)):n=0,o.height>s.height?(u>0&&(e+=u),p>0&&(e-=p)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:wr(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let s=Fi(n);this._boundaryRect&&s!==this._boundaryElement&&s.contains(this._boundaryElement)&&Cr(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=sl(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let s=this._previewContainer||"global";if(s==="parent")return n;if(s==="global"){let o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return ae(s)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}};function lu(i,n,e){return Math.max(n,Math.min(e,i))}function wr(i){return i.type[0]==="t"}function cu(i){i.preventDefault()}function H_(i,n,e){let s=hu(n,i.length-1),o=hu(e,i.length-1);if(s===o)return;let l=i[s],h=o<s?-1:1;for(let u=s;u!==o;u+=h)i[u]=i[u+h];i[o]=l}function hu(i,n){return Math.max(0,Math.min(n,i))}var fl=class{constructor(n,e){this._element=n,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,e,s,o){let l=this._itemPositions,h=this._getItemIndexFromPointerPosition(n,e,s,o);if(h===-1&&l.length>0)return null;let u=this.orientation==="horizontal",p=l.findIndex(q=>q.drag===n),g=l[h],w=l[p].clientRect,E=g.clientRect,z=p>h?1:-1,j=this._getItemOffsetPx(w,E,z),It=this._getSiblingOffsetPx(p,l,z),Y=l.slice();return H_(l,p,h),l.forEach((q,ht)=>{if(Y[ht]===q)return;let le=q.drag===n,Tt=le?j:It,Xt=le?n.getPlaceholderElement():q.drag.getRootElement();q.offset+=Tt,u?(Xt.style.transform=Gs(`translate3d(${Math.round(q.offset)}px, 0, 0)`,q.initialTransform),Cr(q.clientRect,0,Tt)):(Xt.style.transform=Gs(`translate3d(0, ${Math.round(q.offset)}px, 0)`,q.initialTransform),Cr(q.clientRect,Tt,0))}),this._previousSwap.overlaps=hl(E,e,s),this._previousSwap.drag=g.drag,this._previousSwap.delta=u?o.x:o.y,{previousIndex:p,currentIndex:h}}enter(n,e,s,o){let l=o==null||o<0?this._getItemIndexFromPointerPosition(n,e,s):o,h=this._activeDraggables,u=h.indexOf(n),p=n.getPlaceholderElement(),g=h[l];if(g===n&&(g=h[l+1]),!g&&(l==null||l===-1||l<h.length-1)&&this._shouldEnterAsFirstChild(e,s)&&(g=h[0]),u>-1&&h.splice(u,1),g&&!this._dragDropRegistry.isDragging(g)){let w=g.getRootElement();w.parentElement.insertBefore(p,w),h.splice(l,0,n)}else ae(this._element).appendChild(p),h.push(n);p.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{let e=n.getRootElement();if(e){let s=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=s||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(s=>s.drag===n)}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:s})=>{Cr(s,n,e)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()})}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let s=e.getVisibleElement();return{drag:e,offset:0,initialTransform:s.style.transform||"",clientRect:gl(s)}}).sort((e,s)=>n?e.clientRect.left-s.clientRect.left:e.clientRect.top-s.clientRect.top)}_getItemOffsetPx(n,e,s){let o=this.orientation==="horizontal",l=o?e.left-n.left:e.top-n.top;return s===-1&&(l+=o?e.width-n.width:e.height-n.height),l}_getSiblingOffsetPx(n,e,s){let o=this.orientation==="horizontal",l=e[n].clientRect,h=e[n+s*-1],u=l[o?"width":"height"]*s;if(h){let p=o?"left":"top",g=o?"right":"bottom";s===-1?u-=h.clientRect[p]-l[g]:u+=l[p]-h.clientRect[g]}return u}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let s=this._itemPositions,o=this.orientation==="horizontal";if(s[0].drag!==this._activeDraggables[0]){let h=s[s.length-1].clientRect;return o?n>=h.right:e>=h.bottom}else{let h=s[0].clientRect;return o?n<=h.left:e<=h.top}}_getItemIndexFromPointerPosition(n,e,s,o){let l=this.orientation==="horizontal",h=this._itemPositions.findIndex(({drag:u,clientRect:p})=>{if(u===n)return!1;if(o){let g=l?o.x:o.y;if(u===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return l?e>=Math.floor(p.left)&&e<Math.floor(p.right):s>=Math.floor(p.top)&&s<Math.floor(p.bottom)});return h===-1||!this._sortPredicate(h,n)?-1:h}},du=.05,pu=.05,Ae=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(Ae||{}),de=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(de||{}),pl=class{constructor(n,e,s,o,l){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=l,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new vt,this.entered=new vt,this.exited=new vt,this.dropped=new vt,this.sorted=new vt,this.receivingStarted=new vt,this.receivingStopped=new vt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ti.EMPTY,this._verticalScrollDirection=Ae.NONE,this._horizontalScrollDirection=de.NONE,this._stopScrollTimers=new vt,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Sc(0,To).pipe(Ii(this._stopScrollTimers)).subscribe(()=>{let h=this._scrollNode,u=this.autoScrollStep;this._verticalScrollDirection===Ae.UP?h.scrollBy(0,-u):this._verticalScrollDirection===Ae.DOWN&&h.scrollBy(0,u),this._horizontalScrollDirection===de.LEFT?h.scrollBy(-u,0):this._horizontalScrollDirection===de.RIGHT&&h.scrollBy(u,0)})},this.element=ae(n),this._document=s,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Ks(s),this._sortStrategy=new fl(this.element,e),this._sortStrategy.withSortPredicate((h,u)=>this.sortPredicate(h,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,s,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,s,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,s,o,l,h,u,p={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:s,container:this,previousContainer:o,isPointerOverContainer:l,distance:h,dropPoint:u,event:p})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>n.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){let e=ae(this.element);return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,s,o){if(this.sortingDisabled||!this._domRect||!tu(this._domRect,du,e,s))return;let l=this._sortStrategy.sort(n,e,s,o);l&&this.sorted.next({previousIndex:l.previousIndex,currentIndex:l.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let s,o=Ae.NONE,l=de.NONE;if(this._parentPositions.positions.forEach((h,u)=>{u===this._document||!h.clientRect||s||tu(h.clientRect,du,n,e)&&([o,l]=$_(u,h.clientRect,this._sortStrategy.direction,n,e),(o||l)&&(s=u))}),!o&&!l){let{width:h,height:u}=this._viewportRuler.getViewportSize(),p={width:h,height:u,top:0,right:h,bottom:u,left:0};o=mu(p,e),l=gu(p,n),s=window}s&&(o!==this._verticalScrollDirection||l!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=l,this._scrollNode=s,(o||l)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=ae(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let n=ae(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;let n=ae(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,e){return this._domRect!=null&&hl(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,s){return this._siblings.find(o=>o._canReceive(n,e,s))}_canReceive(n,e,s){if(!this._domRect||!hl(this._domRect,e,s)||!this.enterPredicate(n,this))return!1;let o=this._getShadowRoot().elementFromPoint(e,s);if(!o)return!1;let l=ae(this.element);return o===l||l.contains(o)}_startReceiving(n,e){let s=this._activeSiblings;!s.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(s.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=sl(ae(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function mu(i,n){let{top:e,bottom:s,height:o}=i,l=o*pu;return n>=e-l&&n<=e+l?Ae.UP:n>=s-l&&n<=s+l?Ae.DOWN:Ae.NONE}function gu(i,n){let{left:e,right:s,width:o}=i,l=o*pu;return n>=e-l&&n<=e+l?de.LEFT:n>=s-l&&n<=s+l?de.RIGHT:de.NONE}function $_(i,n,e,s,o){let l=mu(n,o),h=gu(n,s),u=Ae.NONE,p=de.NONE;if(l){let g=i.scrollTop;l===Ae.UP?g>0&&(u=Ae.UP):i.scrollHeight-g>i.clientHeight&&(u=Ae.DOWN)}if(h){let g=i.scrollLeft;e==="rtl"?h===de.RIGHT?g<0&&(p=de.RIGHT):i.scrollWidth+g>i.clientWidth&&(p=de.LEFT):h===de.LEFT?g>0&&(p=de.LEFT):i.scrollWidth-g>i.clientWidth&&(p=de.RIGHT)}return[u,p]}var $s=bi({passive:!1,capture:!0}),Ws=new Set,W_=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=oe({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[pi],decls:0,vars:0,template:function(s,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return i})(),G_=(()=>{class i{constructor(e,s){this._ngZone=e,this._appRef=R(en),this._environmentInjector=R(He),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new vt,this.pointerUp=new vt,this.scroll=new vt,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=s}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,$s)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,$s)}startDragging(e,s){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._loadResets(),this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let o=s.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$s}),o||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:$s}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,h)=>{this._document.addEventListener(h,l.handler,l.options)})})}}stopDragging(e){let s=this._activeDragInstances.indexOf(e);s>-1&&(this._activeDragInstances.splice(s,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let s=[this.scroll];return e&&e!==this._document&&s.push(new ei(o=>this._ngZone.runOutsideAngular(()=>{let h=u=>{this._activeDragInstances.length&&o.next(u)};return e.addEventListener("scroll",h,!0),()=>{e.removeEventListener("scroll",h,!0)}}))),Ic(...s)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,s)=>{this._document.removeEventListener(s,e.handler,e.options)}),this._globalListeners.clear()}_loadResets(){if(!Ws.has(this._appRef)){Ws.add(this._appRef);let e=Qc(W_,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Ws.delete(this._appRef),Ws.size===0&&e.destroy()})}}static{this.\u0275fac=function(s){return new(s||i)(k(St),k(zt))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),q_={dragStartThreshold:5,pointerDirectionChangeThreshold:5},K_=(()=>{class i{constructor(e,s,o,l){this._document=e,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=l}createDrag(e,s=q_){return new ul(e,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new pl(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(s){return new(s||i)(k(zt),k(St),k(Hd),k(G_))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var _u=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({providers:[K_],imports:[$d]})}}return i})();var Lu=Cc(vu());var yu=(()=>{class i{constructor(e){this.http=e,this.apiUrl="/api/getcoords",this.submitUrl="/api/submitcoords",this.streamUrl="/api/getcoords"}sendReport(e){return this.http.post(this.apiUrl,e)}submitReport(e){return console.log("Enviando reporte:",JSON.stringify(e)),this.http.post(this.submitUrl,e,{responseType:"text"})}getCoordsStream(){return new ei(e=>{let s=new EventSource(this.streamUrl);return s.onmessage=o=>{let l=JSON.parse(o.data);console.log("Datos recibidos:",JSON.stringify(l)),e.next(l)},s.onerror=o=>{e.error(o),s.close()},()=>s.close()})}static{this.\u0275fac=function(s){return new(s||i)(k(ta))}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function X_(){return!0}var J_=new ot("mat-sanity-checks",{providedIn:"root",factory:X_}),Su=(()=>{class i{constructor(e,s,o){this._sanityChecks=s,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Zd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(s){return new(s||i)(k(Xd),k(J_,8),k(zt))}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({imports:[al,al]})}}return i})();var Iu=new ot("MAT_DATE_LOCALE",{providedIn:"root",factory:Q_});function Q_(){return R(Kc)}var ke=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(ke||{}),yl=class{constructor(n,e,s,o=!1){this._renderer=n,this.element=e,this.config=s,this._animationForciblyDisabledThroughCss=o,this.state=ke.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},bu=bi({passive:!0,capture:!0}),bl=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let e=Fi(n);e&&this._events.get(n.type)?.forEach((s,o)=>{(o===e||o.contains(e))&&s.forEach(l=>l.handleEvent(n))})}}addHandler(n,e,s,o){let l=this._events.get(e);if(l){let h=l.get(s);h?h.add(o):l.set(s,new Set([o]))}else this._events.set(e,new Map([[s,new Set([o])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,bu)})}removeHandler(n,e,s){let o=this._events.get(n);if(!o)return;let l=o.get(e);l&&(l.delete(s),l.size===0&&o.delete(e),o.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,bu)))}},wu={enterDuration:225,exitDuration:150},tv=800,Cu=bi({passive:!0,capture:!0}),xu=["mousedown","touchstart"],Eu=["mouseup","mouseleave","touchend","touchcancel"],Du=class i{static{this._eventManager=new bl}constructor(n,e,s,o){this._target=n,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ae(s))}fadeInRipple(n,e,s={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=M(M({},wu),s.animation);s.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);let h=s.radius||ev(n,e,o),u=n-o.left,p=e-o.top,g=l.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=`${u-h}px`,w.style.top=`${p-h}px`,w.style.height=`${h*2}px`,w.style.width=`${h*2}px`,s.color!=null&&(w.style.backgroundColor=s.color),w.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(w);let E=window.getComputedStyle(w),z=E.transitionProperty,j=E.transitionDuration,It=z==="none"||j==="0s"||j==="0s, 0s"||o.width===0&&o.height===0,Y=new yl(this,w,s,It);w.style.transform="scale3d(1, 1, 1)",Y.state=ke.FADING_IN,s.persistent||(this._mostRecentTransientRipple=Y);let q=null;return!It&&(g||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let ht=()=>this._finishRippleTransition(Y),le=()=>this._destroyRipple(Y);w.addEventListener("transitionend",ht),w.addEventListener("transitioncancel",le),q={onTransitionEnd:ht,onTransitionCancel:le}}),this._activeRipples.set(Y,q),(It||!g)&&this._finishRippleTransition(Y),Y}fadeOutRipple(n){if(n.state===ke.FADING_OUT||n.state===ke.HIDDEN)return;let e=n.element,s=M(M({},wu),n.config.animation);e.style.transitionDuration=`${s.exitDuration}ms`,e.style.opacity="0",n.state=ke.FADING_OUT,(n._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=ae(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,xu.forEach(s=>{i._eventManager.addHandler(this._ngZone,s,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Eu.forEach(e=>{this._triggerElement.addEventListener(e,this,Cu)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===ke.FADING_IN?this._startFadeOutTransition(n):n.state===ke.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:s}=n.config;n.state=ke.VISIBLE,!s&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=ke.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){let e=Us(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+tv;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Zs(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===ke.VISIBLE||n.config.terminateOnPointerUp&&n.state===ke.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(xu.forEach(e=>i._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(Eu.forEach(e=>n.removeEventListener(e,this,Cu)),this._pointerUpEventsRegistered=!1))}};function ev(i,n,e){let s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(s*s+o*o)}function iv(i,n){i&1&&Nt(0,"div",2)}var nv=new ot("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Mu=(()=>{class i{constructor(e,s,o,l,h){this._elementRef=e,this._ngZone=s,this._changeDetectorRef=o,this._animationMode=l,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new pe,this._mode="determinate",this._transitionendHandler=u=>{this.animationEnd.observers.length===0||!u.target||!u.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=l==="NoopAnimations",h&&(h.color&&(this.color=this._defaultColor=h.color),this.mode=h.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=Tu(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Tu(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(s){return new(s||i)(xt(be),xt(St),xt(me),xt(Nn,8),xt(nv,8))}}static{this.\u0275cmp=oe({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(s,o){s&2&&(We("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),jc("mat-"+o.color),Mi("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[Pe.HasDecoratorInputTransform,"value","value",Ko],bufferValue:[Pe.HasDecoratorInputTransform,"bufferValue","bufferValue",Ko],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Ti,pi],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(s,o){s&1&&(F(0,"div",0),Nt(1,"div",1),Gt(2,iv,1,0,"div",2),V(),F(3,"div",3),Nt(4,"span",4),V(),F(5,"div",5),Nt(6,"span",4),V()),s&2&&(K(),Gr("flex-basis",o._getBufferBarFlexBasis()),K(),Uo(2,o.mode==="buffer"?2:-1),K(),Gr("transform",o._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return i})();function Tu(i,n=0,e=100){return Math.max(n,Math.min(e,i))}var Pu=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({imports:[Su]})}}return i})();var Oe=Cc(Au());var ku=(()=>{class i{constructor(){this.markers=[],this.locations=[],this.customIcon=Oe.icon({iconUrl:"/assets/img/wemaps-marker.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),this.markersLayer=new Oe.LayerGroup}ngAfterViewInit(){this.initMap()}ngOnChanges(e){e.locations&&this.map&&this.updateMarkers()}initMap(){this.map=Oe.map("map",{center:[-33.4489,-70.6693],zoom:10}),Oe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),this.map.addLayer(this.markersLayer),this.updateMarkers()}updateMarkers(){if(this.markersLayer.clearLayers(),this.locations.length===0)return;this.locations.forEach(s=>{Oe.marker([s.lat,s.lng],{icon:this.customIcon}).bindPopup(s.text).addTo(this.markersLayer)});let e=Oe.latLngBounds(this.locations.map(s=>[s.lat,s.lng]));this.map.fitBounds(e)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=oe({type:i,selectors:[["app-map"]],inputs:{locations:"locations"},features:[ni],decls:1,vars:0,consts:[["id","map",2,"height","500px"]],template:function(s,o){s&1&&Nt(0,"div",0)}})}}return i})();var ov=()=>[];function av(i,n){if(i&1&&(F(0,"th"),bt(1),V()),i&2){let e=n.$implicit;K(),Kr(e)}}function lv(i,n){if(i&1){let e=we();F(0,"td",17)(1,"p",18),Ft("click",function(){Et(e);let o=ft().index,l=ft(2);return Dt(l.showInTheMap(o))}),bt(2),V()()}if(i&2){let e=n.$implicit,s=ft().index,o=ft(2);pt("id",o.getHash(o.report[o.ADDRESS][s])+"_"+o.makeIDfromHeader(e)),K(2),Kr(o.report[e][s])}}function cv(i,n){if(i&1&&(F(0,"tr",17),Gt(1,lv,3,2,"td",12),V()),i&2){let e=n.index,s=ft(2);pt("id",s.getHash(s.report[s.ADDRESS][e])),K(),pt("ngForOf",s.getHeaders())}}function hv(i,n){if(i&1){let e=we();F(0,"button",19),Ft("click",function(){Et(e);let o=ft(2);return Dt(o.Exportar())}),bt(1,"4\xB0 \u{1F4BE} Descargar "),F(2,"strong"),bt(3),V()()}if(i&2){let e=ft(2);K(3),Kr(e.fileExportCSV)}}function dv(i,n){if(i&1&&Nt(0,"app-map",20),i&2){let e=ft(2);pt("locations",e.locations)}}function uv(i,n){if(i&1){let e=we();F(0,"div",2)(1,"div",3)(2,"h3"),bt(3,"\u{1F440} Vista Previa del Reporte de Salida"),V(),F(4,"div",4)(5,"span",5),bt(6),V(),F(7,"div",6),Nt(8,"mat-progress-bar",7),V()()(),F(9,"div",8)(10,"div",9)(11,"div",10)(12,"table")(13,"thead")(14,"tr"),Gt(15,av,2,1,"th",11),V()(),F(16,"tbody"),Gt(17,cv,2,2,"tr",12),V()()()(),F(18,"div",13)(19,"button",14),Ft("click",function(){Et(e);let o=ft();return Dt(o.previousReportPage())}),bt(20,"Menos.."),V(),F(21,"button",14),Ft("click",function(){Et(e);let o=ft();return Dt(o.nextReportPage())}),bt(22,"M\xE1s.."),V()(),F(23,"strong"),bt(24),V(),Nt(25,"br"),Gt(26,hv,4,1,"button",15),Nt(27,"hr"),V(),F(28,"div",8),Gt(29,dv,1,1,"app-map",16),V()()}if(i&2){let e=ft();K(6),Zc("(",e.status.count,"/",e.status.total,") ",e.status.progress.toFixed(2),"%"),K(2),pt("value",e.status.progress),K(7),pt("ngForOf",e.getHeaders()),K(2),pt("ngForOf",Hc(11,ov).constructor(e.getPaginatedReportRows())),K(2),pt("disabled",e.reportCurrentPage===1),K(2),pt("disabled",e.reportCurrentPage===e.getTotalReportPages()),K(3),Fe("",e.status.count," direcciones procesadas..."),K(2),pt("ngIf",e.status.progress>90),K(3),pt("ngIf",e.showMapa)}}var Ou=(()=>{class i{constructor(e){this.cdr=e,this.fileExportCSV="",this.status={count:0,ok:0,nok:0,total:0,progress:0},this.reportPageSize=10,this.reportCurrentPage=1,this.readyReport=!1,this.report={},this.ADDRESS="Direcci\xF3n a Localizar",this.showMapa=!0,this.locations=[{lat:-33.4489,lng:-70.6693,text:"Santiago, Chile"}]}getHeaders(){return Object.keys(this.report)}getRowCount(){return this.report[this.getHeaders()[0]]?.length||0}getPaginatedReportRows(){return(this.reportCurrentPage-1)*this.reportPageSize+this.reportPageSize}previousReportPage(){this.reportCurrentPage>1&&this.reportCurrentPage--}nextReportPage(){let e=Math.ceil(this.getRowCount()/this.reportPageSize);this.reportCurrentPage<e&&this.reportCurrentPage++}getTotalReportPages(){return Math.ceil(this.getRowCount()/this.reportPageSize)}getHash(e){let s=0;try{for(let o=0;o<e.length;o++)s=(s<<5)-s+e.charCodeAt(o);return(s>>>0).toString(16)}catch{return""}}makeIDfromHeader(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9 ]/g,"").replace(/ /g,"_").toLowerCase()}showInTheMap(e){let s=Number(this.report.Latitud?.[e]),o=Number(this.report.Longitud?.[e]),l=this.report["Direccion Formateada"]?.[e];if(s+o!==0){this.locations=[];let h={lat:s,lng:o,text:l};this.locations.push(h),document.getElementById("MAPA")?.scrollIntoView({behavior:"smooth"}),this.cdr.detectChanges()}}convertToCSV(e){let s=Object.keys(e),o=[],l=e["Direcci\xF3n a Localizar"]?.length||0;for(let u=0;u<l;u++){let p="";s.forEach(g=>{p=p+e[g][u]+";"}),o.push([p])}return[s.join(";"),...o.map(u=>u.join(";"))].join(`
`)}downloadCSV(e){let s="\uFEFF",o=new Blob([s+e],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(o),l.setAttribute("download",this.fileExportCSV),document.body.appendChild(l),l.click(),document.body.removeChild(l)}Exportar(){let e=this.convertToCSV(this.report);this.downloadCSV(e)}static{this.\u0275fac=function(s){return new(s||i)(xt(me))}}static{this.\u0275cmp=oe({type:i,selectors:[["wemaps-report"]],inputs:{fileExportCSV:"fileExportCSV",status:"status",reportPageSize:"reportPageSize",reportCurrentPage:"reportCurrentPage",readyReport:"readyReport",report:"report",ADDRESS:"ADDRESS",showMapa:"showMapa",locations:"locations"},decls:2,vars:1,consts:[["id","B"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"progress-container"],[1,"progress-text"],[1,"custom-progress-wrapper"],["mode","determinate","color","accent",1,"custom-progress-bar",3,"value"],[1,"col-md-6"],[1,"table-wrapper"],[1,"table-container"],[4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"geoBoton",3,"click","disabled"],["class","btn btn-info mt-3","id","saveButton",3,"click",4,"ngIf"],["id","MAPA","name","MAPA",3,"locations",4,"ngIf"],[3,"id"],[1,"goMapa",3,"click"],["id","saveButton",1,"btn","btn-info","mt-3",3,"click"],["id","MAPA","name","MAPA",3,"locations"]],template:function(s,o){s&1&&(F(0,"div",0),Gt(1,uv,30,12,"div",1),V()),s&2&&(K(),pt("ngIf",o.readyReport))},dependencies:[ns,rs,Mu,ku],styles:[".progress-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;text-align:center}.progress-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#222;margin-bottom:10px}.custom-progress-wrapper[_ngcontent-%COMP%]{width:100%;height:50px;display:flex;align-items:center;overflow:hidden}.custom-progress-bar[_ngcontent-%COMP%]{flex:1;height:100%!important}  .custom-progress-bar .mat-progress-bar{height:100%!important;border-radius:25px}.table-wrapper[_ngcontent-%COMP%]{margin-top:1rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]{width:98%;height:800px;overflow:auto;border:2px solid #ccc;border-radius:10px;padding:10px;background:#f9f9f9;box-shadow:0 4px 10px #0000001a}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px;height:14px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#007bff;border-radius:10px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e0e0e0;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#caf0f8;box-shadow:0 4px 8px #0000001a;border-radius:8px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}thead[_ngcontent-%COMP%]{background-color:#0077b6;color:#fff;text-transform:uppercase;font-weight:700}th[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:3px solid #03045e}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .3s ease-in-out}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#e1f6fb}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#90e0ef;cursor:pointer}td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #9de3f2;color:#023e8a}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.pagination-controls[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;margin-top:15px}.geoBoton[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:20px;background-color:#4a90e2;color:#fff;font-size:14px;cursor:pointer;transition:background-color .3s,transform .1s;box-shadow:0 2px 4px #0000001a}.geoBoton[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#357abd;transform:translateY(-1px)}.geoBoton[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed;opacity:.7;box-shadow:none}.geoBoton[_ngcontent-%COMP%]:active:not([disabled]){transform:translateY(0)}.goMapa[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;color:inherit}.goMapa[_ngcontent-%COMP%]:hover{font-weight:700;text-shadow:1px 1px 5px rgba(0,0,0,.2);color:#007bff}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;border-color:#17a2b8;color:#fff;padding:8px 16px;border-radius:4px;cursor:pointer}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}"]})}}return i})();var pv=["fileInput"],mv=(i,n)=>({"no-select shakeItem drag-item":!0,isNew:i,csv:n});function gv(i,n){if(i&1){let e=we();F(0,"div",30),Ft("dragstart",function(o){let l=Et(e).$implicit,h=ft();return Dt(h.onDragStart(o,l))}),bt(1),V()}if(i&2){let e=n.$implicit;pt("title",e.value)("ngClass",$c(3,mv,e.isNew,!e.isNew)),K(),Fe(" ",e.text," ")}}function _v(i,n){if(i&1&&(F(0,"span",34),bt(1),V()),i&2){let e=n.$implicit;K(),Fe(" ",(e.value?e.value:e.text)+" "," ")}}function vv(i,n){if(i&1){let e=we();F(0,"div",35),Ft("dblclick",function(){let o=Et(e).index,l=ft(2);return Dt(l.quitarElemento(o,l.ADDRESS))}),bt(1),V()}if(i&2){let e=n.$implicit;pt("title","Doble click para quitar "+e.text),K(),Fe(" ",e.text," ")}}function yv(i,n){if(i&1){let e=we();F(0,"div",12)(1,"span"),Gt(2,_v,2,1,"span",31),F(3,"div",32),Ft("dragover",function(o){Et(e);let l=ft();return Dt(l.onDragOver(o))})("drop",function(o){Et(e);let l=ft();return Dt(l.onDrop(o,l.ADDRESS))}),Gt(4,vv,2,2,"div",33),V(),F(5,"small"),bt(6,"Arrastra desde tu CSV la(s) columna(s) que contiene(n) la Direcci\xF3n. Para obtener un mejor resultado, sigue este Orden Nombre Calle + Numeraci\xF3n + Comuna/Ciudad + Regi\xF3n + Pa\xEDs"),V()()()}if(i&2){let e=n.ngIf,s=ft();K(2),pt("ngForOf",e),K(),pt("lang",s.ADDRESS),We("data-column",s.ADDRESS),K(),pt("ngForOf",e)}}function bv(i,n){if(i&1&&(F(0,"span",34),bt(1),V()),i&2){let e=n.$implicit;K(),Fe(" ",(e.value?e.value:e.text)+" "," ")}}function wv(i,n){if(i&1){let e=we();F(0,"div",35),Ft("dblclick",function(){let o=Et(e).index,l=ft(3).$implicit,h=ft();return Dt(h.quitarElemento(o,l.key))}),bt(1),V()}if(i&2){let e=n.$implicit;pt("title","Doble click para quitar "+e.text),K(),Fe(" ",e.text," ")}}function Cv(i,n){if(i&1){let e=we();F(0,"i",38),Ft("click",function(){Et(e);let o=ft(3).$implicit,l=ft();return Dt(l.openConfirmDelete(o.key))}),V()}if(i&2){let e=ft(3).$implicit;pt("title","Eliminar "+e.key)}}function xv(i,n){if(i&1){let e=we();F(0,"span")(1,"strong",19),bt(2),V(),Gt(3,bv,2,1,"span",31),F(4,"div",32),Ft("dragover",function(o){Et(e);let l=ft(3);return Dt(l.onDragOver(o))})("drop",function(o){Et(e);let l=ft(2).$implicit,h=ft();return Dt(h.onDrop(o,l.key))}),Gt(5,wv,2,2,"div",33)(6,Cv,1,1,"i",37),V()()}if(i&2){let e=n.ngIf,s=ft(2).$implicit,o=ft();K(2),Fe("",s.key,":"),K(),pt("ngForOf",e),K(),pt("lang",s.key),We("data-column",s.key),K(),pt("ngForOf",e),K(),pt("ngIf",s.key!=o.ADDRESS)}}function Ev(i,n){if(i&1&&(F(0,"span"),Gt(1,xv,7,6,"span",36),V()),i&2){let e=ft().$implicit;K(),pt("ngIf",e.value)}}function Dv(i,n){if(i&1&&(F(0,"div",12),Gt(1,Ev,2,1,"span",36),V()),i&2){let e=n.$implicit,s=ft();K(),pt("ngIf",e.key!==s.ADDRESS)}}function Sv(i,n){if(i&1){let e=we();F(0,"div",39)(1,"div",40)(2,"p"),bt(3),V(),Nt(4,"hr"),F(5,"button",41),Ft("click",function(){Et(e);let o=ft();return Dt(o.confirmDelete())}),bt(6,"S\xED, eliminar"),V(),F(7,"button",41),Ft("click",function(){Et(e);let o=ft();return Dt(o.closeConfirmDelete())}),bt(8,"Cancelar"),V()()()}if(i&2){let e=ft();K(3),Fe("\xBFSeguro que quieres eliminar ",e.attributeToDelete," del reporte?")}}var Nu=(()=>{class i{startResize(e){e.preventDefault(),this.isResizing=!0,this.startY=e.clientY;let s=document.getElementById("A"),o=document.getElementById("B");this.startHeightA=s.getBoundingClientRect().height,this.startHeightB=o.getBoundingClientRect().height}onMouseMove(e){if(!this.isResizing)return;let o=document.getElementById("container").getBoundingClientRect().height,l=e.clientY-this.startY,h=this.startHeightA+l,u=this.startHeightB-l,p=h/o*100,g=u/o*100;if(p>=10&&p<=90){let w=document.getElementById("A"),E=document.getElementById("B");w.style.height=`${p}%`,E.style.height=`${g}%`}}onMouseUp(){this.isResizing=!1}changeHeight(){let e=document.getElementById("B");e.style.height="80%";let s=document.getElementById("A");s.style.height="20%"}onDragLeave(e){e.preventDefault()}openConfirmDelete(e){this.attributeToDelete=e,this.showConfirmDelete=!0}confirmDelete(){this.attributeToDelete&&(delete this.mappedColumns[this.attributeToDelete],this.refreshReport(),this.closeConfirmDelete())}closeConfirmDelete(){this.showConfirmDelete=!1,this.attributeToDelete=null}constructor(e,s){this.coordsService=e,this.cdr=s,this.startY=0,this.startHeightA=0,this.startHeightB=0,this.isResizing=!1,this.fileExportCSV="",this.status={count:0,ok:0,nok:0,total:0,progress:0},this.reportPageSize=10,this.reportCurrentPage=1,this.readyReport=!1,this.formatReporte={},this.report={},this.csvJson={},this.ADDRESS="Direcci\xF3n a Localizar",this.mappedColumns={[this.ADDRESS]:[]},this.showConfirmDelete=!1,this.attributeToDelete=null,this.ordenarClaves=(o,l)=>{let h=[this.ADDRESS];return h.indexOf(o.key)-h.indexOf(l.key)},this.jsonContent=[],this.atributesFromCSV=[],this.newColumnCSVText="",this.showMapa=!0,this.newUserAtribute="",this.locations=[{lat:-33.4489,lng:-70.6693,text:"Santiago, Chile"}]}getHash(e){let s=0;try{for(let o=0;o<e.length;o++)s=(s<<5)-s+e.charCodeAt(o);return(s>>>0).toString(16)}catch{return""}}makeIDfromHeader(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9 ]/g,"").replace(/ /g,"_").toLowerCase()}editarInnerHTML(e,s){let o=document.getElementById(e);o&&(o.innerHTML=s)}dummi(){this.showMapa=!1;let e={lat:-42.4489,lng:-95.6693,text:"Santiago, Chuli"};this.locations.push(e),this.cdr.detectChanges(),console.log("NO HAGO NADA!!"),this.showMapa=!0}showInTheMap(e){let s=Number(this.report.Latitud[e]),o=Number(this.report.Longitud[e]),l=this.report["Direccion Formateada"][e];if(s+o!=0){this.locations=[];let h={lat:s,lng:o,text:l};this.locations.push(h),document.getElementById("MAPA")?.scrollIntoView({behavior:"smooth"}),this.cdr.detectChanges()}}sendReportToServer(){this.changeHeight();let e={columns:this.getHeaders(),values:this.report};this.readyReport=!1;let s=["Direccion Formateada","Latitud","Longitud","Origen"];this.coordsService.submitReport(e).subscribe(()=>{s.forEach(o=>{this.report[o]=new Array(this.report[this.ADDRESS].length).fill("Cargando...")}),this.locations=[],this.readyReport=!0,this.coordsService.getCoordsStream().subscribe(o=>{if(o.status=="done")alert("Carga terminada"),this.showInTheMap(0);else{let l=this.getHash(o.origin_address);s.forEach(h=>{let u=h!="Mapa"?"Cargando..":"";this.status.count=o.status.count,this.status.ok=o.status.ok,this.status.nok=o.status.nok,this.status.total=o.status.total,this.status.progress=this.status.total>0?Math.min(this.status.count/this.status.total*100,100):0,h=="Direccion Formateada"&&(u=o.formatted_address),h=="Latitud"&&(u=o.latitude),h=="Longitud"&&(u=o.longitude),h=="Origen"&&(u=o.geocoder);let p=-1;this.report[this.ADDRESS].forEach(g=>{if(p++,this.getHash(g)==l){let E=l+"_"+this.makeIDfromHeader(h);this.report[h][p]=u,this.editarInnerHTML(E,u)}})})}},o=>{console.error("Error:",o)})})}onAddColumn(){if(this.newColumnCSVText!==""&&!this.isAtributesFromCSV(this.newColumnCSVText)){let e={text:this.newColumnCSVText,isNew:!0,value:this.newColumnCSVText};this.atributesFromCSV.push(e),this.refreshReport()}}getHeaders(){return Object.keys(this.report)}getRowCount(){return this.report[this.getHeaders()[0]].length}refreshReport(){let e=this.transformData(this.mappedColumns);this.report=this.transformCSVReport(this.csvJson,e),this.readyReport=!0}transformData(e){let s={};for(let o in e)Array.isArray(e[o])&&(s[o]=e[o].map(l=>l.text));return s}onDragStart(e,s){e.dataTransfer?.setData("column",s.text)}onDragOver(e){e.preventDefault()}onDropFile(e){if(e.preventDefault(),e.dataTransfer?.files.length){let s=e.dataTransfer.files[0];this.onCSVFileChange({target:{files:[s]}})}}quitarElemento(e,s){this.mappedColumns[s]&&this.mappedColumns[s].splice(e,1)}onDrop(e,s){e.preventDefault();let o=e.dataTransfer?.getData("column")??"";if(o){let l=this.mappedColumns[s]??[],h=this.jsonContent[0][o],u={isNew:!1,text:o,value:h};l.push(u),this.mappedColumns[s]=l,this.refreshReport()}}onCSVFileChange(e){let s=e.target.files[0];s&&(this.fileExportCSV=s.name.split(".")[0]+"_coords.csv",this.atributesFromCSV=[],this.mappedColumns={[this.ADDRESS]:[]},this.csvJson={},this.jsonContent=[],this.report={},this.readyReport=!1,this.newColumnCSVText="",Lu.default.parse(s,{complete:o=>{let l=o.data,h=l[0];this.jsonContent=l,Object.keys(h).forEach(u=>{if(u.trim()){let p={text:u.trim(),isNew:!1,value:l[1][u]};this.atributesFromCSV.push(p)}}),this.readFormatJSON(o.data)},header:!0,skipEmptyLines:!0}),document.getElementById("step2")?.classList.remove("disabled"))}readFormatJSON(e){this.csvJson=e}isAtributesFromCSV(e){for(let s of this.atributesFromCSV)if(s.text==e&&s.isNew)return!0;return!1}transformCSVReport(e,s){let o={};for(let l in s)o[l]=e.map(h=>s[l].map(u=>this.isAtributesFromCSV(u)?u:h[u]?.trim()).join(" "));return o}agregarAtributo(){this.newUserAtribute!==""&&Object.keys(this.mappedColumns).indexOf(this.newUserAtribute)==-1&&(this.mappedColumns[this.newUserAtribute]=[],this.newUserAtribute="")}getPaginatedReportRows(){return(this.reportCurrentPage-1)*this.reportPageSize+this.reportPageSize}previousReportPage(){this.reportCurrentPage>1&&this.reportCurrentPage--}nextReportPage(){let e=Math.ceil(this.getRowCount()/this.reportPageSize);this.reportCurrentPage<e&&this.reportCurrentPage++}getTotalReportPages(){return Math.ceil(this.getRowCount()/this.reportPageSize)}static{this.\u0275fac=function(s){return new(s||i)(xt(yu),xt(me))}}static{this.\u0275cmp=oe({type:i,selectors:[["app-uploaddress"]],viewQuery:function(s,o){if(s&1&&qr(pv,5),s&2){let l;Bn(l=jn())&&(o.fileInput=l.first)}},hostBindings:function(s,o){s&1&&Ft("mousemove",function(h){return o.onMouseMove(h)},!1,Vo)("mouseup",function(){return o.onMouseUp()},!1,Vo)},decls:47,vars:18,consts:[["fileInput",""],["id","container"],["id","A"],[1,"col-md-12"],[1,"card-title"],[1,"file-drop-area","card",3,"dragover","dragleave","drop","click"],["type","file","hidden","","accept",".csv",3,"change"],[1,"upload-text","shakeItem"],["id","step2",1,"card-body","disabled"],[1,"row"],[1,"col-md-3"],[1,"destacado",3,"click"],[1,"mb-3"],[1,"input-group"],["type","text","id","newColumn","placeholder","Ingrese nombre de la columna",1,"form-control",3,"ngModelChange","ngModel"],["id","addColumnButton","title","Agrega un valor por defecto",1,"btn","btn-primary","no-select",3,"click"],["id","csvColumns",1,"drag-area","workplace"],["draggable","true",3,"title","ngClass","dragstart",4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"destacado"],["id","addressMapping",1,"scrollable-address_format","workplace"],["class","mb-3",4,"ngIf"],["type","text","id","newColumn","placeholder","Inserte el nombre de columna(s) existente(s)  cree columna(s) nueva(s)",1,"form-control",3,"ngModelChange","ngModel"],["id","addColumnButton",1,"btn","btn-primary","no-select",3,"click"],["class","mb-3",4,"ngFor","ngForOf"],["id","saveButton",1,"btn","btn-success","mt-3",3,"click"],[1,"resizer",3,"mousedown"],["id","B"],[3,"readyReport","status","report","fileExportCSV","showMapa","locations","reportPageSize","reportCurrentPage","ADDRESS"],["class","confirmation-popup",4,"ngIf"],["draggable","true",3,"dragstart","title","ngClass"],["style","background-color:#eeff00",4,"ngFor","ngForOf"],[1,"drop-area",3,"dragover","drop","lang"],["class","no-select drag-item-seted",3,"title","dblclick",4,"ngFor","ngForOf"],[2,"background-color","#eeff00"],[1,"no-select","drag-item-seted",3,"dblclick","title"],[4,"ngIf"],["class","fa-solid fa-trash close-btn",3,"title","click",4,"ngIf"],[1,"fa-solid","fa-trash","close-btn",3,"click","title"],[1,"confirmation-popup"],[1,"popup-content"],[1,"geoBoton",3,"click"]],template:function(s,o){if(s&1){let l=we();F(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),bt(4,"ADDRESSING Y GEOCODER WEMAPS"),V(),F(5,"div",5),Ft("dragover",function(u){return Et(l),Dt(o.onDropFile(u))})("dragleave",function(u){return Et(l),Dt(o.onDropFile(u))})("drop",function(u){return Et(l),Dt(o.onDropFile(u))})("click",function(){Et(l);let u=Uc(7);return Dt(u.click())}),F(6,"input",6,0),Ft("change",function(u){return Et(l),Dt(o.onCSVFileChange(u))}),V(),Nt(8,"h2",7),V()(),F(9,"span",8)(10,"div",9)(11,"div",10)(12,"strong",11),Ft("click",function(){return Et(l),Dt(o.dummi())}),bt(13,"Columnas de tu Archivo CSV"),V(),F(14,"div",12)(15,"div",13)(16,"input",14),$o("ngModelChange",function(u){return Et(l),Ho(o.newColumnCSVText,u)||(o.newColumnCSVText=u),Dt(u)}),V(),F(17,"button",15),Ft("click",function(){return Et(l),Dt(o.onAddColumn())}),bt(18,"+"),V()()(),F(19,"div",16),Gt(20,gv,2,6,"div",17),V()(),F(21,"div",18)(22,"strong",19),bt(23,"Columnas/Atributos del Reporte de Salida:"),V(),Nt(24,"br"),F(25,"div",20)(26,"strong",19),bt(27,"1\xB0 Arme la Direcci\xF3n a mapear:"),V(),Gt(28,yv,7,4,"div",21),Nt(29,"hr"),F(30,"div",12)(31,"strong",19),bt(32,"2\xB0 Agregue Columnas/Atributos a su Reporte (Opcional)"),V(),Nt(33,"br"),F(34,"div",13)(35,"input",22),$o("ngModelChange",function(u){return Et(l),Ho(o.newUserAtribute,u)||(o.newUserAtribute=u),Dt(u)}),V(),F(36,"button",23),Ft("click",function(){return Et(l),Dt(o.agregarAtributo())}),bt(37,"+"),V()()(),Gt(38,Dv,2,1,"div",24),Wc(39,"keyvalue"),V(),Nt(40,"br"),F(41,"button",25),Ft("click",function(){return Et(l),Dt(o.sendReportToServer())}),bt(42,"\u{1F4CD} 3\xB0 Mapear CSV"),V()()()()(),F(43,"div",26),Ft("mousedown",function(u){return Et(l),Dt(o.startResize(u))}),V(),F(44,"div",27),Nt(45,"wemaps-report",28),V()(),Gt(46,Sv,9,1,"div",29)}s&2&&(K(16),Zo("ngModel",o.newColumnCSVText),K(4),pt("ngForOf",o.atributesFromCSV),K(8),pt("ngIf",o.mappedColumns[o.ADDRESS]),K(7),Zo("ngModel",o.newUserAtribute),K(3),pt("ngForOf",Gc(39,15,o.mappedColumns,o.ordenarClaves)),K(7),pt("readyReport",o.readyReport)("status",o.status)("report",o.report)("fileExportCSV",o.fileExportCSV)("showMapa",o.showMapa)("locations",o.locations)("reportPageSize",o.reportPageSize)("reportCurrentPage",o.reportCurrentPage)("ADDRESS",o.ADDRESS),K(),pt("ngIf",o.showConfirmDelete))},dependencies:[sh,ns,rs,Vs,Vd,il,Ou,oh],styles:[".destacado[_ngcontent-%COMP%]{font-size:large;font-family:Trebuchet MS,sans-serif;font-weight:700}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(0)}25%{transform:translate(-5px)}50%{transform:translate(5px)}75%{transform:translate(-5px)}to{transform:translate(0)}}.shakeItem[_ngcontent-%COMP%]{display:inline-block;transition:transform .3s ease-in-out}.shakeItem[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_shake .3s ease-in-out}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.file-drop-area[_ngcontent-%COMP%]{background-image:url(/assets/img/load.jpg);background-size:cover;background-position:center;width:100%;height:150px;border:2px dashed #ccc;border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer;background-color:#f8f9fa;position:relative}.file-drop-area[_ngcontent-%COMP%]:hover{border-color:#007bff}.upload-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#025321;font-size:16px;text-shadow:1px 1px 2px rgba(0,0,0,.7);z-index:100;pointer-events:none}.upload-wrapper[_ngcontent-%COMP%]{position:relative;max-width:100%;min-height:120px;max-height:220px;background-image:url(/assets/img/uploadcsv.png);background-repeat:repeat}.upload-icon[_ngcontent-%COMP%]{opacity:0;max-width:100%;min-height:120px;max-height:220px}.message[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(145deg,#fff,#d9e8f6);border-radius:10px;font-size:16px;font-weight:700;text-align:center;max-width:400px;width:80%}.success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.error[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.drop-area.drag-over[_ngcontent-%COMP%]{border-color:#007bff;background-color:#cce5ff}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5;-webkit-user-select:none;user-select:none}#json-output[_ngcontent-%COMP%]{background-color:#2e2e2e;color:#f5f5f5;font-family:Courier New,Courier,monospace;padding:20px;border-radius:5px;border:1px solid #444;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;font-size:12px;box-shadow:0 0 10px #00000080}#json-output[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#fc0}.scrollable-address_format[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;border:1px solid #ccc;padding:10px;background-color:#f9f9f9;border-radius:5px}.drag-area[_ngcontent-%COMP%]{border:2px dashed #012c03;padding:10px;border-radius:5px;min-height:100px;background-color:#cfeecc}.no-select[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.drag-item[_ngcontent-%COMP%]{background:linear-gradient(145deg,#e2e8f0,#cbd5e0);border:1px solid #6c757d;padding:6px 12px;margin:5px;border-radius:5px;cursor:grab;display:inline-block}.drag-item-seted[_ngcontent-%COMP%]{background:linear-gradient(145deg,#edf7b4,#daf1a6);border:1px solid #6c757d;padding:6px 12px;margin:5px;border-radius:5px;cursor:grab;display:inline-block}.isNew[_ngcontent-%COMP%]{background:linear-gradient(to right,#aca,#cfc);padding:5px;border-radius:4px}.drop-area[_ngcontent-%COMP%]{border:2px solid #ccc;padding:10px;min-height:50px;background-color:#eaf4fc;display:flex;flex-wrap:wrap;gap:5px}.drop-area[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);cursor:pointer;font-size:14px;color:red}.close-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:red}.confirmation-popup[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0000001a;text-align:center}.popup-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;padding:5px 15px;cursor:pointer}.popup-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#f44;color:#fff}.popup-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#ccc}.workplace[_ngcontent-%COMP%]{max-height:600px;overflow-y:scroll}.workplace[_ngcontent-%COMP%]::-webkit-scrollbar{width:14px;height:14px}.workplace[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#007bff;border-radius:10px}.workplace[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e0e0e0;border-radius:10px}[_nghost-%COMP%]{display:block;height:100vh;width:100%;overflow:hidden}#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}#A[_ngcontent-%COMP%], #B[_ngcontent-%COMP%]{width:100%;padding-left:10px;padding-right:10px;overflow:auto;overflow-x:hidden;overflow-y:auto}#A[_ngcontent-%COMP%]{height:80%;background:#f0f0f0}#B[_ngcontent-%COMP%]{height:20%;background:#e0e0e0}.resizer[_ngcontent-%COMP%]{width:100%;height:12px;background:#1bf89c;cursor:ns-resize}.resizer[_ngcontent-%COMP%]:hover{background:#888}"]})}}return i})();var Iv=[{path:"",redirectTo:"csv",pathMatch:"full"},{path:"csv",component:Nu}],Fu=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i})}static{this.\u0275inj=Mt({imports:[Ya.forRoot(Iv),Ya]})}}return i})();var Tv="@",Mv=(()=>{class i{constructor(e,s,o,l,h){this.doc=e,this.delegate=s,this.zone=o,this.animationType=l,this.moduleImpl=h,this._rendererFactoryPromise=null,this.scheduler=R(zc,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-FTRYUWKM.js")).catch(s=>{throw new Vt(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc,this.scheduler);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,s){let o=this.delegate.createRenderer(e,s);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new wl(o);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let u=h.createRenderer(e,s);l.use(u)}).catch(h=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){Zr()}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac})}}return i})(),wl=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,s,o){this.delegate.insertBefore(n,e,s,o)}removeChild(n,e,s){this.delegate.removeChild(n,e,s)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,s,o){this.delegate.setAttribute(n,e,s,o)}removeAttribute(n,e,s){this.delegate.removeAttribute(n,e,s)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,s,o){this.delegate.setStyle(n,e,s,o)}removeStyle(n,e,s){this.delegate.removeStyle(n,e,s)}setProperty(n,e,s){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(n,e,s)),this.delegate.setProperty(n,e,s)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,s){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(n,e,s)),this.delegate.listen(n,e,s)}shouldReplay(n){return this.replay!==null&&n.startsWith(Tv)}};function Vu(i="animations"){return zo("NgAsyncAnimations"),Qi([{provide:Hr,useFactory:(n,e,s)=>new Mv(n,e,s,i),deps:[zt,ps,St]},{provide:Nn,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var zu=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Pt({type:i,bootstrap:[wd]})}static{this.\u0275inj=Mt({providers:[{provide:Iu,useValue:"es-CL"},{provide:Un,useClass:es},Vu()],imports:[Ph,Pu,Ch,Fu,jd,Ud,_u]})}}return i})();Mh().bootstrapModule(zu).catch(i=>console.error(i));
